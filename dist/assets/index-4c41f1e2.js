function Xf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Hc={exports:{}},Ci={},Kc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),sp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),up=Symbol.for("react.lazy"),su=Symbol.iterator;function cp(e){return e===null||typeof e!="object"?null:(e=su&&e[su]||e["@@iterator"],typeof e=="function"?e:null)}var qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gc=Object.assign,Qc={};function an(e,t,r){this.props=e,this.context=t,this.refs=Qc,this.updater=r||qc}an.prototype.isReactComponent={};an.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};an.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jc(){}Jc.prototype=an.prototype;function Vl(e,t,r){this.props=e,this.context=t,this.refs=Qc,this.updater=r||qc}var Wl=Vl.prototype=new Jc;Wl.constructor=Vl;Gc(Wl,an.prototype);Wl.isPureReactComponent=!0;var iu=Array.isArray,Xc=Object.prototype.hasOwnProperty,Hl={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Xc.call(t,n)&&!Yc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:cs,type:e,key:i,ref:a,props:s,_owner:Hl.current}}function dp(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var au=/\/+/g;function ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):t.toString(36)}function zs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case cs:case ep:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ta(a,0):n,iu(s)?(r="",e!=null&&(r=e.replace(au,"$&/")+"/"),zs(s,t,r,"",function(c){return c})):s!=null&&(Kl(s)&&(s=dp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(au,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",iu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+ta(i,o);a+=zs(i,t,r,u,s)}else if(u=cp(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+ta(i,o++),a+=zs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ws(e,t,r){if(e==null)return e;var n=[],s=0;return zs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Fs={transition:null},pp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Hl};function ed(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ws,forEach:function(e,t,r){ws(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=an;W.Fragment=tp;W.Profiler=np;W.PureComponent=Vl;W.StrictMode=rp;W.Suspense=lp;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pp;W.act=ed;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Hl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Xc.call(t,u)&&!Yc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:cs,type:e.type,key:s,ref:i,props:n,_owner:a}};W.createContext=function(e){return e={$$typeof:ip,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sp,_context:e},e.Consumer=e};W.createElement=Zc;W.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:ap,render:e}};W.isValidElement=Kl;W.lazy=function(e){return{$$typeof:up,_payload:{_status:-1,_result:e},_init:fp}};W.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};W.unstable_act=ed;W.useCallback=function(e,t){return Pe.current.useCallback(e,t)};W.useContext=function(e){return Pe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Pe.current.useEffect(e,t)};W.useId=function(){return Pe.current.useId()};W.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Pe.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};W.useRef=function(e){return Pe.current.useRef(e)};W.useState=function(e){return Pe.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Pe.current.useTransition()};W.version="18.3.1";Kc.exports=W;var _=Kc.exports;const Ue=Yf(_),mp=Xf({__proto__:null,default:Ue},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=_,vp=Symbol.for("react.element"),yp=Symbol.for("react.fragment"),xp=Object.prototype.hasOwnProperty,wp=gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kp={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)xp.call(t,n)&&!kp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:vp,type:e,key:i,ref:a,props:s,_owner:wp.current}}Ci.Fragment=yp;Ci.jsx=td;Ci.jsxs=td;Hc.exports=Ci;var l=Hc.exports,La={},rd={exports:{}},Ve={},nd={exports:{}},sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var D=T.length;T.push(I);e:for(;0<D;){var Q=D-1>>>1,re=T[Q];if(0<s(re,I))T[Q]=I,T[D]=re,D=Q;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],D=T.pop();if(D!==I){T[0]=D;e:for(var Q=0,re=T.length,ht=re>>>1;Q<ht;){var $=2*(Q+1)-1,Y=T[$],G=$+1,ie=T[G];if(0>s(Y,D))G<re&&0>s(ie,Y)?(T[Q]=ie,T[G]=D,Q=G):(T[Q]=Y,T[$]=D,Q=$);else if(G<re&&0>s(ie,D))T[Q]=ie,T[G]=D,Q=G;else break e}}return I}function s(T,I){var D=T.sortIndex-I.sortIndex;return D!==0?D:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,y=!1,v=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=T)n(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(c)}}function w(T){if(k=!1,m(T),!v)if(r(u)!==null)v=!0,q(N);else{var I=r(c);I!==null&&H(w,I.startTime-T)}}function N(T,I){v=!1,k&&(k=!1,g(E),E=-1),y=!0;var D=f;try{for(m(I),h=r(u);h!==null&&(!(h.expirationTime>I)||T&&!L());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var re=Q(h.expirationTime<=I);I=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(u)&&n(u),m(I)}else n(u);h=r(u)}if(h!==null)var ht=!0;else{var $=r(c);$!==null&&H(w,$.startTime-I),ht=!1}return ht}finally{h=null,f=D,y=!1}}var S=!1,b=null,E=-1,O=5,C=-1;function L(){return!(e.unstable_now()-C<O)}function j(){if(b!==null){var T=e.unstable_now();C=T;var I=!0;try{I=b(!0,T)}finally{I?P():(S=!1,b=null)}}else S=!1}var P;if(typeof p=="function")P=function(){p(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=j,P=function(){B.postMessage(null)}}else P=function(){x(j,0)};function q(T){b=T,S||(S=!0,P())}function H(T,I){E=x(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,q(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var D=f;f=I;try{return T()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=f;f=T;try{return I()}finally{f=D}},e.unstable_scheduleCallback=function(T,I,D){var Q=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Q+D:Q):D=Q,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=D+re,T={id:d++,callback:I,priorityLevel:T,startTime:D,expirationTime:re,sortIndex:-1},D>Q?(T.sortIndex=D,t(c,T),r(u)===null&&T===r(c)&&(k?(g(E),E=-1):k=!0,H(w,D-Q))):(T.sortIndex=re,t(u,T),v||y||(v=!0,q(N))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var I=f;return function(){var D=f;f=I;try{return T.apply(this,arguments)}finally{f=D}}}})(sd);nd.exports=sd;var bp=nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=_,Fe=bp;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var id=new Set,Bn={};function xr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(Bn[e]=t,e=0;e<t.length;e++)id.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=Object.prototype.hasOwnProperty,jp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lu={},ou={};function Sp(e){return Ma.call(ou,e)?!0:Ma.call(lu,e)?!1:jp.test(e)?ou[e]=!0:(lu[e]=!0,!1)}function Np(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ep(e,t,r,n){if(t===null||typeof t>"u"||Np(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Gl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ql,Gl);ke[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ql,Gl);ke[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ql,Gl);ke[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ql(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ep(t,r,s,n)&&(r=null),n||s===null?Sp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nt=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Jl=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),ld=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),Ba=Symbol.for("react.suspense"),za=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),od=Symbol.for("react.offscreen"),uu=Symbol.iterator;function pn(e){return e===null||typeof e!="object"?null:(e=uu&&e[uu]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,ra;function _n(e){if(ra===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ra=t&&t[1]||""}return`
`+ra+e}var na=!1;function sa(e,t){if(!e||na)return"";na=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{na=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function Cp(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function Fa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case Ar:return"Portal";case Ua:return"Profiler";case Jl:return"StrictMode";case Ba:return"Suspense";case za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ld:return(e.displayName||"Context")+".Consumer";case ad:return(e._context.displayName||"Context")+".Provider";case Xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Fa(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Fa(e(t))}catch{}}return null}function Pp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fa(t);case 8:return t===Jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tp(e){var t=ud(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=Tp(e))}function cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ud(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Va(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dd(e,t){t=t.checked,t!=null&&Ql(e,"checked",t,!1)}function Wa(e,t){dd(e,t);var r=Gt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ha(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ha(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function du(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ha(e,t,r){(t!=="number"||Zs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jn=Array.isArray;function Vr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(jn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function hd(e,t){var r=Gt(t.value),n=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,pd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ap=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(e){Ap.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pn[t]=Pn[e]})});function md(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pn.hasOwnProperty(e)&&Pn[e]?(""+t).trim():t+"px"}function gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=md(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Op=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(e,t){if(t){if(Op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Qa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Wr=null,Hr=null;function pu(e){if(e=fs(e)){if(typeof Xa!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ii(t),Xa(e.stateNode,e.type,t))}}function vd(e){Wr?Hr?Hr.push(e):Hr=[e]:Wr=e}function yd(){if(Wr){var e=Wr,t=Hr;if(Hr=Wr=null,pu(e),t)for(e=0;e<t.length;e++)pu(t[e])}}function xd(e,t){return e(t)}function wd(){}var ia=!1;function kd(e,t,r){if(ia)return e(t,r);ia=!0;try{return xd(e,t,r)}finally{ia=!1,(Wr!==null||Hr!==null)&&(wd(),yd())}}function Fn(e,t){var r=e.stateNode;if(r===null)return null;var n=Ii(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Ya=!1;if(kt)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ya=!1}function Ip(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Tn=!1,ei=null,ti=!1,Za=null,Rp={onError:function(e){Tn=!0,ei=e}};function $p(e,t,r,n,s,i,a,o,u){Tn=!1,ei=null,Ip.apply(Rp,arguments)}function Dp(e,t,r,n,s,i,a,o,u){if($p.apply(this,arguments),Tn){if(Tn){var c=ei;Tn=!1,ei=null}else throw Error(A(198));ti||(ti=!0,Za=c)}}function wr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mu(e){if(wr(e)!==e)throw Error(A(188))}function Lp(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return mu(s),e;if(i===n)return mu(s),t;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function _d(e){return e=Lp(e),e!==null?jd(e):null}function jd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jd(e);if(t!==null)return t;e=e.sibling}return null}var Sd=Fe.unstable_scheduleCallback,gu=Fe.unstable_cancelCallback,Mp=Fe.unstable_shouldYield,Up=Fe.unstable_requestPaint,de=Fe.unstable_now,Bp=Fe.unstable_getCurrentPriorityLevel,eo=Fe.unstable_ImmediatePriority,Nd=Fe.unstable_UserBlockingPriority,ri=Fe.unstable_NormalPriority,zp=Fe.unstable_LowPriority,Ed=Fe.unstable_IdlePriority,Pi=null,ct=null;function Fp(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Hp,Vp=Math.log,Wp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Vp(e)/Wp|0)|0}var js=64,Ss=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Sn(o):(i&=a,i!==0&&(n=Sn(i)))}else a=r&~s,a!==0?n=Sn(a):i!==0&&(n=Sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function Kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-st(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Kp(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function el(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cd(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function aa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ds(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function Gp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function to(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var X=0;function Pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Td,ro,Ad,Od,Id,tl=!1,Ns=[],Ut=null,Bt=null,zt=null,Vn=new Map,Wn=new Map,It=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(t.pointerId)}}function gn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fs(t),t!==null&&ro(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jp(e,t,r,n,s){switch(t){case"focusin":return Ut=gn(Ut,e,t,r,n,s),!0;case"dragenter":return Bt=gn(Bt,e,t,r,n,s),!0;case"mouseover":return zt=gn(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Vn.set(i,gn(Vn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Wn.set(i,gn(Wn.get(i)||null,e,t,r,n,s)),!0}return!1}function Rd(e){var t=or(e.target);if(t!==null){var r=wr(t);if(r!==null){if(t=r.tag,t===13){if(t=bd(r),t!==null){e.blockedOn=t,Id(e.priority,function(){Ad(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ja=n,r.target.dispatchEvent(n),Ja=null}else return t=fs(r),t!==null&&ro(t),e.blockedOn=r,!1;t.shift()}return!0}function yu(e,t,r){Vs(e)&&r.delete(t)}function Xp(){tl=!1,Ut!==null&&Vs(Ut)&&(Ut=null),Bt!==null&&Vs(Bt)&&(Bt=null),zt!==null&&Vs(zt)&&(zt=null),Vn.forEach(yu),Wn.forEach(yu)}function vn(e,t){e.blockedOn===t&&(e.blockedOn=null,tl||(tl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Xp)))}function Hn(e){function t(s){return vn(s,e)}if(0<Ns.length){vn(Ns[0],e);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ut!==null&&vn(Ut,e),Bt!==null&&vn(Bt,e),zt!==null&&vn(zt,e),Vn.forEach(t),Wn.forEach(t),r=0;r<It.length;r++)n=It[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Rd(r),r.blockedOn===null&&It.shift()}var Kr=Nt.ReactCurrentBatchConfig,si=!0;function Yp(e,t,r,n){var s=X,i=Kr.transition;Kr.transition=null;try{X=1,no(e,t,r,n)}finally{X=s,Kr.transition=i}}function Zp(e,t,r,n){var s=X,i=Kr.transition;Kr.transition=null;try{X=4,no(e,t,r,n)}finally{X=s,Kr.transition=i}}function no(e,t,r,n){if(si){var s=rl(e,t,r,n);if(s===null)ga(e,t,n,ii,r),vu(e,n);else if(Jp(s,e,t,r,n))n.stopPropagation();else if(vu(e,n),t&4&&-1<Qp.indexOf(e)){for(;s!==null;){var i=fs(s);if(i!==null&&Td(i),i=rl(e,t,r,n),i===null&&ga(e,t,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ga(e,t,n,null,r)}}var ii=null;function rl(e,t,r,n){if(ii=null,e=Zl(n),e=or(e),e!==null)if(t=wr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function $d(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case eo:return 1;case Nd:return 4;case ri:case zp:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Dt=null,so=null,Ws=null;function Dd(){if(Ws)return Ws;var e,t=so,r=t.length,n,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ws=s.slice(e,1<n?1-n:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function xu(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:xu,this.isPropagationStopped=xu,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=We(ln),hs=ue({},ln,{view:0,detail:0}),em=We(hs),la,oa,yn,Ti=ue({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&e.type==="mousemove"?(la=e.screenX-yn.screenX,oa=e.screenY-yn.screenY):oa=la=0,yn=e),la)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),wu=We(Ti),tm=ue({},Ti,{dataTransfer:0}),rm=We(tm),nm=ue({},hs,{relatedTarget:0}),ua=We(nm),sm=ue({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),im=We(sm),am=ue({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lm=We(am),om=ue({},ln,{data:0}),ku=We(om),um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dm[e])?!!t[e]:!1}function ao(){return hm}var fm=ue({},hs,{key:function(e){if(e.key){var t=um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pm=We(fm),mm=ue({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=We(mm),gm=ue({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),vm=We(gm),ym=ue({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=We(ym),wm=ue({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),km=We(wm),bm=[9,13,27,32],lo=kt&&"CompositionEvent"in window,An=null;kt&&"documentMode"in document&&(An=document.documentMode);var _m=kt&&"TextEvent"in window&&!An,Ld=kt&&(!lo||An&&8<An&&11>=An),_u=String.fromCharCode(32),ju=!1;function Md(e,t){switch(e){case"keyup":return bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function jm(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(ju=!0,_u);case"textInput":return e=t.data,e===_u&&ju?null:e;default:return null}}function Sm(e,t){if(Ir)return e==="compositionend"||!lo&&Md(e,t)?(e=Dd(),Ws=so=Dt=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ld&&t.locale!=="ko"?null:t.data;default:return null}}var Nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nm[e.type]:t==="textarea"}function Bd(e,t,r,n){vd(n),t=ai(t,"onChange"),0<t.length&&(r=new io("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var On=null,Kn=null;function Em(e){Xd(e,0)}function Ai(e){var t=Dr(e);if(cd(t))return e}function Cm(e,t){if(e==="change")return t}var zd=!1;if(kt){var ca;if(kt){var da="oninput"in document;if(!da){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),da=typeof Nu.oninput=="function"}ca=da}else ca=!1;zd=ca&&(!document.documentMode||9<document.documentMode)}function Eu(){On&&(On.detachEvent("onpropertychange",Fd),Kn=On=null)}function Fd(e){if(e.propertyName==="value"&&Ai(Kn)){var t=[];Bd(t,Kn,e,Zl(e)),kd(Em,t)}}function Pm(e,t,r){e==="focusin"?(Eu(),On=t,Kn=r,On.attachEvent("onpropertychange",Fd)):e==="focusout"&&Eu()}function Tm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Kn)}function Am(e,t){if(e==="click")return Ai(t)}function Om(e,t){if(e==="input"||e==="change")return Ai(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Im;function qn(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ma.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var r=Cu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cu(r)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(){for(var e=window,t=Zs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Zs(e.document)}return t}function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rm(e){var t=Wd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vd(r.ownerDocument.documentElement,r)){if(n!==null&&oo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pu(r,i);var a=Pu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $m=kt&&"documentMode"in document&&11>=document.documentMode,Rr=null,nl=null,In=null,sl=!1;function Tu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||Rr==null||Rr!==Zs(n)||(n=Rr,"selectionStart"in n&&oo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&qn(In,n)||(In=n,n=ai(nl,"onSelect"),0<n.length&&(t=new io("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Rr)))}function Cs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},ha={},Hd={};kt&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Oi(e){if(ha[e])return ha[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hd)return ha[e]=t[r];return e}var Kd=Oi("animationend"),qd=Oi("animationiteration"),Gd=Oi("animationstart"),Qd=Oi("transitionend"),Jd=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Jd.set(e,t),xr(t,[e])}for(var fa=0;fa<Au.length;fa++){var pa=Au[fa],Dm=pa.toLowerCase(),Lm=pa[0].toUpperCase()+pa.slice(1);Xt(Dm,"on"+Lm)}Xt(Kd,"onAnimationEnd");Xt(qd,"onAnimationIteration");Xt(Gd,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Qd,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Ou(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Dp(n,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Ou(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Ou(s,o,c),i=u}}}if(ti)throw e=Za,ti=!1,Za=null,e}function ne(e,t){var r=t[ul];r===void 0&&(r=t[ul]=new Set);var n=e+"__bubble";r.has(n)||(Yd(t,e,2,!1),r.add(n))}function ma(e,t,r){var n=0;t&&(n|=4),Yd(r,e,n,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Ps]){e[Ps]=!0,id.forEach(function(r){r!=="selectionchange"&&(Mm.has(r)||ma(r,!1,e),ma(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,ma("selectionchange",!1,t))}}function Yd(e,t,r,n){switch($d(t)){case 1:var s=Yp;break;case 4:s=Zp;break;default:s=no}r=s.bind(null,t,r,e),s=void 0,!Ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ga(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=or(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}kd(function(){var c=i,d=Zl(r),h=[];e:{var f=Jd.get(e);if(f!==void 0){var y=io,v=e;switch(e){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":y=pm;break;case"focusin":v="focus",y=ua;break;case"focusout":v="blur",y=ua;break;case"beforeblur":case"afterblur":y=ua;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=vm;break;case Kd:case qd:case Gd:y=im;break;case Qd:y=xm;break;case"scroll":y=em;break;case"wheel":y=km;break;case"copy":case"cut":case"paste":y=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bu}var k=(t&4)!==0,x=!k&&e==="scroll",g=k?f!==null?f+"Capture":null:f;k=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Fn(p,g),w!=null&&k.push(Qn(p,w,m)))),x)break;p=p.return}0<k.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Ja&&(v=r.relatedTarget||r.fromElement)&&(or(v)||v[bt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?or(v):null,v!==null&&(x=wr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(k=wu,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=bu,w="onPointerLeave",g="onPointerEnter",p="pointer"),x=y==null?f:Dr(y),m=v==null?f:Dr(v),f=new k(w,p+"leave",y,r,d),f.target=x,f.relatedTarget=m,w=null,or(d)===c&&(k=new k(g,p+"enter",v,r,d),k.target=m,k.relatedTarget=x,w=k),x=w,y&&v)t:{for(k=y,g=v,p=0,m=k;m;m=_r(m))p++;for(m=0,w=g;w;w=_r(w))m++;for(;0<p-m;)k=_r(k),p--;for(;0<m-p;)g=_r(g),m--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=_r(k),g=_r(g)}k=null}else k=null;y!==null&&Iu(h,f,y,k,!1),v!==null&&x!==null&&Iu(h,x,v,k,!0)}}e:{if(f=c?Dr(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var N=Cm;else if(Su(f))if(zd)N=Om;else{N=Tm;var S=Pm}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Am);if(N&&(N=N(e,c))){Bd(h,N,r,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ha(f,"number",f.value)}switch(S=c?Dr(c):window,e){case"focusin":(Su(S)||S.contentEditable==="true")&&(Rr=S,nl=c,In=null);break;case"focusout":In=nl=Rr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Tu(h,r,d);break;case"selectionchange":if($m)break;case"keydown":case"keyup":Tu(h,r,d)}var b;if(lo)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ir?Md(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Ld&&r.locale!=="ko"&&(Ir||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ir&&(b=Dd()):(Dt=d,so="value"in Dt?Dt.value:Dt.textContent,Ir=!0)),S=ai(c,E),0<S.length&&(E=new ku(E,e,null,r,d),h.push({event:E,listeners:S}),b?E.data=b:(b=Ud(r),b!==null&&(E.data=b)))),(b=_m?jm(e,r):Sm(e,r))&&(c=ai(c,"onBeforeInput"),0<c.length&&(d=new ku("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=b))}Xd(h,t)})}function Qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ai(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fn(e,r),i!=null&&n.unshift(Qn(e,i,s)),i=Fn(e,t),i!=null&&n.push(Qn(e,i,s))),e=e.return}return n}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=Fn(r,i),u!=null&&a.unshift(Qn(r,u,o))):s||(u=Fn(r,i),u!=null&&a.push(Qn(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Um=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace(Um,`
`).replace(Bm,"")}function Ts(e,t,r){if(t=Ru(t),Ru(e)!==t&&r)throw Error(A(425))}function li(){}var il=null,al=null;function ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,zm=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,Fm=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(e){return $u.resolve(null).then(e).catch(Vm)}:ol;function Vm(e){setTimeout(function(){throw e})}function va(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hn(t)}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),ut="__reactFiber$"+on,Jn="__reactProps$"+on,bt="__reactContainer$"+on,ul="__reactEvents$"+on,Wm="__reactListeners$"+on,Hm="__reactHandles$"+on;function or(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Du(e);e!==null;){if(r=e[ut])return r;e=Du(e)}return t}e=r,r=e.parentNode}return null}function fs(e){return e=e[ut]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ii(e){return e[Jn]||null}var cl=[],Lr=-1;function Yt(e){return{current:e}}function se(e){0>Lr||(e.current=cl[Lr],cl[Lr]=null,Lr--)}function te(e,t){Lr++,cl[Lr]=e.current,e.current=t}var Qt={},Ne=Yt(Qt),$e=Yt(!1),pr=Qt;function Jr(e,t){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function oi(){se($e),se(Ne)}function Lu(e,t,r){if(Ne.current!==Qt)throw Error(A(168));te(Ne,t),te($e,r)}function Zd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,Pp(e)||"Unknown",s));return ue({},r,n)}function ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,pr=Ne.current,te(Ne,e),te($e,$e.current),!0}function Mu(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Zd(e,t,pr),n.__reactInternalMemoizedMergedChildContext=e,se($e),se(Ne),te(Ne,e)):se($e),te($e,r)}var vt=null,Ri=!1,ya=!1;function eh(e){vt===null?vt=[e]:vt.push(e)}function Km(e){Ri=!0,eh(e)}function Zt(){if(!ya&&vt!==null){ya=!0;var e=0,t=X;try{var r=vt;for(X=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Ri=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Sd(eo,Zt),s}finally{X=t,ya=!1}}return null}var Mr=[],Ur=0,ci=null,di=0,He=[],Ke=0,mr=null,yt=1,xt="";function nr(e,t){Mr[Ur++]=di,Mr[Ur++]=ci,ci=e,di=t}function th(e,t,r){He[Ke++]=yt,He[Ke++]=xt,He[Ke++]=mr,mr=e;var n=yt;e=xt;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,yt=1<<32-st(t)+s|r<<s|n,xt=i+e}else yt=1<<i|r<<s|n,xt=e}function uo(e){e.return!==null&&(nr(e,1),th(e,1,0))}function co(e){for(;e===ci;)ci=Mr[--Ur],Mr[Ur]=null,di=Mr[--Ur],Mr[Ur]=null;for(;e===mr;)mr=He[--Ke],He[Ke]=null,xt=He[--Ke],He[Ke]=null,yt=He[--Ke],He[Ke]=null}var ze=null,Be=null,ae=!1,nt=null;function rh(e,t){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Be=Ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:yt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ze=e,Be=null,!0):!1;default:return!1}}function dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hl(e){if(ae){var t=Be;if(t){var r=t;if(!Uu(e,t)){if(dl(e))throw Error(A(418));t=Ft(r.nextSibling);var n=ze;t&&Uu(e,t)?rh(n,r):(e.flags=e.flags&-4097|2,ae=!1,ze=e)}}else{if(dl(e))throw Error(A(418));e.flags=e.flags&-4097|2,ae=!1,ze=e}}}function Bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function As(e){if(e!==ze)return!1;if(!ae)return Bu(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ll(e.type,e.memoizedProps)),t&&(t=Be)){if(dl(e))throw nh(),Error(A(418));for(;t;)rh(e,t),t=Ft(t.nextSibling)}if(Bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Be=Ft(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=ze?Ft(e.stateNode.nextSibling):null;return!0}function nh(){for(var e=Be;e;)e=Ft(e.nextSibling)}function Xr(){Be=ze=null,ae=!1}function ho(e){nt===null?nt=[e]:nt.push(e)}var qm=Nt.ReactCurrentBatchConfig;function xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zu(e){var t=e._init;return t(e._payload)}function sh(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Kt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,w){return p===null||p.tag!==6?(p=Sa(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function u(g,p,m,w){var N=m.type;return N===Or?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===At&&zu(N)===p.type)?(w=s(p,m.props),w.ref=xn(g,p,m),w.return=g,w):(w=Ys(m.type,m.key,m.props,null,g.mode,w),w.ref=xn(g,p,m),w.return=g,w)}function c(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Na(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,N){return p===null||p.tag!==7?(p=hr(m,g.mode,w,N),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Sa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return m=Ys(p.type,p.key,p.props,null,g.mode,m),m.ref=xn(g,null,p),m.return=g,m;case Ar:return p=Na(p,g.mode,m),p.return=g,p;case At:var w=p._init;return h(g,w(p._payload),m)}if(jn(p)||pn(p))return p=hr(p,g.mode,m,null),p.return=g,p;Os(g,p)}return null}function f(g,p,m,w){var N=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:o(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:return m.key===N?u(g,p,m,w):null;case Ar:return m.key===N?c(g,p,m,w):null;case At:return N=m._init,f(g,p,N(m._payload),w)}if(jn(m)||pn(m))return N!==null?null:d(g,p,m,w,null);Os(g,m)}return null}function y(g,p,m,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,o(p,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ks:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,N);case Ar:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,N);case At:var S=w._init;return y(g,p,m,S(w._payload),N)}if(jn(w)||pn(w))return g=g.get(m)||null,d(p,g,w,N,null);Os(p,w)}return null}function v(g,p,m,w){for(var N=null,S=null,b=p,E=p=0,O=null;b!==null&&E<m.length;E++){b.index>E?(O=b,b=null):O=b.sibling;var C=f(g,b,m[E],w);if(C===null){b===null&&(b=O);break}e&&b&&C.alternate===null&&t(g,b),p=i(C,p,E),S===null?N=C:S.sibling=C,S=C,b=O}if(E===m.length)return r(g,b),ae&&nr(g,E),N;if(b===null){for(;E<m.length;E++)b=h(g,m[E],w),b!==null&&(p=i(b,p,E),S===null?N=b:S.sibling=b,S=b);return ae&&nr(g,E),N}for(b=n(g,b);E<m.length;E++)O=y(b,g,E,m[E],w),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?E:O.key),p=i(O,p,E),S===null?N=O:S.sibling=O,S=O);return e&&b.forEach(function(L){return t(g,L)}),ae&&nr(g,E),N}function k(g,p,m,w){var N=pn(m);if(typeof N!="function")throw Error(A(150));if(m=N.call(m),m==null)throw Error(A(151));for(var S=N=null,b=p,E=p=0,O=null,C=m.next();b!==null&&!C.done;E++,C=m.next()){b.index>E?(O=b,b=null):O=b.sibling;var L=f(g,b,C.value,w);if(L===null){b===null&&(b=O);break}e&&b&&L.alternate===null&&t(g,b),p=i(L,p,E),S===null?N=L:S.sibling=L,S=L,b=O}if(C.done)return r(g,b),ae&&nr(g,E),N;if(b===null){for(;!C.done;E++,C=m.next())C=h(g,C.value,w),C!==null&&(p=i(C,p,E),S===null?N=C:S.sibling=C,S=C);return ae&&nr(g,E),N}for(b=n(g,b);!C.done;E++,C=m.next())C=y(b,g,E,C.value,w),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?E:C.key),p=i(C,p,E),S===null?N=C:S.sibling=C,S=C);return e&&b.forEach(function(j){return t(g,j)}),ae&&nr(g,E),N}function x(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===Or&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:e:{for(var N=m.key,S=p;S!==null;){if(S.key===N){if(N=m.type,N===Or){if(S.tag===7){r(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===At&&zu(N)===S.type){r(g,S.sibling),p=s(S,m.props),p.ref=xn(g,S,m),p.return=g,g=p;break e}r(g,S);break}else t(g,S);S=S.sibling}m.type===Or?(p=hr(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=Ys(m.type,m.key,m.props,null,g.mode,w),w.ref=xn(g,p,m),w.return=g,g=w)}return a(g);case Ar:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Na(m,g.mode,w),p.return=g,g=p}return a(g);case At:return S=m._init,x(g,p,S(m._payload),w)}if(jn(m))return v(g,p,m,w);if(pn(m))return k(g,p,m,w);Os(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=Sa(m,g.mode,w),p.return=g,g=p),a(g)):r(g,p)}return x}var Yr=sh(!0),ih=sh(!1),hi=Yt(null),fi=null,Br=null,fo=null;function po(){fo=Br=fi=null}function mo(e){var t=hi.current;se(hi),e._currentValue=t}function fl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function qr(e,t){fi=e,fo=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(fo!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(fi===null)throw Error(A(308));Br=e,fi.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var ur=null;function go(e){ur===null?ur=[e]:ur.push(e)}function ah(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,go(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,go(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function Ks(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,to(e,r)}}function Fu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pi(e,t,r,n){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,k=o;switch(f=t,y=r,k.tag){case 1:if(v=k.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=ue({},h,f);break e;case 2:Ot=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vr|=a,e.lanes=a,e.memoizedState=h}}function Vu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var ps={},dt=Yt(ps),Xn=Yt(ps),Yn=Yt(ps);function cr(e){if(e===ps)throw Error(A(174));return e}function yo(e,t){switch(te(Yn,t),te(Xn,e),te(dt,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qa(t,e)}se(dt),te(dt,t)}function Zr(){se(dt),se(Xn),se(Yn)}function oh(e){cr(Yn.current);var t=cr(dt.current),r=qa(t,e.type);t!==r&&(te(Xn,e),te(dt,r))}function xo(e){Xn.current===e&&(se(dt),se(Xn))}var le=Yt(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=[];function wo(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var qs=Nt.ReactCurrentDispatcher,wa=Nt.ReactCurrentBatchConfig,gr=0,oe=null,fe=null,ve=null,gi=!1,Rn=!1,Zn=0,Gm=0;function be(){throw Error(A(321))}function ko(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!at(e[r],t[r]))return!1;return!0}function bo(e,t,r,n,s,i){if(gr=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Ym:Zm,e=r(n,s),Rn){i=0;do{if(Rn=!1,Zn=0,25<=i)throw Error(A(301));i+=1,ve=fe=null,t.updateQueue=null,qs.current=eg,e=r(n,s)}while(Rn)}if(qs.current=vi,t=fe!==null&&fe.next!==null,gr=0,ve=fe=oe=null,gi=!1,t)throw Error(A(300));return e}function _o(){var e=Zn!==0;return Zn=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function Xe(){if(fe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,fe=e;else{if(e===null)throw Error(A(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function es(e,t){return typeof t=="function"?t(e):t}function ka(e){var t=Xe(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((gr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,oe.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,at(n,t.memoizedState)||(Re=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,vr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ba(e){var t=Xe(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);at(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uh(){}function ch(e,t){var r=oe,n=Xe(),s=t(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,jo(fh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ts(9,hh.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(A(349));gr&30||dh(r,t,s)}return s}function dh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hh(e,t,r,n){t.value=r,t.getSnapshot=n,ph(t)&&mh(e)}function fh(e,t,r){return r(function(){ph(t)&&mh(e)})}function ph(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!at(e,r)}catch{return!0}}function mh(e){var t=_t(e,1);t!==null&&it(t,e,1,-1)}function Wu(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=Xm.bind(null,oe,e),[t.memoizedState,e]}function ts(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function gh(){return Xe().memoizedState}function Gs(e,t,r,n){var s=ot();oe.flags|=e,s.memoizedState=ts(1|t,r,void 0,n===void 0?null:n)}function $i(e,t,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,n!==null&&ko(n,a.deps)){s.memoizedState=ts(t,r,i,n);return}}oe.flags|=e,s.memoizedState=ts(1|t,r,i,n)}function Hu(e,t){return Gs(8390656,8,e,t)}function jo(e,t){return $i(2048,8,e,t)}function vh(e,t){return $i(4,2,e,t)}function yh(e,t){return $i(4,4,e,t)}function xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,r){return r=r!=null?r.concat([e]):null,$i(4,4,xh.bind(null,t,e),r)}function So(){}function kh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ko(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ko(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _h(e,t,r){return gr&21?(at(r,t)||(r=Cd(),oe.lanes|=r,vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=r)}function Qm(e,t){var r=X;X=r!==0&&4>r?r:4,e(!0);var n=wa.transition;wa.transition={};try{e(!1),t()}finally{X=r,wa.transition=n}}function jh(){return Xe().memoizedState}function Jm(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sh(e))Nh(t,r);else if(r=ah(e,t,r,n),r!==null){var s=Ce();it(r,e,n,s),Eh(r,t,n)}}function Xm(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sh(e))Nh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,at(o,a)){var u=t.interleaved;u===null?(s.next=s,go(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=ah(e,t,s,n),r!==null&&(s=Ce(),it(r,e,n,s),Eh(r,t,n))}}function Sh(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Nh(e,t){Rn=gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Eh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,to(e,r)}}var vi={readContext:Je,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Ym={readContext:Je,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Hu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gs(4194308,4,xh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var r=ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Jm.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:Wu,useDebugValue:So,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=Wu(!1),t=e[0];return e=Qm.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=ot();if(ae){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),ye===null)throw Error(A(349));gr&30||dh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Hu(fh.bind(null,n,i,e),[e]),n.flags|=2048,ts(9,hh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ot(),t=ye.identifierPrefix;if(ae){var r=xt,n=yt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zm={readContext:Je,useCallback:kh,useContext:Je,useEffect:jo,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:bh,useReducer:ka,useRef:gh,useState:function(){return ka(es)},useDebugValue:So,useDeferredValue:function(e){var t=Xe();return _h(t,fe.memoizedState,e)},useTransition:function(){var e=ka(es)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:ch,useId:jh,unstable_isNewReconciler:!1},eg={readContext:Je,useCallback:kh,useContext:Je,useEffect:jo,useImperativeHandle:wh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:bh,useReducer:ba,useRef:gh,useState:function(){return ba(es)},useDebugValue:So,useDeferredValue:function(e){var t=Xe();return fe===null?t.memoizedState=e:_h(t,fe.memoizedState,e)},useTransition:function(){var e=ba(es)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:uh,useSyncExternalStore:ch,useId:jh,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Di={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ce(),s=Ht(e),i=wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),Ks(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ce(),s=Ht(e),i=wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),Ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ce(),n=Ht(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(it(t,e,n,r),Ks(t,e,n))}};function Ku(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!qn(r,n)||!qn(s,i):!0}function Ch(e,t,r){var n=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=De(t)?pr:Ne.current,n=t.contextTypes,i=(n=n!=null)?Jr(e,s):Qt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function ml(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},vo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=De(t)?pr:Ne.current,s.context=Jr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Di.enqueueReplaceState(s,s.state,null),pi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",n=t;do r+=Cp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _a(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tg=typeof WeakMap=="function"?WeakMap:Map;function Ph(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xi||(xi=!0,Nl=n),gl(e,t)},r}function Th(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){gl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gl(e,t),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Gu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=mg.bind(null,e,t,r),t.then(e,e))}function Qu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ju(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var rg=Nt.ReactCurrentOwner,Re=!1;function Ee(e,t,r,n){t.child=e===null?ih(t,null,r,n):Yr(t,e.child,r,n)}function Xu(e,t,r,n,s){r=r.render;var i=t.ref;return qr(t,s),n=bo(e,t,r,n,i,s),r=_o(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ae&&r&&uo(t),t.flags|=1,Ee(e,t,n,s),t.child)}function Yu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Io(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ah(e,t,i,n,s)):(e=Ys(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:qn,r(a,n)&&e.ref===t.ref)return jt(e,t,s)}return t.flags|=1,e=Kt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(qn(i,n)&&e.ref===t.ref)if(Re=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,jt(e,t,s)}return vl(e,t,r,n,s)}function Oh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Fr,Me),Me|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Fr,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(Fr,Me),Me|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(Fr,Me),Me|=n;return Ee(e,t,s,r),t.child}function Ih(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function vl(e,t,r,n,s){var i=De(r)?pr:Ne.current;return i=Jr(t,i),qr(t,s),r=bo(e,t,r,n,i,s),n=_o(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ae&&n&&uo(t),t.flags|=1,Ee(e,t,r,s),t.child)}function Zu(e,t,r,n,s){if(De(r)){var i=!0;ui(t)}else i=!1;if(qr(t,s),t.stateNode===null)Qs(e,t),Ch(t,r,n),ml(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=De(r)?pr:Ne.current,c=Jr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&qu(t,a,n,c),Ot=!1;var f=t.memoizedState;a.state=f,pi(t,n,a,s),u=t.memoizedState,o!==n||f!==u||$e.current||Ot?(typeof d=="function"&&(pl(t,r,d,n),u=t.memoizedState),(o=Ot||Ku(t,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,lh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:et(t.type,o),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Je(u):(u=De(r)?pr:Ne.current,u=Jr(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&qu(t,a,n,u),Ot=!1,f=t.memoizedState,a.state=f,pi(t,n,a,s);var v=t.memoizedState;o!==h||f!==v||$e.current||Ot?(typeof y=="function"&&(pl(t,r,y,n),v=t.memoizedState),(c=Ot||Ku(t,r,c,n,f,v,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return yl(e,t,r,n,i,s)}function yl(e,t,r,n,s,i){Ih(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Mu(t,r,!1),jt(e,t,i);n=t.stateNode,rg.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Yr(t,e.child,null,i),t.child=Yr(t,null,o,i)):Ee(e,t,o,i),t.memoizedState=n.state,s&&Mu(t,r,!0),t.child}function Rh(e){var t=e.stateNode;t.pendingContext?Lu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lu(e,t.context,!1),yo(e,t.containerInfo)}function ec(e,t,r,n,s){return Xr(),ho(s),t.flags|=256,Ee(e,t,r,n),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function $h(e,t,r){var n=t.pendingProps,s=le.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(le,s&1),e===null)return hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ui(a,n,0,null),e=hr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wl(r),t.memoizedState=xl,e):No(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ng(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Kt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Kt(o,i):(i=hr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?wl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=xl,n}return i=e.child,e=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function No(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,r,n){return n!==null&&ho(n),Yr(t,e.child,null,r),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ng(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=_a(Error(A(422))),Is(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ui({mode:"visible",children:n.children},s,0,null),i=hr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yr(t,e.child,null,a),t.child.memoizedState=wl(a),t.memoizedState=xl,i);if(!(t.mode&1))return Is(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(A(419)),n=_a(i,n,void 0),Is(e,t,a,n)}if(o=(a&e.childLanes)!==0,Re||o){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),it(n,e,s,-1))}return Oo(),n=_a(Error(A(421))),Is(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Be=Ft(s.nextSibling),ze=t,ae=!0,nt=null,e!==null&&(He[Ke++]=yt,He[Ke++]=xt,He[Ke++]=mr,yt=e.id,xt=e.overflow,mr=t),t=No(t,n.children),t.flags|=4096,t)}function tc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fl(e.return,t,r)}function ja(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ee(e,t,n.children,r),n=le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tc(e,r,t);else if(e.tag===19)tc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ja(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ja(t,!0,r,null,i);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sg(e,t,r){switch(t.tag){case 3:Rh(t),Xr();break;case 5:oh(t);break;case 1:De(t.type)&&ui(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;te(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(le,le.current&1),t.flags|=128,null):r&t.child.childLanes?$h(e,t,r):(te(le,le.current&1),e=jt(e,t,r),e!==null?e.sibling:null);te(le,le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(le,le.current),n)break;return null;case 22:case 23:return t.lanes=0,Oh(e,t,r)}return jt(e,t,r)}var Lh,kl,Mh,Uh;Lh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kl=function(){};Mh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,cr(dt.current);var i=null;switch(r){case"input":s=Va(e,s),n=Va(e,n),i=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),i=[];break;case"textarea":s=Ka(e,s),n=Ka(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=li)}Ga(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ne("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Uh=function(e,t,r,n){r!==n&&(t.flags|=4)};function wn(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ig(e,t,r){var n=t.pendingProps;switch(co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return De(t.type)&&oi(),_e(t),null;case 3:return n=t.stateNode,Zr(),se($e),se(Ne),wo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(As(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Pl(nt),nt=null))),kl(e,t),_e(t),null;case 5:xo(t);var s=cr(Yn.current);if(r=t.type,e!==null&&t.stateNode!=null)Mh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return _e(t),null}if(e=cr(dt.current),As(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ut]=t,n[Jn]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":cu(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":hu(n,i),ne("invalid",n)}Ga(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,o,e),s=["children",""+o]):Bn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ne("scroll",n)}switch(r){case"input":bs(n),du(n,i,!0);break;case"textarea":bs(n),fu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ut]=t,e[Jn]=n,Lh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qa(r,n),r){case"dialog":ne("cancel",e),ne("close",e),s=n;break;case"iframe":case"object":case"embed":ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Nn.length;s++)ne(Nn[s],e);s=n;break;case"source":ne("error",e),s=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=n;break;case"details":ne("toggle",e),s=n;break;case"input":cu(e,n),s=Va(e,n),ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),ne("invalid",e);break;case"textarea":hu(e,n),s=Ka(e,n),ne("invalid",e);break;default:s=n}Ga(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?gd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&zn(e,u):typeof u=="number"&&zn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ne("scroll",e):u!=null&&Ql(e,i,u,a))}switch(r){case"input":bs(e),du(e,n,!1);break;case"textarea":bs(e),fu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Vr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Vr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Uh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=cr(Yn.current),cr(dt.current),As(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(i=n.nodeValue!==r)&&(e=ze,e!==null))switch(e.tag){case 3:Ts(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return _e(t),null;case 13:if(se(le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Be!==null&&t.mode&1&&!(t.flags&128))nh(),Xr(),t.flags|=98560,i=!1;else if(i=As(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[ut]=t}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else nt!==null&&(Pl(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?pe===0&&(pe=3):Oo())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Zr(),kl(e,t),e===null&&Gn(t.stateNode.containerInfo),_e(t),null;case 10:return mo(t.type._context),_e(t),null;case 17:return De(t.type)&&oi(),_e(t),null;case 19:if(se(le),i=t.memoizedState,i===null)return _e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)wn(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=mi(e),a!==null){for(t.flags|=128,wn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>tn&&(t.flags|=128,n=!0,wn(i,!1),t.lanes=4194304)}else{if(!n)if(e=mi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ae)return _e(t),null}else 2*de()-i.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,n=!0,wn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=le.current,te(le,n?r&1|2:r&1),t):(_e(t),null);case 22:case 23:return Ao(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Me&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function ag(e,t){switch(co(t),t.tag){case 1:return De(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),se($e),se(Ne),wo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xo(t),null;case 13:if(se(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(le),null;case 4:return Zr(),null;case 10:return mo(t.type._context),null;case 22:case 23:return Ao(),null;case 24:return null;default:return null}}var Rs=!1,Se=!1,lg=typeof WeakSet=="function"?WeakSet:Set,R=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function bl(e,t,r){try{r()}catch(n){ce(e,t,n)}}var rc=!1;function og(e,t){if(il=si,e=Wd(),oo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(o=a),f===i&&++d===n&&(u=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(al={focusedElem:e,selectionRange:r},si=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,x=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:et(t.type,k),x);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=rc,rc=!1,v}function $n(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bl(t,r,i)}s=s.next}while(s!==n)}}function Li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _l(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[Jn],delete t[ul],delete t[Wm],delete t[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zh(e){return e.tag===5||e.tag===3||e.tag===4}function nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=li));else if(n!==4&&(e=e.child,e!==null))for(jl(e,t,r),e=e.sibling;e!==null;)jl(e,t,r),e=e.sibling}function Sl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sl(e,t,r),e=e.sibling;e!==null;)Sl(e,t,r),e=e.sibling}var xe=null,tt=!1;function Ct(e,t,r){for(r=r.child;r!==null;)Fh(e,t,r),r=r.sibling}function Fh(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 5:Se||zr(r,t);case 6:var n=xe,s=tt;xe=null,Ct(e,t,r),xe=n,tt=s,xe!==null&&(tt?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(tt?(e=xe,r=r.stateNode,e.nodeType===8?va(e.parentNode,r):e.nodeType===1&&va(e,r),Hn(e)):va(xe,r.stateNode));break;case 4:n=xe,s=tt,xe=r.stateNode.containerInfo,tt=!0,Ct(e,t,r),xe=n,tt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bl(r,t,a),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!Se&&(zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ce(r,t,o)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,Ct(e,t,r),Se=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function sc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lg),t.forEach(function(n){var s=vg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:xe=o.stateNode,tt=!1;break e;case 3:xe=o.stateNode.containerInfo,tt=!0;break e;case 4:xe=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(xe===null)throw Error(A(160));Fh(i,a,s),xe=null,tt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}function Vh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),lt(e),n&4){try{$n(3,e,e.return),Li(3,e)}catch(k){ce(e,e.return,k)}try{$n(5,e,e.return)}catch(k){ce(e,e.return,k)}}break;case 1:Ye(t,e),lt(e),n&512&&r!==null&&zr(r,r.return);break;case 5:if(Ye(t,e),lt(e),n&512&&r!==null&&zr(r,r.return),e.flags&32){var s=e.stateNode;try{zn(s,"")}catch(k){ce(e,e.return,k)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&dd(s,i),Qa(o,a);var c=Qa(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?gd(s,h):d==="dangerouslySetInnerHTML"?pd(s,h):d==="children"?zn(s,h):Ql(s,d,h,c)}switch(o){case"input":Wa(s,i);break;case"textarea":hd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Vr(s,!!i.multiple,i.defaultValue,!0):Vr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jn]=i}catch(k){ce(e,e.return,k)}}break;case 6:if(Ye(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){ce(e,e.return,k)}}break;case 3:if(Ye(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(k){ce(e,e.return,k)}break;case 4:Ye(t,e),lt(e);break;case 13:Ye(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Po=de())),n&4&&sc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Se=(c=Se)||d,Ye(t,e),Se=c):Ye(t,e),lt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,y=f.child,f.tag){case 0:case 11:case 14:case 15:$n(4,f,f.return);break;case 1:zr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){ce(n,r,k)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){ac(h);continue}}y!==null?(y.return=f,R=y):ac(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=md("display",a))}catch(k){ce(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){ce(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),lt(e),n&4&&sc(e);break;case 21:break;default:Ye(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zh(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zn(s,""),n.flags&=-33);var i=nc(e);Sl(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=nc(e);jl(e,o,a);break;default:throw Error(A(161))}}catch(u){ce(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e,t,r){R=e,Wh(e)}function Wh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Rs;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Se;o=Rs;var c=Se;if(Rs=a,(Se=u)&&!c)for(R=s;R!==null;)a=R,u=a.child,a.tag===22&&a.memoizedState!==null?lc(s):u!==null?(u.return=a,R=u):lc(s);for(;i!==null;)R=i,Wh(i),i=i.sibling;R=s,Rs=o,Se=c}ic(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):ic(e)}}function ic(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||Li(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vu(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Se||t.flags&512&&_l(t)}catch(f){ce(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function ac(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function lc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Li(4,t)}catch(u){ce(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ce(t,s,u)}}var i=t.return;try{_l(t)}catch(u){ce(t,i,u)}break;case 5:var a=t.return;try{_l(t)}catch(u){ce(t,a,u)}}}catch(u){ce(t,t.return,u)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var cg=Math.ceil,yi=Nt.ReactCurrentDispatcher,Eo=Nt.ReactCurrentOwner,Ge=Nt.ReactCurrentBatchConfig,K=0,ye=null,he=null,we=0,Me=0,Fr=Yt(0),pe=0,rs=null,vr=0,Mi=0,Co=0,Dn=null,Oe=null,Po=0,tn=1/0,pt=null,xi=!1,Nl=null,Wt=null,$s=!1,Lt=null,wi=0,Ln=0,El=null,Js=-1,Xs=0;function Ce(){return K&6?de():Js!==-1?Js:Js=de()}function Ht(e){return e.mode&1?K&2&&we!==0?we&-we:qm.transition!==null?(Xs===0&&(Xs=Cd()),Xs):(e=X,e!==0||(e=window.event,e=e===void 0?16:$d(e.type)),e):1}function it(e,t,r,n){if(50<Ln)throw Ln=0,El=null,Error(A(185));ds(e,r,n),(!(K&2)||e!==ye)&&(e===ye&&(!(K&2)&&(Mi|=r),pe===4&&Rt(e,we)),Le(e,n),r===1&&K===0&&!(t.mode&1)&&(tn=de()+500,Ri&&Zt()))}function Le(e,t){var r=e.callbackNode;qp(e,t);var n=ni(e,e===ye?we:0);if(n===0)r!==null&&gu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gu(r),t===1)e.tag===0?Km(oc.bind(null,e)):eh(oc.bind(null,e)),Fm(function(){!(K&6)&&Zt()}),r=null;else{switch(Pd(n)){case 1:r=eo;break;case 4:r=Nd;break;case 16:r=ri;break;case 536870912:r=Ed;break;default:r=ri}r=Yh(r,Hh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hh(e,t){if(Js=-1,Xs=0,K&6)throw Error(A(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var n=ni(e,e===ye?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ki(e,n);else{t=n;var s=K;K|=2;var i=qh();(ye!==e||we!==t)&&(pt=null,tn=de()+500,dr(e,t));do try{fg();break}catch(o){Kh(e,o)}while(1);po(),yi.current=i,K=s,he!==null?t=0:(ye=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=el(e),s!==0&&(n=s,t=Cl(e,s))),t===1)throw r=rs,dr(e,0),Rt(e,n),Le(e,de()),r;if(t===6)Rt(e,n);else{if(s=e.current.alternate,!(n&30)&&!dg(s)&&(t=ki(e,n),t===2&&(i=el(e),i!==0&&(n=i,t=Cl(e,i))),t===1))throw r=rs,dr(e,0),Rt(e,n),Le(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:sr(e,Oe,pt);break;case 3:if(Rt(e,n),(n&130023424)===n&&(t=Po+500-de(),10<t)){if(ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ol(sr.bind(null,e,Oe,pt),t);break}sr(e,Oe,pt);break;case 4:if(Rt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-st(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cg(n/1960))-n,10<n){e.timeoutHandle=ol(sr.bind(null,e,Oe,pt),n);break}sr(e,Oe,pt);break;case 5:sr(e,Oe,pt);break;default:throw Error(A(329))}}}return Le(e,de()),e.callbackNode===r?Hh.bind(null,e):null}function Cl(e,t){var r=Dn;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=ki(e,t),e!==2&&(t=Oe,Oe=r,t!==null&&Pl(t)),e}function Pl(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function dg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~Co,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(K&6)throw Error(A(327));Gr();var t=ni(e,0);if(!(t&1))return Le(e,de()),null;var r=ki(e,t);if(e.tag!==0&&r===2){var n=el(e);n!==0&&(t=n,r=Cl(e,n))}if(r===1)throw r=rs,dr(e,0),Rt(e,t),Le(e,de()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Oe,pt),Le(e,de()),null}function To(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(tn=de()+500,Ri&&Zt())}}function yr(e){Lt!==null&&Lt.tag===0&&!(K&6)&&Gr();var t=K;K|=1;var r=Ge.transition,n=X;try{if(Ge.transition=null,X=1,e)return e()}finally{X=n,Ge.transition=r,K=t,!(K&6)&&Zt()}}function Ao(){Me=Fr.current,se(Fr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zm(r)),he!==null)for(r=he.return;r!==null;){var n=r;switch(co(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:Zr(),se($e),se(Ne),wo();break;case 5:xo(n);break;case 4:Zr();break;case 13:se(le);break;case 19:se(le);break;case 10:mo(n.type._context);break;case 22:case 23:Ao()}r=r.return}if(ye=e,he=e=Kt(e.current,null),we=Me=t,pe=0,rs=null,Co=Mi=vr=0,Oe=Dn=null,ur!==null){for(t=0;t<ur.length;t++)if(r=ur[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ur=null}return e}function Kh(e,t){do{var r=he;try{if(po(),qs.current=vi,gi){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(gr=0,ve=fe=oe=null,Rn=!1,Zn=0,Eo.current=null,r===null||r.return===null){pe=1,rs=t,he=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=we,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Qu(a);if(y!==null){y.flags&=-257,Ju(y,a,o,i,t),y.mode&1&&Gu(i,c,t),t=y,u=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(u),t.updateQueue=k}else v.add(u);break e}else{if(!(t&1)){Gu(i,c,t),Oo();break e}u=Error(A(426))}}else if(ae&&o.mode&1){var x=Qu(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Ju(x,a,o,i,t),ho(en(u,o));break e}}i=u=en(u,o),pe!==4&&(pe=2),Dn===null?Dn=[i]:Dn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ph(i,u,t);Fu(i,g);break e;case 1:o=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wt===null||!Wt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Th(i,o,t);Fu(i,w);break e}}i=i.return}while(i!==null)}Qh(r)}catch(N){t=N,he===r&&r!==null&&(he=r=r.return);continue}break}while(1)}function qh(){var e=yi.current;return yi.current=vi,e===null?vi:e}function Oo(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(vr&268435455)&&!(Mi&268435455)||Rt(ye,we)}function ki(e,t){var r=K;K|=2;var n=qh();(ye!==e||we!==t)&&(pt=null,dr(e,t));do try{hg();break}catch(s){Kh(e,s)}while(1);if(po(),K=r,yi.current=n,he!==null)throw Error(A(261));return ye=null,we=0,pe}function hg(){for(;he!==null;)Gh(he)}function fg(){for(;he!==null&&!Mp();)Gh(he)}function Gh(e){var t=Xh(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Qh(e):he=t,Eo.current=null}function Qh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ag(r,t),r!==null){r.flags&=32767,he=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,he=null;return}}else if(r=ig(r,t,Me),r!==null){he=r;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);pe===0&&(pe=5)}function sr(e,t,r){var n=X,s=Ge.transition;try{Ge.transition=null,X=1,pg(e,t,r,n)}finally{Ge.transition=s,X=n}return null}function pg(e,t,r,n){do Gr();while(Lt!==null);if(K&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gp(e,i),e===ye&&(he=ye=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$s||($s=!0,Yh(ri,function(){return Gr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var a=X;X=1;var o=K;K|=4,Eo.current=null,og(e,r),Vh(r,e),Rm(al),si=!!il,al=il=null,e.current=r,ug(r),Up(),K=o,X=a,Ge.transition=i}else e.current=r;if($s&&($s=!1,Lt=e,wi=s),i=e.pendingLanes,i===0&&(Wt=null),Fp(r.stateNode),Le(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,e=Nl,Nl=null,e;return wi&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===El?Ln++:(Ln=0,El=e):Ln=0,Zt(),null}function Gr(){if(Lt!==null){var e=Pd(wi),t=Ge.transition,r=X;try{if(Ge.transition=null,X=16>e?16:e,Lt===null)var n=!1;else{if(e=Lt,Lt=null,wi=0,K&6)throw Error(A(331));var s=K;for(K|=4,R=e.current;R!==null;){var i=R,a=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:$n(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,y=d.return;if(Bh(d),d===c){R=null;break}if(f!==null){f.return=y,R=f;break}R=y}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}R=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,R=a;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$n(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){a=R;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,R=m;else e:for(a=p;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Li(9,o)}}catch(N){ce(o,o.return,N)}if(o===a){R=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,R=w;break e}R=o.return}}if(K=s,Zt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Pi,e)}catch{}n=!0}return n}finally{X=r,Ge.transition=t}}return!1}function uc(e,t,r){t=en(r,t),t=Ph(e,t,1),e=Vt(e,t,1),t=Ce(),e!==null&&(ds(e,1,t),Le(e,t))}function ce(e,t,r){if(e.tag===3)uc(e,e,r);else for(;t!==null;){if(t.tag===3){uc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){e=en(r,e),e=Th(t,e,1),t=Vt(t,e,1),e=Ce(),t!==null&&(ds(t,1,e),Le(t,e));break}}t=t.return}}function mg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>de()-Po?dr(e,0):Co|=r),Le(e,t)}function Jh(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var r=Ce();e=_t(e,t),e!==null&&(ds(e,t,r),Le(e,r))}function gg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jh(e,r)}function vg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),Jh(e,r)}var Xh;Xh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Re=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Re=!1,sg(e,t,r);Re=!!(e.flags&131072)}else Re=!1,ae&&t.flags&1048576&&th(t,di,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qs(e,t),e=t.pendingProps;var s=Jr(t,Ne.current);qr(t,r),s=bo(null,t,n,e,s,r);var i=_o();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(i=!0,ui(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vo(t),s.updater=Di,t.stateNode=s,s._reactInternals=t,ml(t,n,e,r),t=yl(null,t,n,!0,i,r)):(t.tag=0,ae&&i&&uo(t),Ee(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=xg(n),e=et(n,e),s){case 0:t=vl(null,t,n,e,r);break e;case 1:t=Zu(null,t,n,e,r);break e;case 11:t=Xu(null,t,n,e,r);break e;case 14:t=Yu(null,t,n,et(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),vl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Zu(e,t,n,s,r);case 3:e:{if(Rh(t),e===null)throw Error(A(387));n=t.pendingProps,i=t.memoizedState,s=i.element,lh(e,t),pi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=en(Error(A(423)),t),t=ec(e,t,n,r,s);break e}else if(n!==s){s=en(Error(A(424)),t),t=ec(e,t,n,r,s);break e}else for(Be=Ft(t.stateNode.containerInfo.firstChild),ze=t,ae=!0,nt=null,r=ih(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),n===s){t=jt(e,t,r);break e}Ee(e,t,n,r)}t=t.child}return t;case 5:return oh(t),e===null&&hl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ll(n,s)?a=null:i!==null&&ll(n,i)&&(t.flags|=32),Ih(e,t),Ee(e,t,a,r),t.child;case 6:return e===null&&hl(t),null;case 13:return $h(e,t,r);case 4:return yo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yr(t,null,n,r):Ee(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Xu(e,t,n,s,r);case 7:return Ee(e,t,t.pendingProps,r),t.child;case 8:return Ee(e,t,t.pendingProps.children,r),t.child;case 12:return Ee(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,te(hi,n._currentValue),n._currentValue=a,i!==null)if(at(i.value,a)){if(i.children===s.children&&!$e.current){t=jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),fl(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(A(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),fl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ee(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,qr(t,r),s=Je(s),n=n(s),t.flags|=1,Ee(e,t,n,r),t.child;case 14:return n=t.type,s=et(n,t.pendingProps),s=et(n.type,s),Yu(e,t,n,s,r);case 15:return Ah(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Qs(e,t),t.tag=1,De(n)?(e=!0,ui(t)):e=!1,qr(t,r),Ch(t,n,s),ml(t,n,s,r),yl(null,t,n,!0,e,r);case 19:return Dh(e,t,r);case 22:return Oh(e,t,r)}throw Error(A(156,t.tag))};function Yh(e,t){return Sd(e,t)}function yg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,r,n){return new yg(e,t,r,n)}function Io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xg(e){if(typeof e=="function")return Io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xl)return 11;if(e===Yl)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ys(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Io(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Or:return hr(r.children,s,i,t);case Jl:a=8,s|=8;break;case Ua:return e=qe(12,r,t,s|2),e.elementType=Ua,e.lanes=i,e;case Ba:return e=qe(13,r,t,s),e.elementType=Ba,e.lanes=i,e;case za:return e=qe(19,r,t,s),e.elementType=za,e.lanes=i,e;case od:return Ui(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ad:a=10;break e;case ld:a=9;break e;case Xl:a=11;break e;case Yl:a=14;break e;case At:a=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=qe(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function hr(e,t,r,n){return e=qe(7,e,n,t),e.lanes=r,e}function Ui(e,t,r,n){return e=qe(22,e,n,t),e.elementType=od,e.lanes=r,e.stateNode={isHidden:!1},e}function Sa(e,t,r){return e=qe(6,e,null,t),e.lanes=r,e}function Na(e,t,r){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ro(e,t,r,n,s,i,a,o,u){return e=new wg(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vo(i),e}function kg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zh(e){if(!e)return Qt;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(De(r))return Zd(e,r,t)}return t}function ef(e,t,r,n,s,i,a,o,u){return e=Ro(r,n,!0,e,s,i,a,o,u),e.context=Zh(null),r=e.current,n=Ce(),s=Ht(r),i=wt(n,s),i.callback=t??null,Vt(r,i,s),e.current.lanes=s,ds(e,s,n),Le(e,n),e}function Bi(e,t,r,n){var s=t.current,i=Ce(),a=Ht(s);return r=Zh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,a),e!==null&&(it(e,s,a,i),Ks(e,s,a)),a}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $o(e,t){cc(e,t),(e=e.alternate)&&cc(e,t)}function bg(){return null}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Do(e){this._internalRoot=e}zi.prototype.render=Do.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Bi(e,t,null,null)};zi.prototype.unmount=Do.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Bi(null,e,null,null)}),t[bt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Od();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&t!==0&&t<It[r].priority;r++);It.splice(r,0,e),r===0&&Rd(e)}};function Lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dc(){}function _g(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=bi(a);i.call(c)}}var a=ef(t,n,e,0,null,!1,!1,"",dc);return e._reactRootContainer=a,e[bt]=a.current,Gn(e.nodeType===8?e.parentNode:e),yr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=bi(u);o.call(c)}}var u=Ro(e,0,!1,null,null,!1,!1,"",dc);return e._reactRootContainer=u,e[bt]=u.current,Gn(e.nodeType===8?e.parentNode:e),yr(function(){Bi(t,u,r,n)}),u}function Vi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=bi(a);o.call(u)}}Bi(t,a,e,s)}else a=_g(r,t,e,s,n);return bi(a)}Td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(to(t,r|1),Le(t,de()),!(K&6)&&(tn=de()+500,Zt()))}break;case 13:yr(function(){var n=_t(e,1);if(n!==null){var s=Ce();it(n,e,1,s)}}),$o(e,1)}};ro=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=Ce();it(t,e,134217728,r)}$o(e,134217728)}};Ad=function(e){if(e.tag===13){var t=Ht(e),r=_t(e,t);if(r!==null){var n=Ce();it(r,e,t,n)}$o(e,t)}};Od=function(){return X};Id=function(e,t){var r=X;try{return X=e,t()}finally{X=r}};Xa=function(e,t,r){switch(t){case"input":if(Wa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ii(n);if(!s)throw Error(A(90));cd(n),Wa(n,s)}}}break;case"textarea":hd(e,r);break;case"select":t=r.value,t!=null&&Vr(e,!!r.multiple,t,!1)}};xd=To;wd=yr;var jg={usingClientEntryPoint:!1,Events:[fs,Dr,Ii,vd,yd,To]},kn={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sg={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_d(e),e===null?null:e.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Pi=Ds.inject(Sg),ct=Ds}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lo(t))throw Error(A(200));return kg(e,t,null,r)};Ve.createRoot=function(e,t){if(!Lo(e))throw Error(A(299));var r=!1,n="",s=tf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ro(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Do(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=_d(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return yr(e)};Ve.hydrate=function(e,t,r){if(!Fi(t))throw Error(A(200));return Vi(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!Lo(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=tf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=ef(t,null,e,1,r??null,s,!1,i,a),e[bt]=t.current,Gn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new zi(t)};Ve.render=function(e,t,r){if(!Fi(t))throw Error(A(200));return Vi(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(A(40));return e._reactRootContainer?(yr(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ve.unstable_batchedUpdates=To;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fi(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Vi(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rf)}catch(e){console.error(e)}}rf(),rd.exports=Ve;var Ng=rd.exports,hc=Ng;La.createRoot=hc.createRoot,La.hydrateRoot=hc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const fc="popstate";function Eg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Tl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:sf(s)}return Pg(t,r,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cg(){return Math.random().toString(36).substr(2,8)}function pc(e,t){return{usr:e.state,key:e.key,idx:t}}function Tl(e,t,r,n){return r===void 0&&(r=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?un(t):t,{state:r,key:t&&t.key||n||Cg()})}function sf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function un(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Pg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Mt.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(ns({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Mt.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:o,location:k.location,delta:g})}function f(x,g){o=Mt.Push;let p=Tl(k.location,x,g);r&&r(p,x),c=d()+1;let m=pc(p,c),w=k.createHref(p);try{a.pushState(m,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}i&&u&&u({action:o,location:k.location,delta:1})}function y(x,g){o=Mt.Replace;let p=Tl(k.location,x,g);r&&r(p,x),c=d();let m=pc(p,c),w=k.createHref(p);a.replaceState(m,"",w),i&&u&&u({action:o,location:k.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:sf(x);return p=p.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let k={get action(){return o},get location(){return e(s,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(fc,h),u=x,()=>{s.removeEventListener(fc,h),u=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(x){return a.go(x)}};return k}var mc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mc||(mc={}));function Tg(e,t,r){return r===void 0&&(r="/"),Ag(e,t,r,!1)}function Ag(e,t,r,n){let s=typeof t=="string"?un(t):t,i=of(s.pathname||"/",r);if(i==null)return null;let a=af(e);Og(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=Vg(i);o=zg(a[u],c,n)}return o}function af(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=fr([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),af(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Ug(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of lf(i.path))s(i,a,u)}),t}function lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=lf(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Og(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Bg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ig=/^:[\w-]+$/,Rg=3,$g=2,Dg=1,Lg=10,Mg=-2,gc=e=>e==="*";function Ug(e,t){let r=e.split("/"),n=r.length;return r.some(gc)&&(n+=Mg),t&&(n+=$g),r.filter(s=>!gc(s)).reduce((s,i)=>s+(Ig.test(i)?Rg:i===""?Dg:Lg),n)}function Bg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function zg(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:fr([i,h.pathname]),pathnameBase:Qg(fr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=fr([i,h.pathnameBase]))}return a}function vc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let k=o[h]||"";a=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=o[h];return y&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function Fg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Vg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function of(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Wg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?un(e):e;return{pathname:r?r.startsWith("/")?r:Hg(r,t):t,search:Jg(n),hash:Xg(s)}}function Hg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ea(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qg(e,t){let r=Kg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=un(e):(s=ns({},e),me(!s.pathname||!s.pathname.includes("?"),Ea("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),Ea("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),Ea("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let u=Wg(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const fr=e=>e.join("/").replace(/\/\/+/g,"/"),Qg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uf=["post","put","patch","delete"];new Set(uf);const Zg=["get",...uf];new Set(Zg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}const Mo=_.createContext(null),e0=_.createContext(null),Wi=_.createContext(null),Hi=_.createContext(null),cn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),cf=_.createContext(null);function Ki(){return _.useContext(Hi)!=null}function ms(){return Ki()||me(!1),_.useContext(Hi).location}function df(e){_.useContext(Wi).static||_.useLayoutEffect(e)}function kr(){let{isDataRoute:e}=_.useContext(cn);return e?f0():t0()}function t0(){Ki()||me(!1);let e=_.useContext(Mo),{basename:t,future:r,navigator:n}=_.useContext(Wi),{matches:s}=_.useContext(cn),{pathname:i}=ms(),a=JSON.stringify(qg(s,r.v7_relativeSplatPath)),o=_.useRef(!1);return df(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Gg(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function r0(e,t){return n0(e,t)}function n0(e,t,r,n){Ki()||me(!1);let{navigator:s}=_.useContext(Wi),{matches:i}=_.useContext(cn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=ms(),d;if(t){var h;let x=typeof t=="string"?un(t):t;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||me(!1),d=x}else d=c;let f=d.pathname||"/",y=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Tg(e,{pathname:y}),k=o0(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:fr([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:fr([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&k?_.createElement(Hi.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mt.Pop}},k):k}function s0(){let e=h0(),t=Yg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,i)}const i0=_.createElement(s0,null);class a0 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(cn.Provider,{value:this.props.routeContext},_.createElement(cf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l0(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(Mo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(cn.Provider,{value:t},n)}function o0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||me(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let y,v=!1,k=null,x=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,k=h.route.errorElement||i0,u&&(c<0&&f===0?(p0("route-fallback",!1),v=!0,x=null):c===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),p=()=>{let m;return y?m=k:v?m=x:h.route.Component?m=_.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,_.createElement(l0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(a0,{location:r.location,revalidation:r.revalidation,component:k,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var hf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hf||{}),_i=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_i||{});function u0(e){let t=_.useContext(Mo);return t||me(!1),t}function c0(e){let t=_.useContext(e0);return t||me(!1),t}function d0(e){let t=_.useContext(cn);return t||me(!1),t}function ff(e){let t=d0(),r=t.matches[t.matches.length-1];return r.route.id||me(!1),r.route.id}function h0(){var e;let t=_.useContext(cf),r=c0(_i.UseRouteError),n=ff(_i.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function f0(){let{router:e}=u0(hf.UseNavigateStable),t=ff(_i.UseNavigateStable),r=_.useRef(!1);return df(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ss({fromRouteId:t},i)))},[e,t])}const yc={};function p0(e,t,r){!t&&!yc[e]&&(yc[e]=!0)}function m0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ir(e){me(!1)}function g0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mt.Pop,navigator:i,static:a=!1,future:o}=e;Ki()&&me(!1);let u=t.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:i,static:a,future:ss({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=un(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,k=_.useMemo(()=>{let x=of(d,u);return x==null?null:{location:{pathname:x,search:h,hash:f,state:y,key:v},navigationType:s}},[u,d,h,f,y,v,s]);return k==null?null:_.createElement(Wi.Provider,{value:c},_.createElement(Hi.Provider,{children:r,value:k}))}function v0(e){let{children:t,location:r}=e;return r0(Al(t),r)}new Promise(()=>{});function Al(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Al(n.props.children,i));return}n.type!==ir&&me(!1),!n.props.index||!n.props.children||me(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Al(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const y0="6";try{window.__reactRouterVersion=y0}catch{}const x0="startTransition",xc=mp[x0];function w0(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=Eg({window:s,v5Compat:!0}));let a=i.current,[o,u]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=_.useCallback(h=>{c&&xc?xc(()=>u(h)):u(h)},[u,c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>m0(n),[n]),_.createElement(g0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var wc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wc||(wc={}));var kc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kc||(kc={}));const k0="modulepreload",b0=function(e){return"/"+e},bc={},gs=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=b0(i),i in bc)return;bc[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":k0,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},_0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gs(()=>Promise.resolve().then(()=>dn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Uo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class j0 extends Uo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _c extends Uo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jc extends Uo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ol;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ol||(Ol={}));var S0=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class N0{constructor(t,{headers:r={},customFetch:n,region:s=Ol.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=_0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return S0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(k=>{throw new j0(k)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new _c(h);if(!h.ok)throw new jc(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof jc||s instanceof _c?s.context:void 0}}})}}var Ie={},Bo={},qi={},vs={},Gi={},Qi={},E0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rn=E0();const C0=rn.fetch,pf=rn.fetch.bind(rn),mf=rn.Headers,P0=rn.Request,T0=rn.Response,dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:mf,Request:P0,Response:T0,default:pf,fetch:C0},Symbol.toStringTag,{value:"Module"})),A0=Zf(dn);var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});let O0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ji.default=O0;var gf=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});const I0=gf(A0),R0=gf(Ji);let $0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=I0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const k=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");k&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&k===""?(f=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new R0.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Qi.default=$0;var D0=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gi,"__esModule",{value:!0});const L0=D0(Qi);let M0=class extends L0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gi.default=M0;var U0=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});const B0=U0(Gi);let z0=class extends B0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};vs.default=z0;var F0=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const bn=F0(vs);let V0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new bn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new bn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new bn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qi.default=V0;var Xi={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.version=void 0;Yi.version="0.0.0-automated";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.DEFAULT_HEADERS=void 0;const W0=Yi;Xi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${W0.version}`};var vf=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0});const H0=vf(qi),K0=vf(vs),q0=Xi;let G0=class yf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},q0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new H0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new K0.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Bo.default=G0;var hn=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const xf=hn(Bo);Ie.PostgrestClient=xf.default;const wf=hn(qi);Ie.PostgrestQueryBuilder=wf.default;const kf=hn(vs);Ie.PostgrestFilterBuilder=kf.default;const bf=hn(Gi);Ie.PostgrestTransformBuilder=bf.default;const _f=hn(Qi);Ie.PostgrestBuilder=_f.default;const jf=hn(Ji);Ie.PostgrestError=jf.default;var Q0=Ie.default={PostgrestClient:xf.default,PostgrestQueryBuilder:wf.default,PostgrestFilterBuilder:kf.default,PostgrestTransformBuilder:bf.default,PostgrestBuilder:_f.default,PostgrestError:jf.default};const{PostgrestClient:J0,PostgrestQueryBuilder:Lx,PostgrestFilterBuilder:Mx,PostgrestTransformBuilder:Ux,PostgrestBuilder:Bx,PostgrestError:zx}=Q0;function X0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Y0=X0(),Z0="2.11.15",ev=`realtime-js/${Z0}`,tv="1.0.0",Sf=1e4,rv=1e3;var Mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mn||(Mn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var Il;(function(e){e.websocket="websocket"})(Il||(Il={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class nv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class Nf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const Sc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=sv(a,e,t,s),i),{})},sv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Ef(i,a):Rl(a)},Ef=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ov(t,r)}switch(e){case ee.bool:return iv(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return av(t);case ee.json:case ee.jsonb:return lv(t);case ee.timestamp:return uv(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Rl(t);default:return Rl(t)}},Rl=e=>e,iv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},av=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ov=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ef(t,o))}return e},uv=e=>typeof e=="string"?e.replace(" ","T"):e,Cf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ca{constructor(t,r,n={},s=Sf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nc||(Nc={}));class Un{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Un.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Un.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),y=h.map(x=>x.presence_ref),v=d.filter(x=>y.indexOf(x.presence_ref)<0),k=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(o[c]=v),k.length>0&&(u[c]=k)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...f)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ec;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ec||(Ec={}));var Cc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cc||(Cc={}));var mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class zo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ca(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Nf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Un(this),this.broadcastEndpointURL=Cf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(mt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mt.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(mt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let k=0;k<y;k++){const x=f[k],{filter:{event:g,schema:p,table:m,filter:w}}=x,N=d&&d[k];if(N&&N.event===g&&N.schema===p&&N.table===m&&N.filter===w)v.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(mt.SUBSCRIBED);return}}).receive("error",d=>{this.state=je.errored,t==null||t(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ca(this,rt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ca(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=rt;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,k,x;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(k=y.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,k,x,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const w=y.id,N=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((k=r.ids)===null||k===void 0?void 0:k.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:k,table:x,commit_timestamp:g,type:p,errors:m}=v;f=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sc(t.columns,t.old_record)),r}}const Pc=()=>{},cv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pc,this.ref=0,this.logger=Pc,this.conn=null,this.sendBuffer=[],this.serializer=new nv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>gs(()=>Promise.resolve().then(()=>dn),void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Il.websocket}`,this.httpEndpoint=Cf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Y0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mn.connecting:return lr.Connecting;case Mn.open:return lr.Open;case Mn.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new zo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ev};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(rt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(rv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([cv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Fo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hv extends Fo{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $l extends Fo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var fv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Pf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gs(()=>Promise.resolve().then(()=>dn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pv=()=>fv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>dn),void 0)).Response:Response}),Dl=e=>{if(Array.isArray(e))return e.map(r=>Dl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Dl(n)}),t},mv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var br=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gv=(e,t,r)=>br(void 0,void 0,void 0,function*(){const n=yield pv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new hv(Pa(s),i,a))}).catch(s=>{t(new $l(Pa(s),s))}):t(new $l(Pa(e),e))}),vv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(mv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function ys(e,t,r,n,s,i){return br(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,vv(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>gv(u,o,n))})})}function ji(e,t,r,n){return br(this,void 0,void 0,function*(){return ys(e,"GET",t,r,n)})}function gt(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"POST",t,n,s,r)})}function Ll(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"PUT",t,n,s,r)})}function yv(e,t,r,n){return br(this,void 0,void 0,function*(){return ys(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tf(e,t,r,n,s){return br(this,void 0,void 0,function*(){return ys(e,"DELETE",t,n,s,r)})}var Ae=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const xv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pf(s)}uploadOrUpdate(t,r,n,s){return Ae(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Tc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Ll:gt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Tc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Ll(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Fo("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ae(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(t,r){return Ae(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield ji(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}info(t){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ji(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dl(n),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}exists(t){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield yv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ge(n)&&n instanceof $l){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Ae(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ae(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xv),r),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kv="2.10.4",bv={"X-Client-Info":`storage-js/${kv}`};var jr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class _v{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},bv),r),this.fetch=Pf(n)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return jr(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}}class jv extends _v{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new wv(this.url,this.headers,t,this.fetch)}}const Sv="2.53.0";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const Nv={"X-Client-Info":`supabase-js-${En}/${Sv}`},Ev={headers:Nv},Cv={schema:"public"},Pv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tv={};var Av=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Ov=e=>{let t;return e?t=e:typeof fetch>"u"?t=pf:t=fetch,(...r)=>t(...r)},Iv=()=>typeof Headers>"u"?mf:Headers,Rv=(e,t,r)=>{const n=Ov(r),s=Iv();return(i,a)=>Av(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var $v=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Dv(e){return e.endsWith("/")?e:e+"/"}function Lv(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>$v(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Af="2.71.1",Pr=30*1e3,Ml=3,Ta=Ml*Pr,Mv="http://localhost:9999",Uv="supabase.auth.token",Bv={"X-Client-Info":`gotrue-js/${Af}`},Ul="X-Supabase-Api-Version",Of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fv=10*60*1e3;class Vo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Vv extends Vo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Wv(e){return U(e)&&e.name==="AuthApiError"}class If extends Vo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class er extends Vo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Tt extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hv(e){return U(e)&&e.name==="AuthSessionMissingError"}class Ls extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Us extends er{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kv(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ac extends er{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bl extends er{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Aa(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Oc extends er{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zl extends er{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),qv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ic.length;t+=1)e[Ic[t].charCodeAt(0)]=-2;for(let t=0;t<Si.length;t+=1)e[Si[t].charCodeAt(0)]=t;return e})();function Rc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Si[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Si[n]),t.queuedBits-=6}}function Rf(e,t,r){const n=qv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $c(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Jv(a,n,r)};for(let a=0;a<e.length;a+=1)Rf(e.charCodeAt(a),s,i);return t.join("")}function Gv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Qv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Gv(n,t)}}function Jv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Xv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Rf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Yv(e){const t=[];return Qv(e,r=>t.push(r)),new Uint8Array(t)}function Zv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Rc(s,r,n)),Rc(null,r,n),t.join("")}function ey(e){return Math.round(Date.now()/1e3)+e}function ty(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},$f=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function ry(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Df=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>gs(()=>Promise.resolve().then(()=>dn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ny=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pt=async(e,t)=>{await e.removeItem(t)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zi.promiseConstructor=Promise;function Oa(e){const t=e.split(".");if(t.length!==3)throw new zl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zv.test(t[n]))throw new zl("JWT not in base64url format");return{header:JSON.parse($c(t[0])),payload:JSON.parse($c(t[1])),signature:Xv(t[2]),raw:{header:t[0],payload:t[1]}}}async function sy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function ay(e){return("0"+e.toString(16)).substr(-2)}function ly(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ay).join("")}async function oy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(e,t,r=!1){const n=ly();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tr(e,`${t}-code-verifier`,s);const i=await uy(n);return[i,n===i?"plain":"s256"]}const cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dy(e){const t=e.headers.get(Ul);if(!t||!t.match(cy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const py=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(e){if(!py.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ia(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dc(e){return JSON.parse(JSON.stringify(e))}var my=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ar=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gy=[502,503,504];async function Lc(e){var t;if(!ny(e))throw new Bl(ar(e),0);if(gy.includes(e.status))throw new Bl(ar(e),e.status);let r;try{r=await e.json()}catch(i){throw new If(ar(i),i)}let n;const s=dy(e);if(s&&s.getTime()>=Of["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Oc(ar(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Oc(ar(r),e.status,r.weak_password.reasons);throw new Vv(ar(r),e.status||500,n)}const vy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ul]||(i[Ul]=Of["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await yy(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function yy(e,t,r,n,s,i){const a=vy(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Bl(ar(u),0)}if(o.ok||await Lc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await Lc(u)}}function ft(e){var t;let r=null;by(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ey(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mc(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xy(e){return{data:e,error:null}}function wy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=my(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function ky(e){return e}function by(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ra=["global","local","others"];var _y=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class jy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Df(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ra[0]){if(Ra.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ra.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_y(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:wy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ky});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=k}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Nr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Nr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$t})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Nr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Nr(t.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Nr(t.userId),Nr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}function Uc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&$f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ny extends Lf{}async function Ey(e,t,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ny(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sy();const Cy={url:Mv,storageKey:Uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bc(e,t,r){return await r()}const Cr={};class is{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Cy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Df(s.fetch),this.lock=s.lock||Bc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ey:this.lock=Bc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Uc(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Af}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ry(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ze()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Kv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new If("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Sr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:ft})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ft})}else throw new Ms("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mc})}else throw new Ms("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ls}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,h,f,y;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:x,wallet:g,statement:p,options:m}=t;let w;if(Ze())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const N=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),p?{statement:p}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),k=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=S}}try{const{data:x,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Zv(k)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ft});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ls}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(U(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ls}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ls}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Sr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ms("You must provide either an email or phone number.")}catch(o){if(U(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Sr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:xy})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ms("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ta:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await rr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ia()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(U(r))return Hv(r)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Tt;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Sr(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:$t});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Oa(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ze())throw new Us("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Us(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ac("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ac("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new Us("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;u&&(f=parseInt(u));const y=f-d;y*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:k,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Wv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ty(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iy(async s=>(s>0&&await sy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Aa(i)&&Date.now()+a-n<Pr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Tr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ia()}else if(s&&!s.user&&!s.user){const a=await rr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Pt(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,s)):s.user=Ia()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ta;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ta}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Aa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),U(i)){const a={session:null,error:i};return Aa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Dc(s);await Tr(this.storage,this.storageKey,i)}else{const s=Dc(r);await Tr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pr}ms, refresh threshold is ${Ml} ticks`),s<=Ml&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Sr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Oa(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Fv>s)return n;const{data:i,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Oa(n);r!=null&&r.allowExpired||hy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=fy(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Yv(`${o}.${u}`)))throw new zl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}is.nextInstanceID=0;const Py=is;class Ty extends Py{constructor(t){super(t)}}var Ay=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Oy{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Dv(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Cv,realtime:Tv,auth:Object.assign(Object.assign({},Pv),{storageKey:c}),global:Ev},h=Lv(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Rv(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new J0(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new jv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new N0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ay(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ty({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new dv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Iy=(e,t,r)=>new Oy(e,t,r);function Ry(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ry()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mf="https://dfovfdluhrdmrhtubomt.supabase.co",Cn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmb3ZmZGx1aHJkbXJodHVib210Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4Mjk5NDEsImV4cCI6MjA2OTQwNTk0MX0.pHMloRnImKF8MqQjAJgk6NfGV5PkECJq83_j8ZX3m80";console.log("Supabase config:",{url:Mf,hasAnonKey:!!Cn,anonKeyPrefix:(Cn==null?void 0:Cn.substring(0,20))+"..."});const z=Iy(Mf,Cn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}}}),Uf=_.createContext(),$y=(e,t)=>{const r=new Map;return n=>{const s=Date.now(),a=(r.get(n)||[]).filter(o=>s-o<t);return a.length>=e?!1:(a.push(s),r.set(n,a),!0)}},zc=$y(3,6e4),St=()=>{const e=_.useContext(Uf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dy=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(null),[o,u]=_.useState(!1),c=_.useRef(null),d=_.useRef(!0),h=_.useCallback(async m=>{if(!d.current)return null;try{const{data:w,error:N}=await z.from("users").select("*").eq("id",m).single();return N&&N.code!=="PGRST116"?(console.warn("Profile fetch error:",N),null):w}catch(w){return console.warn("Profile fetch failed:",w),null}},[]);_.useEffect(()=>{if(o)return;(async()=>{var N,S,b,E;try{if(!d.current)return;const{data:{session:O},error:C}=await z.auth.getSession();if(C){console.warn("Session fetch error:",C);return}if(O!=null&&O.user&&d.current){const L=await h(O.user.id);if(d.current)if(L){const j=L.name||((b=O.user.user_metadata)==null?void 0:b.name)||((E=O.user.email)==null?void 0:E.split("@")[0])||O.user.email;console.log("Setting user name from profile during init to:",j),r({...O.user,...L,name:j})}else{console.warn("No profile found during init, using auth data only");const j=((N=O.user.user_metadata)==null?void 0:N.name)||((S=O.user.email)==null?void 0:S.split("@")[0])||O.user.email;console.log("Setting user name during init to:",j),r({...O.user,name:j,email:O.user.email,phone:null,company:null,department:null,role:"USER",site_mode:"B2C"})}}}catch(O){console.warn("Failed to initialize auth:",O),d.current&&a("Authentication initialization failed")}finally{d.current&&(s(!1),u(!0))}})(),c.current&&c.current.unsubscribe();const{data:{subscription:w}}=z.auth.onAuthStateChange(async(N,S)=>{var b,E,O,C,L;if(d.current){console.log("Auth state change:",N,(b=S==null?void 0:S.user)==null?void 0:b.id);try{if(S!=null&&S.user&&d.current){const j=await h(S.user.id);if(d.current)if(j){const P=j.name||((C=S.user.user_metadata)==null?void 0:C.name)||((L=S.user.email)==null?void 0:L.split("@")[0])||S.user.email;console.log("Setting user name from profile to:",P),r({...S.user,...j,name:P})}else{console.warn("No profile found during auth change, using auth data only");const P=((E=S.user.user_metadata)==null?void 0:E.name)||((O=S.user.email)==null?void 0:O.split("@")[0])||S.user.email;console.log("Setting user name to:",P),r({...S.user,name:P,email:S.user.email,phone:null,company:null,department:null,role:"USER",site_mode:"B2C"})}}else d.current&&r(null)}catch(j){console.warn("Auth state change error:",j)}finally{d.current&&s(!1)}}});return c.current=w,()=>{c.current&&(c.current.unsubscribe(),c.current=null)}},[o,h]),_.useEffect(()=>()=>{c.current&&c.current.unsubscribe()},[]);const p={user:t,loading:n,error:i,isAuthenticated:!!t,login:async(m,w)=>{var N,S,b;try{const E=`login_${m}`;if(!zc(E)){const L="For mange login-forsøg. Prøv igen om 1 minut.";return a(L),{success:!1,error:L}}if(a(null),s(!0),!(m!=null&&m.trim())||!(w!=null&&w.trim()))throw new Error("Email og adgangskode er påkrævet");console.log("useAuth: Attempting Supabase login with:",{email:m.trim(),passwordLength:w==null?void 0:w.length,hasPassword:!!w});const{data:O,error:C}=await z.auth.signInWithPassword({email:m.trim(),password:w});if(console.log("useAuth: Supabase response:",{success:!C,error:C==null?void 0:C.message,errorCode:C==null?void 0:C.code,user:(N=O==null?void 0:O.user)==null?void 0:N.id}),C){let L="Login fejlede";throw C.message.includes("Invalid login credentials")?L="Ugyldig email eller adgangskode":C.message.includes("Email not confirmed")?L="Du skal bekræfte din email før du kan logge ind. Tjek din indbakke og klik på bekræftelseslinket.":C.message.includes("Too many requests")?L="For mange forsøg. Prøv igen senere.":L=C.message,new Error(L)}if(!d.current)return{success:!1,error:"Component unmounted"};if(O.user){const L=await h(O.user.id);if(d.current){const j=(L==null?void 0:L.name)||((S=O.user.user_metadata)==null?void 0:S.name)||((b=O.user.email)==null?void 0:b.split("@")[0])||O.user.email;r({...O.user,...L,name:j}),console.log("Login successful, user state updated.")}}return{success:!0}}catch(E){console.error("Login error:",E);const O=E.message||"Login fejlede";return d.current&&a(O),{success:!1,error:O}}finally{d.current&&s(!1)}},register:async m=>{var w,N,S,b,E,O,C;try{const L=`register_${m.email}`;if(!zc(L)){const M="For mange registrerings-forsøg. Prøv igen om 1 minut.";return d.current&&a(M),{success:!1,error:M}}if(d.current&&(a(null),s(!0)),!((w=m.email)!=null&&w.trim())||!((N=m.password)!=null&&N.trim())||!((S=m.name)!=null&&S.trim()))throw new Error("Email, adgangskode og navn er påkrævet");const{data:j,error:P}=await z.auth.signUp({email:m.email.trim(),password:m.password,options:{data:{name:(b=m.name)==null?void 0:b.trim(),phone:((E=m.phone)==null?void 0:E.trim())||null,company:((O=m.company)==null?void 0:O.trim())||null,department:((C=m.department)==null?void 0:C.trim())||null,site_mode:m.siteMode||"B2C"}}});if(P){let M="Registrering fejlede";throw P.message.includes("User already registered")?M="Email er allerede registreret":P.message.includes("Password should be")?M="Adgangskoden skal være mindst 6 tegn":P.message.includes("Invalid email")?M="Ugyldig email adresse":M=P.message,new Error(M)}return d.current?{success:!0,user:j.user}:{success:!1,error:"Component unmounted"}}catch(L){console.error("Registration error:",L);const j=L.message||"Registrering fejlede";return d.current&&a(j),{success:!1,error:j}}finally{d.current&&s(!1)}},logout:async()=>{try{if(!d.current)return;a(null),await z.auth.signOut(),d.current&&r(null)}catch(m){console.warn("Logout error:",m),d.current&&a("Logout fejlede")}},updateProfile:async m=>{var w,N,S,b,E;try{if(!d.current||!t)return{success:!1,error:"Ikke logget ind"};if(a(null),!((w=m.name)!=null&&w.trim()))throw new Error("Navn er påkrævet");const{data:O,error:C}=await z.from("users").update({name:(N=m.name)==null?void 0:N.trim(),phone:((S=m.phone)==null?void 0:S.trim())||null,company:((b=m.company)==null?void 0:b.trim())||null,department:((E=m.department)==null?void 0:E.trim())||null,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(C)throw C;if(!d.current)return{success:!1,error:"Component unmounted"};const L={...t,...O};return r(L),{success:!0,user:L}}catch(O){console.error("Profile update error:",O);const C=O.message||"Profil opdatering fejlede";return d.current&&a(C),{success:!1,error:C}}},changePassword:async(m,w)=>{try{if(!d.current||!t)return{success:!1,error:"Ikke logget ind"};if(a(null),!(m!=null&&m.trim())||!(w!=null&&w.trim()))throw new Error("Både nuværende og ny adgangskode er påkrævet");if(w.length<6)throw new Error("Ny adgangskode skal være mindst 6 tegn");const{error:N}=await z.auth.signInWithPassword({email:t.email,password:m});if(N)throw N.message.includes("Invalid login credentials")?new Error("Nuværende adgangskode er forkert"):new Error("Kunne ikke verificere nuværende adgangskode");const{error:S}=await z.auth.updateUser({password:w});if(S){let b="Adgangskode opdatering fejlede";throw S.message.includes("New password should be different")?b="Ny adgangskode skal være forskellig fra den nuværende":S.message.includes("Password should be")?b="Adgangskoden skal være mindst 6 tegn":b=S.message,new Error(b)}return d.current?{success:!0}:{success:!1,error:"Component unmounted"}}catch(N){console.error("Password change error:",N);const S=N.message||"Adgangskode ændring fejlede";return d.current&&a(S),{success:!1,error:S}}},validateUserSiteMode:m=>t&&t.site_mode&&t.site_mode!==m.toUpperCase()?{shouldRedirect:!0,correctSiteMode:t.site_mode.toLowerCase()}:{shouldRedirect:!1},clearError:()=>a(null)};return l.jsx(Uf.Provider,{value:p,children:e})},Ly=(e,t=[])=>{const[r,n]=_.useState(null),[s,i]=_.useState(!0),[a,o]=_.useState(null),u=_.useRef(!0),c=_.useRef(0),d=_.useCallback(async()=>{var y,v,k,x;if(console.log("useSupabaseQuery: fetchData called, mounted:",u.current),!u.current)return;const f=++c.current;console.log("useSupabaseQuery: Starting request",f);try{console.log("useSupabaseQuery: Setting loading true"),i(!0),o(null),console.log("useSupabaseQuery: Calling queryFn");const g=await e();console.log("useSupabaseQuery: QueryFn returned:",g),f===c.current&&u.current&&(console.log("useSupabaseQuery: Setting data:",g),n(g))}catch(g){if(console.error("Supabase query error:",g),f===c.current&&u.current){let p="Query failed";(y=g.message)!=null&&y.includes("JWT expired")?p="Session udløbet. Log ind igen.":(v=g.message)!=null&&v.includes("permission denied")?p="Adgang nægtet. Tjek dine rettigheder.":(k=g.message)!=null&&k.includes("relation")&&((x=g.message)!=null&&x.includes("does not exist"))?p="Database tabel ikke fundet.":g.message&&(p=g.message),o(p)}}finally{f===c.current&&u.current&&(console.log("useSupabaseQuery: Setting loading to false"),i(!1))}},t);_.useEffect(()=>{u.current&&d()},[d]),_.useEffect(()=>()=>{u.current=!1},[]);const h=_.useCallback(()=>{u.current&&d()},[d]);return{data:r,loading:s,error:a,refetch:h}},My=(e="B2B")=>{const[t,r]=_.useState(null),[n,s]=_.useState(!0),[i,a]=_.useState(null);return _.useEffect(()=>{(async()=>{try{s(!0),a(null);const{data:u,error:c}=await z.from("tutors").select(`
            *,
            sessions(*)
          `).eq("is_active",!0).order("created_at",{ascending:!1});if(c)throw c;const d=(u==null?void 0:u.map(h=>({id:h.id,userId:h.user_id,title:h.title||"Unavailable",specialty:h.specialty||"General",experience:h.experience||"",valueProp:h.value_prop||"",img:h.img||`https://placehold.co/100x100/E2E8F0/4A5568?text=${(h.title||"T")[0]}`,basePrice:h.base_price||h.price||0,price:h.price||h.base_price||0,isActive:h.is_active,name:h.title||h.name||"Unavailable",sessions:Array.isArray(h.sessions)?h.sessions:[]})))||[];r(d)}catch(u){a(u.message)}finally{s(!1)}})()},[e]),{data:t||[],loading:n,error:i}},Uy=(e={})=>Ly(async()=>{const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw console.error("User fetch error:",r),new Error("Authentication fejlede");if(!t)return console.warn("No authenticated user found"),[];let n=z.from("bookings").select(`
        *,
        tutor:tutors(*),
        session:sessions(*)
      `).eq("user_id",t.id);if(e.status&&typeof e.status=="string"&&(n=n.eq("status",e.status.toUpperCase())),e.siteMode&&typeof e.siteMode=="string"){const o=["B2B","B2C"].includes(e.siteMode.toUpperCase())?e.siteMode.toUpperCase():null;o&&(n=n.eq("site_mode",o))}const{data:s,error:i}=await n.order("created_at",{ascending:!1});if(i)throw console.error("Bookings fetch error:",i),i;return s?s.map(a=>{try{return{...a,totalPrice:a.total_price||0,bookingDate:a.created_at,tutor:a.tutor||{name:"Unknown",title:"Unknown"},session:a.session||{title:"Unknown Session"}}}catch(o){return console.warn("Error transforming booking data:",o,a),{...a,totalPrice:0,bookingDate:a.created_at,tutor:{name:"Unknown",title:"Unknown"},session:{title:"Unknown Session"}}}}):[]},[JSON.stringify(e)]),By=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(null),s=_.useRef(!0),i=_.useRef(0);_.useEffect(()=>()=>{s.current=!1},[]);const a=_.useCallback(async u=>{var d,h,f;if(!s.current)return{success:!1,error:"Component unmounted"};const c=Date.now();if(c-i.current<1e3)return{success:!1,error:"For hurtige forespørgsler. Vent venligst."};i.current=c;try{s.current&&(t(!0),n(null));const y=await u();return s.current?{success:!0,data:y}:{success:!1,error:"Component unmounted"}}catch(y){console.error("Mutation error:",y);let v="Operation failed";return(d=y.message)!=null&&d.includes("duplicate key")?v="Data findes allerede":(h=y.message)!=null&&h.includes("permission denied")?v="Adgang nægtet":(f=y.message)!=null&&f.includes("not authenticated")?v="Ikke logget ind":y.message&&(v=y.message),s.current&&n(v),{success:!1,error:v}}finally{s.current&&t(!1)}},[]),o=_.useCallback(()=>{s.current&&n(null)},[]);return{mutate:a,loading:e,error:r,clearError:o}},zy=()=>{const{mutate:e,loading:t,error:r,clearError:n}=By();return{createBooking:_.useCallback(async i=>await e(async()=>{var f,y,v,k,x,g;if(!i.tutorId||!i.sessionId)throw new Error("Tutor og session er påkrævet");if(!((f=i.contactName)!=null&&f.trim())||!((y=i.contactEmail)!=null&&y.trim()))throw new Error("Kontakt navn og email er påkrævet");if(!i.selectedDateTime)throw new Error("Vælg venligst en tid for sessionen");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.contactEmail.trim()))throw new Error("Ugyldig email adresse");const{data:{user:o},error:u}=await z.auth.getUser();if(u)throw new Error("Authentication fejlede");if(!o)throw new Error("Ikke logget ind");let c=i.totalPrice||0;!c&&i.participants&&i.basePrice&&(c=i.basePrice*i.participants);const{data:d,error:h}=await z.from("bookings").insert([{user_id:o.id,tutor_id:i.tutorId,session_id:i.sessionId,selected_date_time:i.selectedDateTime,total_price:c,contact_name:i.contactName.trim(),contact_email:i.contactEmail.trim(),contact_phone:((v=i.contactPhone)==null?void 0:v.trim())||"",company:((k=i.company)==null?void 0:k.trim())||"",department:((x=i.department)==null?void 0:x.trim())||"",participants:i.participants||1,format:i.format||"INDIVIDUAL",site_mode:i.siteMode||"B2C",status:"PENDING",notes:((g=i.notes)==null?void 0:g.trim())||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select(`
          *,
          tutor:tutors(*),
          session:sessions(*)
        `).single();if(h)throw console.error("Booking creation error:",h),h;return d}),[e]),loading:t,error:r,clearError:n}};var Fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wy=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:o,...u},c)=>_.createElement("svg",{ref:c,...Fy,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Vy(e)}`,...u},[...t.map(([d,h])=>_.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var F=Wy;const Bf=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hy=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),zf=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Wo=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Fc=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ky=F("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),ea=F("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),qy=F("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ho=F("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Vc=F("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),nn=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ni=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Gy=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Qy=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Jy=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Xy=F("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),as=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Fl=F("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ff=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Vf=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yy=F("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Ko=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Wf=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),xs=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zy=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ls=F("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),qo=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Hf=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ei=F("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),os=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ex=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Kf=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Go=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),tx=F("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Jt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qf=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rx=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),sn=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nx=({email:e,onBackToLogin:t,siteMode:r="b2c"})=>{const n=r==="b2b";return l.jsxs("div",{className:"max-w-md mx-auto bg-slate-800 rounded-lg p-8 text-center",children:[l.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center ${n?"bg-green-600":"bg-blue-600"}`,children:l.jsx(xs,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Tjek din email"}),l.jsx("p",{className:"text-slate-300 mb-2",children:"Vi har sendt en bekræftelsesmail til:"}),l.jsx("p",{className:"text-white font-semibold mb-6 bg-slate-700 px-4 py-2 rounded-lg",children:e}),l.jsx("div",{className:"bg-slate-700 rounded-lg p-4 mb-6 text-left",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Ni,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${n?"text-green-400":"text-blue-400"}`}),l.jsxs("div",{className:"text-sm text-slate-300",children:[l.jsx("p",{className:"font-medium mb-1",children:"Næste skridt:"}),l.jsx("p",{children:"Klik på linket i emailen for at bekræfte din konto og aktivere adgang til platformen."})]})]})}),l.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[l.jsx("p",{children:"Kan du ikke finde emailen?"}),l.jsx("p",{children:"Tjek din spam-mappe eller prøv at oprette kontoen igen."})]}),l.jsxs("button",{onClick:t,className:`w-full ${n?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2`,children:[l.jsx(Hy,{className:"w-4 h-4"}),"Jeg har bekræftet - log mig ind"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-4",children:"Efter du har bekræftet din email, kan du logge ind med dine oplysninger."})]})},sx=({isOpen:e,onClose:t,initialMode:r="signup",siteMode:n="b2b"})=>{const[s,i]=_.useState(r),[a,o]=_.useState(!1),[u,c]=_.useState(!1),[d,h]=_.useState(""),[f,y]=_.useState({email:"",password:"",name:"",phone:"",company:"",department:""}),[v,k]=_.useState({}),[x,g]=_.useState(!1),{login:p,register:m,error:w,clearError:N,user:S,isAuthenticated:b}=St(),E=n==="b2b";Ue.useEffect(()=>{i(r),console.log("AuthModal: Initialized with mode:",r)},[]),Ue.useEffect(()=>{e||(y({email:"",password:"",name:"",phone:"",company:"",department:""}),k({}),g(!1),s==="email-confirmation"&&i("login"),h(""),N())},[e,N,s]),Ue.useEffect(()=>{console.log("AuthModal: Mode changed to:",s),k({}),c(!1)},[s]),Ue.useEffect(()=>{b&&e&&(console.log("AuthModal: User is authenticated, closing modal."),t())},[b,e,t]);const O=(P,M)=>{y(B=>({...B,[P]:M})),v[P]&&k(B=>({...B,[P]:""})),w&&N()},C=async P=>{var Q,re,ht,$,Y,G,ie,fn,Jo,Xo,Yo,Zo,eu,tu,ru,nu;P.preventDefault();const M=P.target,B=M.querySelector('input[name="email"]'),q=M.querySelector('input[name="password"]'),H=(B==null?void 0:B.value)||f.email,T=(q==null?void 0:q.value)||f.password,I={...f,email:H,password:T},D={};if(H!=null&&H.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H)||(D.email="Indtast en gyldig email adresse"):D.email="Email er påkrævet",T!=null&&T.trim()?s==="signup"&&T.length<6&&(D.password="Adgangskode skal være mindst 6 tegn"):D.password="Adgangskode er påkrævet",s==="signup"&&((Q=I.name)!=null&&Q.trim()||(D.name="Navn er påkrævet")),Object.keys(D).length>0){k(D),g(!1);return}g(!0),N();try{let Z;if(s==="login"){if(Z=await p(H,T),!Z.success){console.error("Login failed with error:",Z.error),(re=Z.error)!=null&&re.includes("Invalid login credentials")||(ht=Z.error)!=null&&ht.includes("Ugyldig email eller adgangskode")?k({general:"Forkert email eller adgangskode. Tjek dine oplysninger og prøv igen.",email:"",password:""}):($=Z.error)!=null&&$.includes("Email not confirmed")||(Y=Z.error)!=null&&Y.includes("ikke bekræftet")?k({general:"Din email er ikke bekræftet endnu. Tjek din indbakke og klik på bekræftelseslinket, så kan du logge ind.",email:"",password:""}):(G=Z.error)!=null&&G.includes("Too many requests")||(ie=Z.error)!=null&&ie.includes("mange forsøg")?k({general:"For mange login-forsøg. Vent et par minutter og prøv igen.",email:"",password:""}):(fn=Z.error)!=null&&fn.includes("User not found")||(Jo=Z.error)!=null&&Jo.includes("ikke fundet")?(k({email:"Denne email er ikke registreret. Vil du oprette en konto?",password:""}),c(!0)):k({general:Z.error||"Login fejlede. Prøv igen.",email:"",password:""}),g(!1);return}}else{if(Z=await m({email:H,password:T,name:I.name,phone:I.phone,company:E?I.company:"",department:E?I.department:"",siteMode:n.toUpperCase()}),Z.success){h(H),i("email-confirmation"),g(!1);return}if(!Z.success){(Xo=Z.error)!=null&&Xo.includes("User already registered")||(Yo=Z.error)!=null&&Yo.includes("allerede registreret")?k({email:"Denne email er allerede registreret. Prøv at logge ind i stedet.",general:""}):(Zo=Z.error)!=null&&Zo.includes("Password should be")||(eu=Z.error)!=null&&eu.includes("Adgangskoden skal")?k({password:"Adgangskoden skal være mindst 6 tegn lang.",general:""}):(tu=Z.error)!=null&&tu.includes("Invalid email")||(ru=Z.error)!=null&&ru.includes("Ugyldig email")?k({email:"Indtast en gyldig email adresse.",general:""}):(nu=Z.error)!=null&&nu.includes("Signup is disabled")?k({general:"Kontooprettelse er midlertidigt deaktiveret. Kontakt support.",email:""}):k({general:Z.error||"Kontooprettelse fejlede. Prøv igen.",email:""}),g(!1);return}}Z.success&&s==="login"&&console.log("AuthModal: Login successful, waiting for user state to update")}catch(Z){console.error("Auth error:",Z),k({general:"Der opstod en uventet fejl. Prøv igen."}),g(!1)}},L=()=>{i("signup"),c(!1),k({})},j=()=>{console.log("AuthModal: handleBackToLogin called, switching to login mode"),i("login"),h(""),k({}),c(!1)};return e?s==="email-confirmation"?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:t,className:"absolute -top-2 -right-2 z-10 text-slate-400 hover:text-white transition-colors bg-slate-800 rounded-full p-2",children:l.jsx(sn,{className:"w-5 h-5"})}),l.jsx(nx,{email:d,onBackToLogin:j,siteMode:n})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:s==="login"?"Velkommen tilbage":`Kom i gang med AI Rookie${E?" Enterprise":""}`}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(sn,{className:"w-6 h-6"})})]}),l.jsx("p",{className:"text-slate-400 text-sm",children:s==="login"?"Log ind for at fortsætte din AI-rejse":E?"Få adgang til ekspertviden og workshops der driver resultater":"Start din personlige AI-læring med erfarne tutorer"})]}),l.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[(w||v.general)&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 flex items-start gap-2",children:[l.jsx(Bf,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-red-200 text-sm",children:w||v.general})]}),s==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fulde navn *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:f.name,onChange:P=>O("name",P.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${v.name?"border border-red-500":""}`,placeholder:"Dit fulde navn"})]}),v.name&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:v.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email *"}),l.jsxs("div",{className:"relative",children:[l.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{name:"email",type:"email",value:f.email,onChange:P=>O("email",P.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${v.email?"border border-red-500":""}`,placeholder:"din@email.dk"})]}),v.email&&l.jsxs("div",{className:"mt-1",children:[l.jsx("p",{className:"text-red-400 text-xs",children:v.email}),u&&l.jsx("button",{type:"button",onClick:L,className:`mt-2 text-xs ${E?"text-green-400 hover:text-green-300":"text-blue-400 hover:text-blue-300"} underline`,children:"Ja, opret en konto med denne email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Adgangskode *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{name:"password",type:a?"text":"password",value:f.password,onChange:P=>O("password",P.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-10 text-white focus:ring-2 focus:ring-blue-500 ${v.password?"border border-red-500":""}`,placeholder:s==="signup"?"Mindst 6 tegn":"Din adgangskode"}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:a?l.jsx(Ff,{className:"w-5 h-5"}):l.jsx(Vf,{className:"w-5 h-5"})})]}),v.password&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:v.password})]}),s==="signup"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon"}),l.jsx("input",{type:"tel",value:f.phone,onChange:P=>O("phone",P.target.value),className:"w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"+45 12 34 56 78"})]}),E&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:f.company,onChange:P=>O("company",P.target.value),className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"Virksomhedens navn"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling"}),l.jsxs("div",{className:"relative",children:[l.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:f.department,onChange:P=>O("department",P.target.value),className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"Marketing, Sales, IT, etc."})]})]})]})]}),l.jsx("button",{type:"submit",disabled:x,className:`w-full ${E?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2`,children:x?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s==="login"?"Logger ind...":"Opretter konto..."]}):s==="login"?"Log ind":"Kom i gang nu"}),l.jsx("div",{className:"text-center border-t border-slate-700 pt-4",children:l.jsxs("p",{className:"text-slate-400 text-sm",children:[s==="login"?"Ny bruger?":"Har du allerede en konto?",l.jsx("button",{type:"button",onClick:()=>{const P=s==="login"?"signup":"login";console.log("AuthModal: Mode switch button clicked, changing from",s,"to",P),i(P)},className:`${E?"text-green-400 hover:text-green-300":"text-blue-400 hover:text-blue-300"} ml-2 font-medium underline`,children:s==="login"?"Kom i gang her":"Log ind her"})]})})]})]})}):null},ix=({isOpen:e,onClose:t,siteMode:r="b2b"})=>{const{user:n,updateProfile:s,logout:i,changePassword:a}=St(),o=r==="b2b",[u,c]=_.useState(!1),[d,h]=_.useState(()=>({name:(n==null?void 0:n.name)||"",phone:(n==null?void 0:n.phone)||"",company:(n==null?void 0:n.company)||"",department:(n==null?void 0:n.department)||"",lastUserId:(n==null?void 0:n.id)||null})),[f,y]=_.useState({}),[v,k]=_.useState(!1),[x,g]=_.useState(""),[p,m]=_.useState(!1),[w,N]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,b]=_.useState({}),[E,O]=_.useState(!1),[C,L]=_.useState(""),j=Ue.useRef(null),P=Ue.useRef(null),[M,B]=_.useState(!1),q=()=>{if(!d)return 0;const $=["name","phone"];o&&$.push("company","department");const Y=$.filter(G=>{var ie;return(ie=d[G])==null?void 0:ie.trim()});return Math.round(Y.length/$.length*100)};Ue.useEffect(()=>{n&&n.id!==d.lastUserId&&h({name:n.name||"",phone:n.phone||"",company:n.company||"",department:n.department||"",lastUserId:n.id})},[n]),Ue.useEffect(()=>{e||(j.current&&(clearTimeout(j.current),j.current=null),P.current&&(clearTimeout(P.current),P.current=null),c(!1),y({}),g(""),m(!1),N({currentPassword:"",newPassword:"",confirmPassword:""}),b({}),L(""))},[e]),Ue.useEffect(()=>()=>{j.current&&clearTimeout(j.current),P.current&&clearTimeout(P.current)},[]);const H=()=>{var Y,G;const $={};if((Y=d.name)!=null&&Y.trim()||($.name="Navn er påkrævet"),(G=d.phone)!=null&&G.trim()){const ie=d.phone.replace(/[^\d+]/g,"");/^(\+45)?[2-9]\d{7}$/.test(ie)||($.phone="Indtast et gyldigt dansk telefonnummer (8 cifre, evt. med +45)")}return y($),Object.keys($).length===0},T=($,Y)=>{h(G=>{const ie={...G,[$]:Y},fn=ie.name!==((n==null?void 0:n.name)||"")||ie.phone!==((n==null?void 0:n.phone)||"")||ie.company!==((n==null?void 0:n.company)||"")||ie.department!==((n==null?void 0:n.department)||"");return B(fn),ie}),f[$]&&y(G=>({...G,[$]:""}))},I=async $=>{if($.preventDefault(),!!H()){k(!0),g(""),y({});try{const Y=await s(d);Y.success?(c(!1),B(!1),g("Profil opdateret succesfuldt"),j.current=setTimeout(()=>g(""),3e3)):y({general:Y.error||"Profil opdatering fejlede. Prøv igen."})}catch(Y){console.error("Profile update error:",Y),y({general:"Der opstod en uventet fejl. Prøv igen senere."})}finally{k(!1)}}},D=()=>{var Y,G,ie;const $={};return(Y=w.currentPassword)!=null&&Y.trim()||($.currentPassword="Nuværende adgangskode er påkrævet"),(G=w.newPassword)!=null&&G.trim()?w.newPassword.length<6&&($.newPassword="Ny adgangskode skal være mindst 6 tegn"):$.newPassword="Ny adgangskode er påkrævet",(ie=w.confirmPassword)!=null&&ie.trim()?w.newPassword!==w.confirmPassword&&($.confirmPassword="Adgangskoderne er ikke ens"):$.confirmPassword="Bekræft ny adgangskode",w.currentPassword&&w.newPassword&&w.currentPassword===w.newPassword&&($.newPassword="Ny adgangskode skal være forskellig fra den nuværende"),b($),Object.keys($).length===0},Q=async()=>{if(D()){O(!0),L(""),b({});try{const $=await a(w.currentPassword,w.newPassword);$.success?(L("Adgangskode ændret succesfuldt"),N({currentPassword:"",newPassword:"",confirmPassword:""}),P.current=setTimeout(()=>{L(""),m(!1)},2e3)):b({general:$.error||"Adgangskode ændring fejlede. Prøv igen."})}catch($){console.error("Password change error:",$),b({general:"Der opstod en uventet fejl. Prøv igen senere."})}finally{O(!1)}}},re=($,Y)=>{N(G=>({...G,[$]:Y})),S[$]&&b(G=>({...G,[$]:""}))},ht=async()=>{await i(),t()};return!e||!n?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg w-full max-w-md md:max-w-lg lg:max-w-xl mx-auto max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Min Profil"}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(sn,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[x&&l.jsx("div",{className:"bg-green-900/50 border border-green-600 rounded-lg p-3",children:l.jsx("p",{className:"text-green-200 text-sm",children:x})}),u&&l.jsx("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ls,{className:"w-4 h-4 text-blue-400"}),l.jsx("p",{className:"text-blue-200 text-sm",children:"Du redigerer din profil"})]})}),u&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[l.jsx("span",{children:"Profil fuldendthed"}),l.jsxs("span",{children:[q(),"%"]})]}),l.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o?"bg-green-500":"bg-blue-500"}`,style:{width:`${q()}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(Jt,{className:"w-8 h-8 text-slate-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:n.name}),l.jsx("p",{className:"text-slate-400 text-sm",children:n.email}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.role==="ADMIN"?"bg-purple-600 text-white":n.role==="TUTOR"?"bg-blue-600 text-white":"bg-gray-600 text-white"}`,children:n.role==="ADMIN"?"Administrator":n.role==="TUTOR"?"Tutor":"Kunde"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.site_mode==="B2B"?"bg-green-600 text-white":"bg-orange-600 text-white"}`,children:n.site_mode})]})]}),f.general&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 flex items-start gap-2",children:[l.jsx("div",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",children:"⚠"}),l.jsx("p",{className:"text-red-200 text-sm",children:f.general})]}),l.jsxs("form",{onSubmit:I,className:"space-y-6 md:space-y-4",children:[l.jsxs("div",{className:`transition-all duration-200 ${u?"ring-1 ring-blue-500/20 rounded-lg p-1":""}`,children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Fulde navn *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Jt,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 transition-colors
                  ${u?"text-blue-400":"text-slate-400"}`}),l.jsx("input",{type:"text",value:d.name,onChange:$=>T("name",$.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-lg py-3 pl-11 pr-12 text-white transition-all duration-200
                    ${u?"focus:ring-2 focus:ring-blue-500 focus:bg-slate-600 border-transparent":"opacity-60 cursor-not-allowed"}
                    ${f.name?"ring-2 ring-red-500":""}
                  `,placeholder:"Dit fulde navn"}),u&&d.name&&!f.name&&l.jsx(Ni,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400"})]}),f.name&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:f.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white opacity-60 cursor-not-allowed"})]}),l.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Email kan ikke ændres"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon"}),l.jsxs("div",{className:"relative",children:[l.jsx(qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"tel",value:d.phone,onChange:$=>{let Y=$.target.value;const G=Y.replace(/[^\d+]/g,"");if(G.startsWith("+45")){const ie=G.slice(3);ie.length<=8&&(Y="+45 "+ie.replace(/(\d{2})(?=\d)/g,"$1 ").trim())}else G.length<=8&&(Y=G.replace(/(\d{2})(?=\d)/g,"$1 ").trim());T("phone",Y)},disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"} ${f.phone?"border border-red-500":""}`,placeholder:"+45 12 34 56 78"})]}),f.phone&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:f.phone})]}),o&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:d.company,onChange:$=>T("company",$.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"}`,placeholder:"Virksomhedens navn"})]})]}),o&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling"}),l.jsxs("div",{className:"relative",children:[l.jsx(ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:d.department,onChange:$=>T("department",$.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"}`,placeholder:"Marketing, Sales, IT, etc."})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-slate-600",children:u?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"submit",disabled:v||!M||Object.keys(f).length>0,className:`flex-1 min-h-[44px] text-base font-semibold py-3 px-6 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed
                      transition-all duration-200 flex items-center justify-center gap-2 focus:ring-2 focus:ring-offset-2
                      focus:ring-offset-slate-800 shadow-lg hover:shadow-xl ${v?"cursor-wait":""}
                      ${Object.keys(f).length>0?"bg-red-600 cursor-not-allowed":M?o?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"bg-gray-600 cursor-not-allowed"} text-white`,children:v?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Gemmer..."]}):Object.keys(f).length>0?"Ret fejl først":M?l.jsxs(l.Fragment,{children:[l.jsx(os,{className:"w-5 h-5"}),"Gem ændringer"]}):"Ingen ændringer"}),l.jsx("button",{type:"button",onClick:()=>{M&&!window.confirm("Du har ugemte ændringer. Er du sikker på at du vil annullere?")||(c(!1),h({name:n.name||"",phone:n.phone||"",company:n.company||"",department:n.department||"",lastUserId:n.id}),y({}),g(""),B(!1))},className:`flex-1 min-h-[44px] text-base bg-slate-600 hover:bg-slate-500 text-white font-medium py-3 px-6 rounded-lg
                    transition-all duration-200 focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-800`,children:"Annuller"})]}):l.jsxs("button",{type:"button",onClick:()=>c(!0),className:`w-full min-h-[44px] text-base font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-2
                  focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 shadow-lg hover:shadow-xl
                  ${o?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"} text-white`,children:[l.jsx(ls,{className:"w-5 h-5"}),"Rediger profil"]})})]}),p?l.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Skift adgangskode"}),C&&l.jsx("div",{className:"bg-green-900/50 border border-green-600 rounded-lg p-3 mb-4",children:l.jsx("p",{className:"text-green-200 text-sm",children:C})}),S.general&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 mb-4 flex items-start gap-2",children:[l.jsx("div",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",children:"⚠"}),l.jsx("p",{className:"text-red-200 text-sm",children:S.general})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nuværende adgangskode"}),l.jsx("input",{type:"password",value:w.currentPassword,onChange:$=>re("currentPassword",$.target.value),disabled:E,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${S.currentPassword?"border border-red-500":""}`,placeholder:"Indtast nuværende adgangskode"}),S.currentPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:S.currentPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Ny adgangskode"}),l.jsx("input",{type:"password",value:w.newPassword,onChange:$=>re("newPassword",$.target.value),disabled:E,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${S.newPassword?"border border-red-500":""}`,placeholder:"Mindst 6 tegn"}),S.newPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:S.newPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Bekræft ny adgangskode"}),l.jsx("input",{type:"password",value:w.confirmPassword,onChange:$=>re("confirmPassword",$.target.value),disabled:E,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${S.confirmPassword?"border border-red-500":""}`,placeholder:"Gentag ny adgangskode"}),S.confirmPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:S.confirmPassword})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:Q,disabled:E,className:`flex-1 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${E?"cursor-wait":""}`,children:E?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Skifter..."]}):"Skift adgangskode"}),l.jsx("button",{type:"button",onClick:()=>{m(!1),N({currentPassword:"",newPassword:"",confirmPassword:""}),b({}),L("")},disabled:E,className:"flex-1 bg-slate-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Annuller"})]})]})]}):l.jsxs("div",{className:"border-t border-slate-700 pt-4 space-y-3",children:[l.jsx("button",{type:"button",onClick:()=>m(!0),className:"w-full bg-slate-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors",children:"Skift adgangskode"}),l.jsx("button",{onClick:ht,className:"w-full bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Log ud"})]}),l.jsx("div",{className:"text-xs text-slate-400 text-center",children:(()=>{try{const $=n.created_at?new Date(n.created_at):null;return $&&!isNaN($.getTime())?`Medlem siden ${$.toLocaleDateString("da-DK")}`:"Medlem siden ukendt dato"}catch($){return console.warn("Error formatting created_at date:",$),"Medlem siden ukendt dato"}})()})]})]})})},ax=({children:e})=>{const[t,r]=_.useState(!1),[n,s]=_.useState(""),[i,a]=_.useState(!1),[o,u]=_.useState(""),[c,d]=_.useState(!0),h=!0;_.useEffect(()=>{sessionStorage.getItem("admin-authenticated")==="true"&&r(!0),d(!1)},[h]);const f=y=>{y.preventDefault(),u(""),n==="AI1234"?(r(!0),sessionStorage.setItem("admin-authenticated","true")):(u("Ugyldig adgangskode"),s(""))};return c?l.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t?e:l.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ei,{className:"w-20 h-20 text-blue-400 animate-bounce"}),l.jsx("div",{className:"absolute -top-2 -right-2",children:l.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full animate-pulse"})})]})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Kommer snart"}),l.jsx("p",{className:"text-slate-300 text-lg",children:"Vi arbejder på noget fantastisk! 🚀"})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-center mb-4",children:[l.jsx(Ko,{className:"w-5 h-5 text-slate-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Admin Adgang"})]}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&l.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3",children:l.jsx("p",{className:"text-red-200 text-sm text-center",children:o})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",value:n,onChange:y=>s(y.target.value),placeholder:"Admin adgangskode",className:"w-full bg-slate-700 rounded-md py-2 pl-3 pr-10 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none",autoComplete:"off"}),l.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:i?l.jsx(Ff,{className:"w-4 h-4"}):l.jsx(Vf,{className:"w-4 h-4"})})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Log ind"})]}),l.jsx("p",{className:"text-slate-500 text-xs text-center mt-4",children:"Admin adgang krævet for at se siden"})]})]})})};class J extends Error{constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.data=n}}const Bs={getAvailability:async(e,t,r)=>{let n=z.from("tutor_availability").select("*").eq("tutor_id",e);t&&(n=n.gte("date",t)),r&&(n=n.lte("date",r));const{data:s,error:i}=await n.order("date",{ascending:!0});if(i)throw new J(i.message,400,i);return{data:s,success:!0}},updateAvailability:async(e,t,r)=>{const{data:n}=await z.from("tutor_availability").select("id").eq("tutor_id",e).eq("date",t).single();let s;n?s=await z.from("tutor_availability").update({time_slots:r,updated_at:new Date().toISOString()}).eq("id",n.id).select().single():s=await z.from("tutor_availability").insert([{tutor_id:e,date:t,time_slots:r}]).select().single();const{data:i,error:a}=s;if(a)throw new J(a.message,400,a);return{data:i,success:!0}},bookTimeSlot:async(e,t,r)=>{const{data:n,error:s}=await z.rpc("book_time_slot",{p_tutor_id:e,p_date:t,p_time:r});if(s)throw new J(s.message,400,s);return{data:n,success:!0}}},us={getProfile:async()=>{const{data:{user:e},error:t}=await z.auth.getUser();if(t)throw new J("Authentication failed",401,t);if(!e)throw new J("Not authenticated",401);const{data:r,error:n}=await z.from("tutors").select(`
        *,
        user:users(*),
        sessions(*)
      `).eq("user_id",e.id).single();if(n)throw new J(n.message,404,n);return{data:r,success:!0}},updateProfile:async e=>{const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw new J("Authentication failed",401,r);if(!t)throw new J("Not authenticated",401);const{data:n,error:s}=await z.from("tutors").update({...e,updated_at:new Date().toISOString()}).eq("user_id",t.id).select(`
        *,
        user:users(*),
        sessions(*)
      `).single();if(s)throw new J(s.message,400,s);return{data:n,success:!0}},getTutorBookings:async(e={})=>{const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw new J("Authentication failed",401,r);if(!t)throw new J("Not authenticated",401);const{data:n,error:s}=await z.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new J("Tutor not found",404,s);let i=z.from("bookings").select(`
        *,
        user:users(name, email, phone, company),
        session:sessions(title, description, duration)
      `).eq("tutor_id",n.id);e.status&&(i=i.eq("status",e.status.toUpperCase()));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw new J(o.message,400,o);return{data:a,success:!0}},updateBookingStatus:async(e,t)=>{const{data:{user:r},error:n}=await z.auth.getUser();if(n)throw new J("Authentication failed",401,n);if(!r)throw new J("Not authenticated",401);const{data:s,error:i}=await z.from("tutors").select("id").eq("user_id",r.id).single();if(i)throw new J("Tutor not found",404,i);const{data:a,error:o}=await z.from("bookings").update({status:t.toUpperCase(),updated_at:new Date().toISOString(),...t.toUpperCase()==="CONFIRMED"&&{confirmed_at:new Date().toISOString()},...t.toUpperCase()==="CANCELLED"&&{cancelled_at:new Date().toISOString()}}).eq("id",e).eq("tutor_id",s.id).select().single();if(o)throw new J(o.message,400,o);return{data:a,success:!0}}},$a={getSessions:async e=>{const{data:t,error:r}=await z.from("sessions").select("*").eq("tutor_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw new J(r.message,400,r);return{data:t,success:!0}},createSession:async e=>{const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw new J("Authentication failed",401,r);if(!t)throw new J("Not authenticated",401);const{data:n,error:s}=await z.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new J("Tutor not found",404,s);const{data:i,error:a}=await z.from("sessions").insert([{...e,tutor_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw new J(a.message,400,a);return{data:i,success:!0}},updateSession:async(e,t)=>{const{data:{user:r},error:n}=await z.auth.getUser();if(n)throw new J("Authentication failed",401,n);if(!r)throw new J("Not authenticated",401);const{data:s,error:i}=await z.from("tutors").select("id").eq("user_id",r.id).single();if(i)throw new J("Tutor not found",404,i);const{data:a,error:o}=await z.from("sessions").update({...t,updated_at:new Date().toISOString()}).eq("id",e).eq("tutor_id",s.id).select().single();if(o)throw new J(o.message,400,o);return{data:a,success:!0}},deleteSession:async e=>{const{data:{user:t},error:r}=await z.auth.getUser();if(r)throw new J("Authentication failed",401,r);if(!t)throw new J("Not authenticated",401);const{data:n,error:s}=await z.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new J("Tutor not found",404,s);const{data:i,error:a}=await z.from("sessions").update({is_active:!1}).eq("id",e).eq("tutor_id",n.id).select().single();if(a)throw new J(a.message,400,a);return{data:i,success:!0}}},lx=()=>{const[e,t]=_.useState("all"),[r,n]=_.useState([]),[s,i]=_.useState(!0),[a,o]=_.useState(null),[u,c]=_.useState(null),d={pending:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500"},confirmed:{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500"},completed:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500"},cancelled:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500"}},h={pending:"Afventer bekræftelse",confirmed:"Bekræftet",completed:"Gennemført",cancelled:"Aflyst"},f=x=>{switch(x){case"confirmed":return l.jsx(Ni,{className:"w-4 h-4"});case"completed":return l.jsx(Ni,{className:"w-4 h-4"});case"cancelled":return l.jsx(rx,{className:"w-4 h-4"});default:return l.jsx(Bf,{className:"w-4 h-4"})}};_.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0),o(null);const g=(await us.getTutorBookings()).data.map(p=>{var m,w,N,S,b,E,O,C;return{id:p.id,client:((m=p.user)==null?void 0:m.name)||p.contact_name,email:((w=p.user)==null?void 0:w.email)||p.contact_email,phone:((N=p.user)==null?void 0:N.phone)||p.contact_phone,company:((S=p.user)==null?void 0:S.company)||p.company,session:((b=p.session)==null?void 0:b.title)||"Unknown Session",date:((E=p.selected_date_time)==null?void 0:E.split("T")[0])||p.selected_date_time,time:new Date(p.selected_date_time).toLocaleTimeString("da-DK",{hour:"2-digit",minute:"2-digit"}),duration:((O=p.session)==null?void 0:O.duration)||60,status:((C=p.status)==null?void 0:C.toLowerCase())||"pending",price:p.total_price||0,notes:p.notes||""}});n(g)}catch(x){console.error("Failed to load bookings:",x),o("Failed to load bookings")}finally{i(!1)}},v=async(x,g)=>{try{c(x),await us.updateBookingStatus(x,g),await y()}catch(p){console.error("Failed to update booking status:",p),o("Failed to update booking status")}finally{c(null)}},k=e==="all"?r:r.filter(x=>x.status===e);return s?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading bookings..."})]})}):a?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:a}),l.jsx("button",{onClick:()=>{o(null),y()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="all"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Alle (",r.length,")"]}),l.jsxs("button",{onClick:()=>t("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="pending"?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Afventer (",r.filter(x=>x.status==="pending").length,")"]}),l.jsxs("button",{onClick:()=>t("confirmed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="confirmed"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Bekræftet (",r.filter(x=>x.status==="confirmed").length,")"]})]}),l.jsx("div",{className:"space-y-4",children:k.map(x=>{const g=d[x.status];return l.jsx("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:x.session}),l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${g.bg} ${g.text} ${g.border} flex items-center gap-1`,children:[f(x.status),h[x.status]]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(Jt,{className:"w-4 h-4"}),l.jsx("span",{children:x.client})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(xs,{className:"w-4 h-4"}),l.jsx("span",{children:x.email})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(qo,{className:"w-4 h-4"}),l.jsx("span",{children:x.phone})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(nn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(x.date).toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(as,{className:"w-4 h-4"}),l.jsxs("span",{children:[x.time," (",x.duration," min)"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(Ho,{className:"w-4 h-4"}),l.jsx("span",{children:x.company})]})]})]}),x.notes&&l.jsx("div",{className:"mt-3 p-3 bg-slate-700 rounded-lg",children:l.jsxs("p",{className:"text-slate-300 text-sm",children:[l.jsx("strong",{children:"Noter:"})," ",x.notes]})})]}),l.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[l.jsx("div",{className:"text-right mb-2",children:l.jsxs("p",{className:"text-2xl font-bold text-white",children:[x.price.toLocaleString("da-DK")," kr"]})}),x.status==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>v(x.id,"confirmed"),disabled:u===x.id,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===x.id?"Updating...":"Bekræft"}),l.jsx("button",{onClick:()=>v(x.id,"cancelled"),disabled:u===x.id,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===x.id?"Updating...":"Aflys"})]}),x.status==="confirmed"&&l.jsx("button",{onClick:()=>v(x.id,"completed"),disabled:u===x.id,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===x.id?"Updating...":"Marker som gennemført"})]})]})},x.id)})}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(nn,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-400 mb-2",children:"Ingen bookinger"}),l.jsx("p",{className:"text-slate-500",children:e==="all"?"Du har ingen bookinger endnu.":`Ingen bookinger med status: ${h[e]}`})]})]})},ox=()=>{const[e,t]=_.useState(new Date),[r,n]=_.useState(!1),[s,i]=_.useState(null),[a,o]=_.useState({startTime:"",endTime:""}),[u,c]=_.useState({}),[d,h]=_.useState(!0),[f,y]=_.useState(null),[v,k]=_.useState(null),x=j=>j.toISOString().split("T")[0];_.useEffect(()=>{g()},[]),_.useEffect(()=>{f&&p()},[f,e]);const g=async()=>{try{const j=await us.getProfile();y(j.data.id)}catch(j){console.error("Failed to load tutor profile:",j),k("Failed to load tutor profile")}},p=async()=>{try{h(!0);const j=new Date(e),P=j.getDay(),M=j.getDate()-P+(P===0?-6:1);j.setDate(M);const B=new Date(j);B.setDate(j.getDate()+6);const q=await Bs.getAvailability(f,x(j),x(B)),H={};q.data.forEach(T=>{const I=Array.isArray(T.time_slots)?T.time_slots:[];H[T.date]=I.map((D,Q)=>({id:`${T.date}-${Q}`,startTime:D.startTime,endTime:D.endTime,isBooked:D.isBooked||!1,clientName:D.clientName}))}),c(H)}catch(j){console.error("Failed to load availability:",j),k("Failed to load availability")}finally{h(!1)}},m=j=>j.toLocaleDateString("da-DK",{weekday:"long",day:"numeric",month:"long"}),w=()=>{const j=new Date(e),P=j.getDay(),M=j.getDate()-P+(P===0?-6:1);j.setDate(M);const B=[];for(let q=0;q<7;q++){const H=new Date(j);H.setDate(j.getDate()+q),B.push(H)}return B},N=(j,P,M)=>{const B=new Date(`1970-01-01T${j}:00`),q=new Date(`1970-01-01T${P}:00`);if(B>=q)return"Sluttid skal være efter starttid";for(const H of M){const T=new Date(`1970-01-01T${H.startTime}:00`),I=new Date(`1970-01-01T${H.endTime}:00`);if(B<I&&q>T)return`Overlapper med eksisterende slot ${H.startTime} - ${H.endTime}`}return null},S=async()=>{if(!(!a.startTime||!a.endTime||!f))try{const j=x(e),P=u[j]||[],M=N(a.startTime,a.endTime,P);if(M){k(M);return}const B=[...P,{startTime:a.startTime,endTime:a.endTime,isBooked:!1}].sort((q,H)=>q.startTime.localeCompare(H.startTime));await Bs.updateAvailability(f,j,B),await p(),o({startTime:"",endTime:""}),n(!1)}catch(j){console.error("Failed to add time slot:",j),k("Failed to add time slot")}},b=async j=>{if(f)try{const P=x(e),B=(u[P]||[]).filter(q=>q.id!==j);await Bs.updateAvailability(f,P,B),await p()}catch(P){console.error("Failed to delete time slot:",P),k("Failed to delete time slot")}},E=async(j,P)=>{if(f)try{const M=x(e),B=u[M]||[],q=B.filter(I=>I.id!==j),H=N(P.startTime,P.endTime,q);if(H){k(H);return}const T=B.map(I=>I.id===j?{...I,...P}:I);await Bs.updateAvailability(f,M,T),await p(),i(null)}catch(M){console.error("Failed to update time slot:",M),k("Failed to update time slot")}},O=w(),C=x(e),L=u[C]||[];return d?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading availability..."})]})}):v?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:v}),l.jsx("button",{onClick:()=>{k(null),g()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[l.jsx(nn,{className:"w-5 h-5"}),"Vælg dag"]}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:O.map((j,P)=>{var I,D;const M=x(j),B=((I=u[M])==null?void 0:I.length)||0,q=((D=u[M])==null?void 0:D.filter(Q=>Q.isBooked).length)||0,H=M===C,T=M===x(new Date);return l.jsxs("button",{onClick:()=>t(j),className:`p-3 rounded-lg text-center transition-colors ${H?"bg-green-600 text-white":T?"bg-blue-600/20 text-blue-400 border border-blue-600":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[l.jsx("div",{className:"text-xs mb-1",children:j.toLocaleDateString("da-DK",{weekday:"short"})}),l.jsx("div",{className:"font-semibold",children:j.getDate()}),B>0&&l.jsxs("div",{className:"text-xs mt-1",children:[B-q,"/",B]})]},P)})})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(as,{className:"w-5 h-5"}),m(e)]}),l.jsxs("button",{onClick:()=>n(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(Hf,{className:"w-4 h-4"}),"Tilføj tidsslot"]})]}),r&&l.jsxs("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-3",children:"Nyt tidsslot"}),l.jsxs("div",{className:"flex gap-4 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Fra"}),l.jsx("input",{type:"time",value:a.startTime,onChange:j=>o(P=>({...P,startTime:j.target.value})),className:"bg-slate-600 text-white rounded-md px-3 py-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Til"}),l.jsx("input",{type:"time",value:a.endTime,onChange:j=>o(P=>({...P,endTime:j.target.value})),className:"bg-slate-600 text-white rounded-md px-3 py-2"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(os,{className:"w-4 h-4"}),"Gem"]}),l.jsxs("button",{onClick:()=>{n(!1),o({startTime:"",endTime:""})},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(sn,{className:"w-4 h-4"}),"Annuller"]})]})]})]}),l.jsx("div",{className:"space-y-3",children:L.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(as,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),l.jsx("p",{className:"text-slate-400",children:"Ingen tidsslots for denne dag"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Tilføj nogle tidsslots for at modtage bookinger"})]}):L.map(j=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${j.isBooked?"bg-blue-500/10 border-blue-500":"bg-green-500/10 border-green-500"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${j.isBooked?"bg-blue-400":"bg-green-400"}`}),s===j.id?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"time",defaultValue:j.startTime,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm",onChange:P=>j.startTime=P.target.value}),l.jsx("span",{className:"text-slate-300 self-center",children:"-"}),l.jsx("input",{type:"time",defaultValue:j.endTime,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm",onChange:P=>j.endTime=P.target.value})]}):l.jsxs("div",{children:[l.jsxs("span",{className:"text-white font-medium",children:[j.startTime," - ",j.endTime]}),j.isBooked&&j.clientName&&l.jsxs("p",{className:"text-blue-400 text-sm",children:["Booket af ",j.clientName]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isBooked?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:j.isBooked?"Booket":"Ledig"})]}),l.jsx("div",{className:"flex gap-2",children:s===j.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>E(j.id,j),className:"text-green-400 hover:text-green-300 p-1",children:l.jsx(os,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-300 p-1",children:l.jsx(sn,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[!j.isBooked&&l.jsx("button",{onClick:()=>i(j.id),className:"text-blue-400 hover:text-blue-300 p-1",children:l.jsx(ls,{className:"w-4 h-4"})}),!j.isBooked&&l.jsx("button",{onClick:()=>b(j.id),className:"text-red-400 hover:text-red-300 p-1",children:l.jsx(Kf,{className:"w-4 h-4"})})]})})]},j.id))})]})]})},ux=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState({}),[s,i]=_.useState(!1),[a,o]=_.useState({}),[u,c]=_.useState([]),[d,h]=_.useState(!0),[f,y]=_.useState(null),[v,k]=_.useState(!1),[x,g]=_.useState({title:"",description:"",duration:60,price_override:null});_.useEffect(()=>{p()},[]);const p=async()=>{var b,E,O;try{h(!0),y(null);const C=await us.getProfile(),L={name:((b=C.data.user)==null?void 0:b.name)||"",email:((E=C.data.user)==null?void 0:E.email)||"",phone:((O=C.data.user)==null?void 0:O.phone)||"",title:C.data.title||"",specialty:C.data.specialty||"",experience:C.data.experience||"",value_prop:C.data.valueProp||"",img:C.data.img||"",base_price:C.data.basePrice||0,price:C.data.price||0};o(L),c(C.data.sessions||[])}catch(C){console.error("Failed to load profile:",C),y("Failed to load profile")}finally{h(!1)}},m=async()=>{try{k(!0);const b={title:a.title,specialty:a.specialty,experience:a.experience,valueProp:a.value_prop,img:a.img,basePrice:a.base_price,price:a.price};await us.updateProfile(b),await p(),t(!1)}catch(b){console.error("Failed to save profile:",b),y("Failed to save profile")}finally{k(!1)}},w=async(b,E)=>{try{await $a.updateSession(b,E),await p(),n(O=>({...O,[b]:!1}))}catch(O){console.error("Failed to save session:",O),y("Failed to save session")}},N=async()=>{if(!(!x.title||!x.description))try{const b={title:x.title,description:x.description,duration:x.duration,priceOverride:x.price_override||null};await $a.createSession(b),await p(),g({title:"",description:"",duration:60,price_override:null}),i(!1)}catch(b){console.error("Failed to add session:",b),y("Failed to add session")}},S=async b=>{try{await $a.deleteSession(b),await p()}catch(E){console.error("Failed to delete session:",E),y("Failed to delete session")}};return d?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):f?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:f}),l.jsx("button",{onClick:()=>{y(null),p()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Profil information"}),e?l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:m,disabled:v,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(os,{className:"w-4 h-4"}),v?"Saving...":"Gem"]}),l.jsx("button",{onClick:()=>t(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Annuller"})]}):l.jsxs("button",{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(ls,{className:"w-4 h-4"}),"Rediger profil"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:a.img,alt:a.name,className:"w-32 h-32 rounded-full mx-auto mb-4 border-4 border-slate-700"}),e&&l.jsx("button",{className:"text-green-400 hover:text-green-300 text-sm",children:"Skift billede"})]}),l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Navn"]}),e?l.jsx("input",{type:"text",value:a.name,onChange:b=>o(E=>({...E,name:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(xs,{className:"w-4 h-4 inline mr-1"}),"Email"]}),e?l.jsx("input",{type:"email",value:a.email,onChange:b=>o(E=>({...E,email:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.email})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(qo,{className:"w-4 h-4 inline mr-1"}),"Telefon"]}),e?l.jsx("input",{type:"tel",value:a.phone,onChange:b=>o(E=>({...E,phone:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(ea,{className:"w-4 h-4 inline mr-1"}),"Titel"]}),e?l.jsx("input",{type:"text",value:a.title,onChange:b=>o(E=>({...E,title:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.title})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Specialeområde"}),e?l.jsx("input",{type:"text",value:a.specialty,onChange:b=>o(E=>({...E,specialty:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.specialty})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Erfaring"}),e?l.jsx("textarea",{value:a.experience,onChange:b=>o(E=>({...E,experience:b.target.value})),rows:3,className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.experience})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Værdiforslag"}),e?l.jsx("textarea",{value:a.value_prop,onChange:b=>o(E=>({...E,value_prop:b.target.value})),rows:2,className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.value_prop})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"B2B Basispris (kr/time)"]}),e?l.jsx("input",{type:"number",value:a.base_price,onChange:b=>o(E=>({...E,base_price:parseInt(b.target.value)})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsxs("p",{className:"text-white",children:[a.base_price," kr"]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"B2C Pris (kr/session)"]}),e?l.jsx("input",{type:"number",value:a.price,onChange:b=>o(E=>({...E,price:parseInt(b.target.value)})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsxs("p",{className:"text-white",children:[a.price," kr"]})]})]})]})]})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sessions & Emner"}),l.jsxs("button",{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(Hf,{className:"w-4 h-4"}),"Tilføj session"]})]}),s&&l.jsxs("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-4",children:"Ny session"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Session titel",value:x.title,onChange:b=>g(E=>({...E,title:b.target.value})),className:"w-full bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsx("textarea",{placeholder:"Session beskrivelse",value:x.description,onChange:b=>g(E=>({...E,description:b.target.value})),rows:3,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",placeholder:"Varighed (minutter)",value:x.duration,onChange:b=>g(E=>({...E,duration:parseInt(b.target.value)})),className:"bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsx("input",{type:"number",placeholder:"Særlig pris (valgfrit)",value:x.price_override||"",onChange:b=>g(E=>({...E,price_override:b.target.value?parseInt(b.target.value):null})),className:"bg-slate-600 text-white rounded-md px-3 py-2"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:N,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Gem session"}),l.jsx("button",{onClick:()=>{i(!1),g({title:"",description:"",duration:60,price_override:null})},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Annuller"})]})]})]}),l.jsx("div",{className:"space-y-4",children:u.map(b=>l.jsx("div",{className:"bg-slate-700 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:r[b.id]?l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",defaultValue:b.title,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 font-semibold",onChange:E=>b.title=E.target.value}),l.jsx("textarea",{defaultValue:b.description,rows:3,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2",onChange:E=>b.description=E.target.value}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",defaultValue:b.duration,className:"bg-slate-600 text-white rounded-md px-3 py-2",onChange:E=>b.duration=parseInt(E.target.value)}),l.jsx("input",{type:"number",defaultValue:b.price_override||"",placeholder:"Særlig pris (valgfrit)",className:"bg-slate-600 text-white rounded-md px-3 py-2",onChange:E=>b.price_override=E.target.value?parseInt(E.target.value):null})]})]}):l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:b.title}),l.jsx("p",{className:"text-slate-300 mb-3",children:b.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[l.jsxs("span",{children:["Varighed: ",b.duration," min"]}),l.jsxs("span",{children:["Pris: ",b.price_override||(b.duration>60?a.base_price:a.price)," kr"]})]})]})}),l.jsx("div",{className:"flex gap-2 ml-4",children:r[b.id]?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>w(b.id,b),className:"text-green-400 hover:text-green-300 p-1",children:l.jsx(os,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n(E=>({...E,[b.id]:!1})),className:"text-gray-400 hover:text-gray-300 p-1",children:"✕"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>n(E=>({...E,[b.id]:!0})),className:"text-blue-400 hover:text-blue-300 p-1",children:l.jsx(ls,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>S(b.id),className:"text-red-400 hover:text-red-300 p-1",children:l.jsx(Kf,{className:"w-4 h-4"})})]})})]})},b.id))})]})]})},cx=()=>{const[e,t]=_.useState("overview"),r=[{id:"overview",label:"Oversigt",icon:Go},{id:"bookings",label:"Bookinger",icon:nn},{id:"availability",label:"Tider",icon:as},{id:"profile",label:"Profil",icon:ex}],n=[{label:"Denne uge",value:"0",subtitle:"Bookinger",icon:nn,color:"blue"},{label:"Næste uge",value:"0",subtitle:"Ledige slots",icon:as,color:"green"},{label:"Denne måned",value:"0 kr",subtitle:"Indtjening",icon:Fl,color:"yellow"},{label:"Total",value:"0",subtitle:"Gennemførte sessioner",icon:qf,color:"purple"}],s=()=>{switch(e){case"bookings":return l.jsx(lx,{});case"availability":return l.jsx(ox,{});case"profile":return l.jsx(ux,{});default:return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((i,a)=>{const o={blue:"border-blue-500 bg-blue-500/10",green:"border-green-500 bg-green-500/10",yellow:"border-yellow-500 bg-yellow-500/10",purple:"border-purple-500 bg-purple-500/10"},u={blue:"text-blue-400",green:"text-green-400",yellow:"text-yellow-400",purple:"text-purple-400"};return l.jsxs("div",{className:`border-2 ${o[i.color]} p-6 rounded-lg`,children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(i.icon,{className:`w-8 h-8 ${u[i.color]}`})}),l.jsx("p",{className:"text-2xl font-bold text-white",children:i.value}),l.jsx("p",{className:"text-slate-300 text-sm",children:i.subtitle}),l.jsx("p",{className:"text-slate-400 text-xs mt-1",children:i.label})]},a)})}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Fc,{className:"w-5 h-5"}),"Seneste aktivitet"]}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Fc,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),l.jsx("p",{className:"text-slate-400",children:"Ingen aktivitet endnu"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Din aktivitet vil blive vist her"})]})]})]})}};return l.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tutor Dashboard"}),l.jsx("p",{className:"text-slate-400",children:"Administrer dine sessioner, tider og profil"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-slate-700",children:r.map(i=>l.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg font-medium transition-colors ${e===i.id?"bg-green-600 text-white border-b-2 border-green-400":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[l.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))}),s()]})},Gf=_.createContext(),Da={getItem:e=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.getItem(e)}catch(t){console.warn("localStorage getItem failed:",t)}return null},setItem:(e,t)=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.setItem(e,t),!0}catch(r){console.warn("localStorage setItem failed:",r)}return!1},removeItem:e=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.removeItem(e),!0}catch(t){console.warn("localStorage removeItem failed:",t)}return!1}},dx=({children:e})=>{const[t,r]=_.useState(()=>{if(typeof window<"u"){const o=new URLSearchParams(window.location.search).get("mode");if(o&&(o==="b2b"||o==="b2c"))return Da.setItem("ai-rookie-site-mode",o),o}return Da.getItem("ai-rookie-site-mode")||"b2c"}),n=_.useMemo(()=>i=>{const a=t==="b2b"?"b2c":"b2b";r(a),Da.setItem("ai-rookie-site-mode",a),i&&typeof i=="function"&&i(a)},[t]),s=_.useMemo(()=>({siteMode:t,toggleSiteMode:n}),[t,n]);return l.jsx(Gf.Provider,{value:s,children:e})},Et=()=>{const e=_.useContext(Gf);if(!e)throw new Error("useSiteMode must be used within a SiteModeProvider");return e},hx=[{quote:"Efter tre team‑workshops fik vores marketingafdeling fordoblet outputtet uden ekstra budget. AI Rookie Enterprise var lynhurtigt tjent hjem.",name:"Stine Ø.",role:"CMO, SaaS‑scale‑up"},{quote:"Vores salgs‑pipeline er blevet 30 % hurtigere. Investeringen i gruppesessioner gav positiv ROI på under en måned.",name:"Poul A.",role:"Chief Revenue Officer"},{quote:"Automatiseringen af vores kvalitetskontrol har sparet os 15 timer om ugen. Fantastisk ROI!",name:"Thomas B.",role:"Operations Director"}],fx=[{quote:"Jeg troede, jeg var bagud, men efter få sessions følte jeg mig som den skarpeste i teamet. Det handler ikke om at lære alt, men at lære det rigtige. Det forstod min tutor perfekt.",name:"Charlotte P.",role:"Projektleder, 44"},{quote:"Det at kunne tale kvalificeret om AI med ledelsen og kunder har givet mig en helt ny selvtillid. Det er den bedste investering, jeg har lavet i min karriere i årevis.",name:"Michael B.",role:"Key Account Manager, 51"}],px={individual:1,team:8,program:25},Qo={individual:"1‑til‑1 sparring",team:"Team‑workshop (op til 10 pers.)",program:"6‑ugers forløb"},Wc={individual:1,group:.7},mx={individual:"1‑til‑1 session",group:"Gruppesession (op til 10 deltagere)"},gx={individual:"Personlig session kun for dig",group:"Fælles session med andre deltagere - spar 30%"},qt={isValidDate:e=>e instanceof Date&&!isNaN(e.getTime()),addDays:(e,t)=>{if(!qt.isValidDate(e)||typeof t!="number")return null;const r=new Date(e);return r.setDate(e.getDate()+t),r},formatDateKey:e=>{if(!qt.isValidDate(e))return null;try{return e.toISOString().split("T")[0]}catch(t){return console.warn("Date formatting failed:",t),null}}},vx=e=>{if(!e||typeof e!="number")return console.warn("Invalid tutorId provided to generateAvailabilitySlots"),[];const t=[],r=new Date;if(!qt.isValidDate(r))return console.error("Invalid date in generateAvailabilitySlots"),[];for(let n=1;n<=14;n++){const s=qt.addDays(r,n);if(!s)continue;const i=s.getDay();if((i===0||i===6)&&e%3!==0)continue;const a=qt.formatDateKey(s);if(!a)continue;const o=[],u=e%2===0?9:10,c=e%3===0?17:16;for(let d=u;d<=c;d++){if(d===12)continue;((e*1e3+n*100+d)*9301+49297)%233280/233280>.3&&o.push({time:`${d.toString().padStart(2,"0")}:00`,available:!0,booked:!1})}o.length>0&&t.push({date:a,slots:o})}return t},yx=e=>vx(e),xx=({onAuthClick:e,onProfileClick:t})=>{const{user:r,isAuthenticated:n}=St(),{siteMode:s}=Et(),i=s==="b2b";return n&&r?l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-white text-sm",children:[l.jsx(Jt,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:block",children:r.name})]})}):l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:()=>e("login"),className:`flex items-center gap-1 px-4 py-2 ${i?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} rounded-lg transition-colors text-white text-sm font-semibold shadow-lg`,children:[l.jsx(Wf,{className:"w-4 h-4"}),l.jsx("span",{children:"Kom i gang"})]})})},Qf=({onModeChange:e})=>{const{siteMode:t,toggleSiteMode:r}=Et(),{isAuthenticated:n,user:s}=St();console.log("SiteModeToggle - isAuthenticated:",n,"user:",s==null?void 0:s.email);const i=()=>{n?console.log("Toggle blocked - user is authenticated"):r(e)};return l.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl p-1 border border-slate-600",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 mr-2",children:n?l.jsx(Ko,{className:"w-4 h-4 text-red-400",title:"Låst - Du kan ikke skifte side-type efter login"}):l.jsx(tx,{className:"w-4 h-4 text-green-400",title:"Åben - Du kan skifte side-type"})}),l.jsxs("button",{onClick:()=>t!=="b2b"&&i(),disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 ${t==="b2b"?"bg-green-600 text-white shadow-lg shadow-green-600/30":n?"text-slate-600 cursor-not-allowed":"text-slate-400 hover:text-green-400 hover:bg-slate-700"}`,title:n?"Du kan ikke skifte side-type efter login":t==="b2b"?"Aktiv: B2B mode":"Skift til B2B mode",children:[l.jsx(qy,{className:"w-4 h-4"}),"B2B",t==="b2b"&&l.jsx("span",{className:"text-xs bg-green-500 px-1.5 py-0.5 rounded-full",children:"Aktiv"})]}),l.jsxs("button",{onClick:()=>t!=="b2c"&&i(),disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 ${t==="b2c"?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":n?"text-slate-600 cursor-not-allowed":"text-slate-400 hover:text-blue-400 hover:bg-slate-700"}`,title:n?"Du kan ikke skifte side-type efter login":t==="b2c"?"Aktiv: B2C mode":"Skift til B2C mode",children:[l.jsx(Jt,{className:"w-4 h-4"}),"B2C",t==="b2c"&&l.jsx("span",{className:"text-xs bg-blue-500 px-1.5 py-0.5 rounded-full",children:"Aktiv"})]})]})},wx=({isOpen:e,onClose:t,currentPage:r,onAuthClick:n,onProfileClick:s,isAuthenticated:i,user:a})=>{const o=kr(),{siteMode:u}=Et(),c=u==="b2b",d=(a==null?void 0:a.role)==="TUTOR",h=v=>{o(v==="home"?"/":`/${v}`),t()};if(!e)return null;const y=(()=>{if(d)return[{label:"Hjem",key:"home"},{label:"Tutor Dashboard",key:"tutor-dashboard"}];const v=u==="b2b"?[{label:"Hjem",key:"home"},{label:"Eksperter",key:"tutors"}]:[{label:"Hjem",key:"home"},{label:"Find Tutor",key:"tutors"}];return i&&v.push({label:"Dashboard",key:"dashboard"}),v})();return l.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),l.jsxs("div",{className:"fixed top-0 right-0 h-full w-64 bg-slate-800 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[l.jsx("span",{className:"text-white font-bold",children:"Menu"}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:l.jsx(sn,{size:24})})]}),l.jsx("div",{className:"p-4 border-b border-slate-700",children:l.jsx(Qf,{onModeChange:()=>{o("/"),t()}})}),l.jsx("nav",{className:"p-4 space-y-2",children:y.map(v=>l.jsx("button",{onClick:()=>h(v.key),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium ${r===v.key?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-700"}`,children:v.label},v.key))}),l.jsx("div",{className:"p-4 border-t border-slate-700",children:i?l.jsxs("button",{onClick:()=>{s(),t()},className:"w-full flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-white text-sm",children:[l.jsx(Jt,{className:"w-4 h-4"}),"Min Profil"]}):l.jsxs("button",{onClick:()=>{n("login"),t()},className:`w-full flex items-center gap-2 px-3 py-2 ${c?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} rounded-lg transition-colors text-white text-sm font-semibold shadow-lg`,children:[l.jsx(Wf,{className:"w-4 h-4"}),"Kom i gang"]})})]})]})},kx=({tutor:e,onSelect:t,isExpanded:r,onExpand:n})=>{const{siteMode:s}=Et(),i=s==="b2b";return l.jsxs("div",{className:`bg-slate-800 rounded-lg overflow-hidden transition-all duration-300 ${r?`ring-2 ${i?"ring-green-500":"ring-blue-500"}`:"hover:bg-slate-700/50"}`,children:[l.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center gap-6",children:[l.jsx("img",{src:e.img,alt:e.name,className:"w-24 h-24 rounded-full mx-auto sm:mx-0 flex-shrink-0 border-4 border-slate-700"}),l.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),l.jsx("p",{className:"text-blue-400 font-semibold",children:e.title}),l.jsxs("p",{className:"text-sm text-slate-300 mt-1 flex items-center justify-center sm:justify-start gap-2",children:[l.jsx(Yy,{className:"w-4 h-4 text-yellow-400"})," ",e.specialty]}),i&&e.valueProp&&l.jsx("p",{className:"text-slate-400 text-xs mt-2 italic",children:e.valueProp}),!i&&e.experience&&l.jsx("p",{className:"text-slate-400 text-xs mt-2 italic",children:e.experience})]}),l.jsx("div",{className:"flex-shrink-0 mt-4 sm:mt-0",children:l.jsxs("button",{onClick:()=>n(e.id),className:`${i?"bg-green-600 hover:bg-green-500":"bg-blue-600 hover:bg-blue-500"} text-white font-bold py-2 px-6 rounded-lg transition-colors flex items-center gap-2`,children:[i?"Se Workshops":"Vælg Session & Se Pris"," ",l.jsx(Gy,{className:`transition-transform ${r?"rotate-180":""}`})]})})]}),r&&l.jsxs("div",{className:"bg-slate-800/50 px-6 pb-6 pt-4 border-t border-slate-700",children:[l.jsx("h4",{className:"font-bold text-white mb-3",children:i?"Vælg et emne:":"Vælg et emne for din session:"}),l.jsx("div",{className:"space-y-4",children:e.sessions.map(a=>l.jsxs("div",{className:"bg-slate-700 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:a.title}),l.jsx("p",{className:"text-sm text-slate-400",children:a.description})]}),l.jsxs("div",{className:"flex-shrink-0 text-center",children:[!i&&l.jsxs("p",{className:"text-xl font-bold text-white",children:[e.price,",-"]}),l.jsxs("button",{onClick:()=>t(e,a),className:`${i?"":"mt-1"} ${i?"bg-blue-600 hover:bg-blue-500":"bg-green-600 hover:bg-green-500"} text-white text-sm font-bold py-2 px-5 rounded-lg transition-colors flex items-center gap-2`,children:["Book ",l.jsx(zf,{size:16})]})]})]},a.id))})]})]})},Jf=()=>l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}),bx=({tutor:e,selectedDateTime:t,onSelectDateTime:r})=>{const[n,s]=_.useState(0);if(!e||!e.id)return l.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx(Vc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Tutor information ikke tilgængelig"})]})});const i=_.useMemo(()=>{try{return yx(e.id)}catch(f){return console.error("Failed to get tutor availability:",f),[]}},[e.id]),o=(f=>{const y=[],v=new Date,k=new Date(v);k.setDate(v.getDate()+1+f*7);for(let x=0;x<7;x++){const g=new Date(k);g.setDate(k.getDate()+x),y.push(g)}return y})(n),u=2,c=f=>f.toLocaleDateString("da-DK",{weekday:"short",day:"numeric",month:"short"}),d=f=>f.toISOString().split("T")[0],h=f=>{const y=d(f);return i.find(v=>v.date===y)};return l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(nn,{className:"w-5 h-5"}),"Vælg tid med ",e.name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>s(Math.max(0,n-1)),disabled:n===0,className:"p-1 rounded-full hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Qy,{className:"w-5 h-5 text-slate-400"})}),l.jsxs("span",{className:"text-sm text-slate-400 min-w-[80px] text-center",children:["Uge ",n+1]}),l.jsx("button",{onClick:()=>s(Math.min(u-1,n+1)),disabled:n>=u-1,className:"p-1 rounded-full hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Jy,{className:"w-5 h-5 text-slate-400"})})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:o.map((f,y)=>{const v=h(f),k=v&&v.slots.length>0;return l.jsxs("div",{className:`p-2 rounded-lg text-center text-sm ${k?"bg-slate-700 text-white":"bg-slate-800 text-slate-500"}`,children:[l.jsx("div",{className:"font-medium",children:c(f)}),k&&l.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[v.slots.length," slots"]})]},y)})}),l.jsx("div",{className:"space-y-4",children:o.map((f,y)=>{const v=h(f);return!v||v.slots.length===0?null:l.jsxs("div",{className:"border-t border-slate-700 pt-4 first:border-t-0 first:pt-0",children:[l.jsx("h4",{className:"font-medium text-white mb-2",children:c(f)}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.slots.map((k,x)=>{const g=`${d(f)}T${k.time}`,p=t===g;return l.jsx("button",{onClick:()=>r(g),className:`p-2 rounded-lg text-sm font-medium transition-colors ${p?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:k.time},x)})})]},y)})}),i.length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx(Vc,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Ingen ledige tider i øjeblikket"})]})]})},_x=()=>{const e=kr();St();const t=850;return l.jsxs("div",{className:"space-y-24 pb-20",children:[l.jsxs("section",{className:"text-center pt-20 pb-14 max-w-3xl mx-auto",children:[l.jsxs("h1",{className:"text-5xl sm:text-6xl font-extrabold text-white leading-tight",children:["Hello ",l.jsx("span",{className:"text-green-400",children:"AI Rookie"})]}),l.jsx("p",{className:"mt-4 text-lg text-slate-300",children:"AI Rookie Enterprise leverer hands‑on workshops og forløb, der omsætter AI til målbare resultater på bundlinjen."}),l.jsxs("button",{onClick:()=>e("/tutors"),className:"mt-8 bg-green-600 text-white font-bold text-lg py-4 px-8 rounded-lg transform hover:scale-105 transition-transform shadow-lg shadow-green-600/30",children:[l.jsx(Ei,{className:"inline-block mr-2"})," Udforsk Eksperter"]}),l.jsxs("p",{className:"mt-6 text-slate-400 text-sm",children:["Fra kun ",t," kr. pr. medarbejder for 1‑til‑1‑sessioner."]})]}),l.jsxs("section",{className:"bg-slate-800/50 rounded-lg p-10 max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"Din bundlinje"}),l.jsx("p",{className:"text-center text-slate-400 mb-10 max-w-3xl mx-auto",children:"Uanset om det gælder marketing, salg eller operationel excellence, leverer vores eksperter målbare forbedringer, der kan aflæses i KPI‑erne."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg shadow-xl shadow-green-500/20",children:[l.jsx(ea,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"0‑2 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"ROI"})," • Måleligt afkast"]}),l.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Se konkrete KPI‑løft og en payback‑tid på max 8 uger."})]}),l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(qf,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"6 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"Team"})," • Hurtig adoption"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Hele afdelingen arbejder sikkert med AI‑flows og best practices."})]}),l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(Go,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"1 ÅR"}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"Skalering"})," • Vedvarende effekt"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"AI‑kompetencer forankret på tværs af organisationen."})]})]})]}),l.jsxs("section",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"HR‑ og L&D‑chefer fortæller"}),l.jsx("div",{className:"space-y-8",children:hx.map((r,n)=>l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg max-w-2xl mx-auto",children:[l.jsxs("p",{className:"text-slate-300 text-lg italic",children:['"',r.quote,'"']}),l.jsxs("p",{className:"mt-4 font-bold text-white text-right",children:["– ",r.name,", ",l.jsx("span",{className:"text-slate-400",children:r.role})]})]},n))})]})]})},jx=()=>{const e=kr();St();const t=475;return l.jsxs("div",{className:"space-y-20 sm:space-y-28 pb-20",children:[l.jsxs("section",{className:"text-center pt-20 pb-10",children:[l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight",children:["Hello ",l.jsx("span",{className:"text-blue-400",children:"AI Rookie"})]}),l.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-300",children:"Gør AI til din personlige styrke. Lær præcis de færdigheder, du har brug for, og omsæt dem til konkrete fordele i din karriere – hurtigt og effektivt."}),l.jsxs("button",{onClick:()=>e("/tutors"),className:"mt-8 bg-blue-600 text-white font-bold text-lg py-4 px-8 rounded-lg transform hover:scale-105 transition-transform shadow-lg shadow-blue-600/30",children:[l.jsx(Ei,{className:"inline-block mr-2"})," Find Din Vej til AI"]}),l.jsx("div",{className:"mt-6",children:l.jsxs("p",{className:"text-lg text-white",children:["En investering i din karriere. ",l.jsxs("span",{className:"font-bold text-blue-400",children:["Fra kun ",t," kr. pr. session."]})]})})]}),l.jsxs("section",{className:"bg-slate-800/50 rounded-lg p-8 max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"Din karriere"}),l.jsx("p",{className:"text-center text-slate-400 mb-10 max-w-3xl mx-auto",children:"AI-kompetencer er på en rejse fra at være en unik fordel til at blive en fundamental forventning. Her ser du, hvorfor det er en fordel at handle nu."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg shadow-xl shadow-blue-500/20",children:[l.jsx(Ei,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"0‑2 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Kickstart"})," • Synlige sejre"]}),l.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Spar 2‑4 timer om ugen og imponer chefen med hurtige AI‑løsninger."})]}),l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(Wo,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"6 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Troværdighed"})," • Bliv go‑to‑person"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:'Du er nu "AI‑champ" i teamet og driver små projekter på egne ben.'})]}),l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(Go,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"1 ÅR"}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Karriereboost"})," • Klar til næste step"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Du har dokumenteret impact og står stærkt til løn‑ eller stillingshop."})]})]})]}),l.jsxs("section",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Hør fra andre professionelle, der har styrket deres karriere"}),l.jsx("div",{className:"space-y-8",children:fx.map((r,n)=>l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg max-w-2xl mx-auto",children:[l.jsxs("p",{className:"text-slate-300 text-lg italic",children:['"',r.quote,'"']}),l.jsxs("p",{className:"mt-4 font-bold text-white text-right",children:["– ",r.name,", ",l.jsx("span",{className:"font-normal text-slate-400",children:r.role})]})]},n))})]})]})},Sx=()=>{const{siteMode:e}=Et();return e==="b2b"?l.jsx(_x,{}):l.jsx(jx,{})},Nx=()=>{const[e,t]=_.useState(null),r=kr(),{siteMode:n}=Et(),{data:s=[],loading:i,error:a}=My(n.toUpperCase()),o=n==="b2b",u=(c,d)=>{r("/booking",{state:{tutor:c,session:d}})};return i?l.jsx("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx(Jf,{})})}):a?l.jsx("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-red-400 mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Failed to load tutors"}),l.jsx("p",{className:"text-slate-400 mt-2",children:a})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):l.jsxs("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl font-bold text-white",children:o?"Vælg ekspert og workshop":"Find en tutor, der forstår din verden"}),l.jsx("p",{className:"text-slate-400 mt-2 max-w-2xl mx-auto",children:o?"Alle vores eksperter har selv implementeret AI i forretningskritiske processer.":"Vores tutorer er erfarne fagfolk, ikke kun tekniske eksperter. De fokuserer på de resultater, der betyder noget i din karriere."})]}),l.jsx("div",{className:"space-y-6",children:s.map(c=>l.jsx(kx,{tutor:c,isExpanded:e===c.id,onExpand:d=>t(h=>h===d?null:d),onSelect:u},c.id))})]})},Ex=()=>{const e=kr(),t=ms(),{siteMode:r}=Et(),{user:n,isAuthenticated:s}=St(),{createBooking:i,loading:a,error:o,clearError:u}=zy(),c=r==="b2b",[d,h]=_.useState(c?"team":"individual"),[f,y]=_.useState({company:"",department:"",participants:10,contactName:"",contactEmail:"",contactPhone:""}),[v,k]=_.useState(""),[x,g]=_.useState(!1),[p,m]=_.useState({}),[w,N]=_.useState(!1),{tutor:S,session:b}=t.state||{};Ue.useEffect(()=>{s||e("/")},[s,e]),Ue.useEffect(()=>{n&&y(j=>({...j,contactName:n.name||"",contactEmail:n.email||"",contactPhone:n.phone||"",company:n.company||"",department:n.department||""}))},[n]);const E=()=>{var P,M,B,q,H;const j={};try{if(c&&((P=f.company)!=null&&P.trim()||(j.company="Virksomhedsnavn er påkrævet og må ikke være tomt"),(M=f.department)!=null&&M.trim()||(j.department="Afdeling er påkrævet og må ikke være tomt"),(B=f.contactPhone)!=null&&B.trim()||(j.contactPhone="Telefon er påkrævet og må ikke være tomt"),d==="team")){const I=parseInt(f.participants);(isNaN(I)||I<2||I>10)&&(j.participants="Antal deltagere skal være et tal mellem 2 og 10")}(q=f.contactName)!=null&&q.trim()||(j.contactName=c?"Kontaktperson er påkrævet og må ikke være tomt":"Dit navn er påkrævet og må ikke være tomt");const T=(H=f.contactEmail)==null?void 0:H.trim();if(T?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T)||(j.contactEmail="Indtast venligst en gyldig email-adresse (f.eks. navn@example.com)"):j.contactEmail="Email er påkrævet",!(v!=null&&v.trim()))j.selectedDateTime="Vælg venligst en tid for sessionen fra kalenderen";else try{const I=new Date(v);qt.isValidDate(I)?I<new Date&&(j.selectedDateTime="Kan ikke booke tid i fortiden. Vælg venligst en fremtidig tid."):j.selectedDateTime="Den valgte tid er ugyldig. Vælg venligst en ny tid."}catch{j.selectedDateTime="Den valgte tid har et ugyldigt format. Vælg venligst en ny tid."}}catch(T){console.error("Validation error:",T),j.general="Der opstod en fejl ved validering. Prøv venligst igen."}return m(j),Object.keys(j).length===0},O=async j=>{j.preventDefault();try{if(!E())return;if(g(!0),m({}),u(),!S||!b){m({general:"Tutor eller session information mangler. Prøv at vælge en tutor igen."}),g(!1);return}let P=c&&S.basePrice||S.price;d==="team"&&f.participants&&(P=P*f.participants);const M={tutorId:S.id,sessionId:b.id,format:d.toUpperCase(),selectedDateTime:v,participants:d==="team"?f.participants:1,siteMode:r.toUpperCase(),contactName:f.contactName,contactEmail:f.contactEmail,contactPhone:f.contactPhone||"",company:c?f.company:"",department:c?f.department:"",notes:""},B=await i(M);if(B.success){const q={...B.data,tutor:{...S},session:{...b},totalPrice:P,siteMode:r};c?e("/booking-success",{state:{booking:q}}):N(!0)}else m({general:B.error||"Der opstod en fejl ved booking. Prøv igen senere."})}catch(P){console.error("Booking submission error:",P),m({general:o||P.message||"Der opstod en fejl ved booking. Prøv igen senere."})}finally{g(!1)}},C=(j,P)=>{y(M=>({...M,[j]:P})),p[j]&&m(M=>({...M,[j]:""}))};if(!S||!b)return l.jsxs("div",{className:"max-w-2xl mx-auto py-20 text-center",children:[l.jsx("h1",{className:"text-2xl text-white mb-4",children:c?"Vælg venligst en workshop først.":"Vælg venligst en tutor og et sessionsemne først."}),l.jsx("button",{onClick:()=>e("/tutors"),className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-500",children:c?"Tilbage til eksperter":"Tilbage til Tutorer"})]});if(!c&&w)return l.jsx("div",{className:"max-w-2xl mx-auto py-20 text-center",children:l.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg",children:[l.jsx(Wo,{className:"w-16 h-16 mx-auto text-green-400"}),l.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Fantastisk! Du er i gang."}),l.jsxs("p",{className:"text-slate-300 mt-2",children:["Din bookingforespørgsel er sendt til ",l.jsx("span",{className:"font-bold text-blue-400",children:S.name}),", som kontakter dig inden for 24 timer for at aftale jeres ",d==="individual"?"1-til-1 session":"gruppesession"," om ",l.jsxs("span",{className:"font-bold text-blue-400",children:['"',b.title,'"']}),"."]}),v&&l.jsx("div",{className:"mt-4 p-3 bg-slate-700 rounded-lg",children:l.jsxs("p",{className:"text-sm text-slate-300",children:[l.jsx("strong",{children:"Ønsket tid:"})," ",(()=>{try{const j=new Date(v);if(!qt.isValidDate(j))return"Ugyldig dato";const P=v.includes("T")?v.split("T")[1]:"";return`${j.toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})} kl. ${P}`}catch(j){return console.warn("Date formatting error:",j),"Dato ikke tilgængelig"}})()]})}),l.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-6 bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-500 transition-colors",children:"Se dit Karriere-Dashboard"})]})});const L=c?S.basePrice*px[d]:S.price*Wc[d];return l.jsxs("div",{className:"max-w-3xl mx-auto py-12 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-white",children:["Bekræft ",c?"booking":"din booking"]}),l.jsxs("p",{className:"text-slate-300 mt-2",children:[c?"I er ved at booke":"Du er ved at booke"," ",l.jsx("span",{className:`${c?"text-green-400":"text-blue-400"} font-bold`,children:S.name})," til ",c?"workshoppen":"en session om:"]}),l.jsxs("p",{className:"text-xl font-semibold text-white mt-1",children:['"',b.title,'"']})]}),l.jsxs("form",{onSubmit:O,className:"bg-slate-800 p-8 rounded-lg space-y-6",children:[p.general&&l.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-4",children:l.jsx("p",{className:"text-red-200 text-sm",children:p.general})}),c?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed *"}),l.jsx("input",{type:"text",value:f.company,onChange:j=>C("company",j.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.company?"border-red-500":""}`}),p.company&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.company})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling / Team *"}),l.jsx("input",{type:"text",value:f.department,onChange:j=>C("department",j.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.department?"border-red-500":""}`}),p.department&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.department})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Kontaktperson *"}),l.jsx("input",{type:"text",value:f.contactName,onChange:j=>C("contactName",j.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.contactName?"border-red-500":""}`}),p.contactName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.contactName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email *"}),l.jsx("input",{type:"email",value:f.contactEmail,onChange:j=>C("contactEmail",j.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.contactEmail?"border-red-500":""}`}),p.contactEmail&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.contactEmail})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon *"}),l.jsx("input",{type:"tel",value:f.contactPhone,onChange:j=>C("contactPhone",j.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.contactPhone?"border-red-500":""}`}),p.contactPhone&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.contactPhone})]})]}),l.jsxs("fieldset",{className:"border border-slate-700 rounded-md p-4",children:[l.jsx("legend",{className:"text-slate-400 text-sm px-2",children:"Format"}),l.jsx("div",{className:"space-y-3",children:Object.entries(Qo).map(([j,P])=>l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"radio",name:"format",value:j,checked:d===j,onChange:()=>h(j),className:"text-green-600 focus:ring-green-500"}),l.jsx("span",{className:"text-slate-300",children:P})]},j))})]}),d==="team"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Antal deltagere (2-10) *"}),l.jsx("input",{type:"number",min:"2",max:"10",value:f.participants,onChange:j=>C("participants",parseInt(j.target.value)),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${p.participants?"border-red-500":""}`}),p.participants&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.participants})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Dit navn *"}),l.jsx("input",{type:"text",value:f.contactName,onChange:j=>C("contactName",j.target.value),className:`w-full bg-slate-700 border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.contactName?"border-red-500":""}`,placeholder:"Fx John Doe"}),p.contactName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.contactName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Din email *"}),l.jsx("input",{type:"email",value:f.contactEmail,onChange:j=>C("contactEmail",j.target.value),className:`w-full bg-slate-700 border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.contactEmail?"border-red-500":""}`,placeholder:"Fx john.doe@example.com"}),p.contactEmail&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:p.contactEmail})]}),l.jsxs("fieldset",{className:"border border-slate-700 rounded-md p-4",children:[l.jsx("legend",{className:"text-slate-400 text-sm px-2",children:"Vælg sessiontype"}),l.jsx("div",{className:"space-y-3",children:Object.entries(mx).map(([j,P])=>l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"format",value:j,checked:d===j,onChange:()=>h(j),className:"mt-1 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-slate-300 font-medium",children:P}),l.jsxs("span",{className:"text-lg font-bold text-white",children:[Math.round(S.price*Wc[j]),",-"]})]}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:gx[j]})]})]},j))})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx(bx,{tutor:S,selectedDateTime:v,onSelectDateTime:k}),p.selectedDateTime&&l.jsx("p",{className:"text-red-400 text-sm mt-2",children:p.selectedDateTime})]}),l.jsxs("div",{className:"border-t border-slate-700 pt-6 text-center",children:[l.jsx("p",{className:"text-slate-400",children:c?"Total (ex. moms):":"Total pris:"}),l.jsxs("p",{className:"text-4xl font-extrabold text-white",children:[Math.round(L).toLocaleString("da-DK")," kr",c?".":",-"]}),!c&&d==="group"&&l.jsxs("p",{className:"text-sm text-green-400 mt-2",children:["Du sparer ",Math.round(S.price*.3)," kr. med gruppesession!"]}),l.jsx("button",{type:"submit",disabled:x||a,className:"mt-4 w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg flex items-center justify-center gap-2",children:x||a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Behandler..."]}):l.jsxs(l.Fragment,{children:[c?"Bekræft booking":"Bekræft og send forespørgsel"," ",l.jsx(zf,{size:20})]})})]})]})]})},Cx=()=>{var n,s,i,a;const e=kr(),t=ms(),{booking:r}=t.state||{};return r?l.jsx("div",{className:"max-w-2xl mx-auto py-20 text-center",children:l.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg",children:[l.jsx(Wo,{className:"w-16 h-16 mx-auto text-green-400"}),l.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Tak for jeres booking!"}),l.jsxs("p",{className:"text-slate-300 mt-2",children:[((s=(n=r.tutor)==null?void 0:n.user)==null?void 0:s.name)||((i=r.tutor)==null?void 0:i.name),' kontakter jer inden for 24 timer med praktiske detaljer om "',(a=r.session)==null?void 0:a.title,'" (',Qo[r.format],")."]}),l.jsxs("div",{className:"mt-6 text-left bg-slate-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-white font-semibold mb-2",children:"Booking detaljer:"}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Virksomhed: ",r.company]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Afdeling: ",r.department]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Kontakt: ",r.contactName]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Email: ",r.contactEmail]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Total: ",r.totalPrice.toLocaleString("da-DK")," kr."]}),r.selectedDateTime&&l.jsxs("p",{className:"text-slate-300 text-sm mt-2",children:[l.jsx("strong",{children:"Ønsket tid:"})," ",(()=>{try{const o=new Date(r.selectedDateTime);if(!qt.isValidDate(o))return"Ugyldig dato";const u=r.selectedDateTime.includes("T")?r.selectedDateTime.split("T")[1]:"";return`${o.toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})} kl. ${u}`}catch(o){return console.warn("Date formatting error:",o),"Dato ikke tilgængelig"}})()]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"flex-1 bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-500 transition-colors",children:"Gå til Dashboard"}),l.jsx("button",{onClick:()=>e("/"),className:"flex-1 bg-slate-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-500 transition-colors",children:"Tilbage til forsiden"})]})]})}):l.jsxs("div",{className:"max-w-2xl mx-auto py-20 text-center",children:[l.jsx("h1",{className:"text-2xl text-white mb-4",children:"Booking ikke fundet"}),l.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-500",children:"Tilbage til forsiden"})]})},Px=()=>{const{siteMode:e}=Et(),{data:t=[],loading:r,error:n}=Uy({siteMode:e.toUpperCase()}),s=e==="b2b";return r?l.jsx("div",{className:"max-w-6xl mx-auto py-12 sm:py-20",children:l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx(Jf,{})})}):n?l.jsx("div",{className:"max-w-6xl mx-auto py-12 sm:py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-red-400 mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Failed to load bookings"}),l.jsx("p",{className:"text-slate-400 mt-2",children:n})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto py-12 sm:py-20 space-y-10",children:[l.jsx("h1",{className:"text-4xl font-bold text-white",children:s?"Virksomheds‑dashboard":"Dit Karriere-Dashboard"}),!s&&l.jsx("p",{className:"text-slate-400 -mt-8",children:"Her tracker du din fremgang og ser effekten af dine nye kompetencer."}),t.length>0?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:s?"Jeres bookings":"Dine bookings"}),l.jsx("div",{className:"grid gap-4",children:t.map(i=>{var a,o,u,c;return l.jsx("div",{className:"bg-slate-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:(a=i.session)==null?void 0:a.title}),l.jsxs("p",{className:"text-slate-300",children:["Med ",((u=(o=i.tutor)==null?void 0:o.user)==null?void 0:u.name)||((c=i.tutor)==null?void 0:c.name)]}),s&&i.company&&l.jsxs("p",{className:"text-slate-400 text-sm",children:[i.company," - ",i.department]}),s&&i.format&&l.jsx("p",{className:"text-slate-400 text-sm",children:Qo[i.format]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white font-bold",children:[i.totalPrice.toLocaleString("da-DK")," kr."]}),l.jsx("p",{className:"text-slate-400 text-sm",children:new Date(i.bookingDate).toLocaleDateString("da-DK")})]})]})},i.id)})})]}),l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Statistik"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-green-400",children:t.length}),l.jsx("p",{className:"text-slate-400",children:s?"Bookede workshops":"Bookede sessioner"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[t.reduce((i,a)=>i+a.totalPrice,0).toLocaleString("da-DK")," kr."]}),l.jsx("p",{className:"text-slate-400",children:"Total investering"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:s?new Set(t.map(i=>i.department)).size:new Set(t.map(i=>i.tutor.name)).size}),l.jsx("p",{className:"text-slate-400",children:s?"Afdelinger involveret":"Forskellige tutorer"})]})]})]})]}):l.jsxs("div",{className:"bg-slate-800 p-10 rounded-lg flex flex-col items-center gap-6",children:[l.jsx(Xy,{className:"w-14 h-14 text-slate-400"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-slate-300 text-lg mb-2",children:"Ingen bookings endnu"}),l.jsx("p",{className:"text-slate-400 max-w-xl",children:s?"Når I har booket jeres første workshop, vil I kunne følge progression og resultater her.":"Når du har booket din første session, vil du kunne følge din progression og resultater her."})]})]})]})},Tx=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[s,i]=_.useState("login"),[a,o]=_.useState(!1),u=kr(),c=ms(),{siteMode:d}=Et(),{isAuthenticated:h,user:f}=St(),y=N=>{i(N),n(!0)},v=()=>{o(!0)},k=c.pathname==="/"?"home":c.pathname.slice(1),x=d==="b2b",g=(f==null?void 0:f.role)==="TUTOR",{validateUserSiteMode:p}=St();_.useEffect(()=>{if(h&&f){const N=p(d);if(N.shouldRedirect){const S=new URL(window.location);window.location.href=`${S.origin}${S.pathname}?mode=${N.correctSiteMode}`}}},[h,f,d,p]);const w=(()=>{if(g)return[{label:"Hjem",key:"home",path:"/"},{label:"Tutor Dashboard",key:"tutor-dashboard",path:"/tutor-dashboard"}];const N=x?[{label:"Hjem",key:"home",path:"/"},{label:"Eksperter",key:"tutors",path:"/tutors"}]:[{label:"Hjem",key:"home",path:"/"},{label:"Find Tutor",key:"tutors",path:"/tutors"}];return h&&N.push({label:"Dashboard",key:"dashboard",path:"/dashboard"}),N})();return l.jsxs("div",{className:"min-h-screen bg-slate-900 font-sans text-slate-300",children:[l.jsx("header",{className:"bg-slate-900/80 backdrop-blur-sm sticky top-0 z-40 border-b border-slate-800",children:l.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 text-white text-2xl font-bold",children:[l.jsx(Ky,{className:`${x?"text-green-400":"text-blue-400"} h-8 w-8`}),l.jsxs("span",{children:["AI Rookie ",x&&l.jsx("span",{className:"font-light",children:"Enterprise"})]})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[l.jsx(Qf,{onModeChange:()=>u("/")}),l.jsx("div",{className:"h-6 w-px bg-slate-600"}),l.jsx("div",{className:"flex items-center gap-2",children:w.map(N=>l.jsx("button",{onClick:()=>u(N.path),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${k===N.key?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-700"}`,children:N.label},N.key))}),l.jsx(xx,{onAuthClick:y,onProfileClick:v})]}),l.jsx("button",{className:"md:hidden text-slate-300 hover:text-white",onClick:()=>t(!0),children:l.jsx(Zy,{size:24})})]})})}),l.jsx(wx,{isOpen:e,onClose:()=>t(!1),currentPage:k,onAuthClick:y,onProfileClick:v,isAuthenticated:h,user:f}),l.jsx("main",{className:"px-4 sm:px-6 lg:px-8",children:l.jsxs(v0,{children:[l.jsx(ir,{path:"/",element:l.jsx(Sx,{})}),l.jsx(ir,{path:"/tutors",element:l.jsx(Nx,{})}),l.jsx(ir,{path:"/booking",element:l.jsx(Ex,{})}),l.jsx(ir,{path:"/booking-success",element:l.jsx(Cx,{})}),l.jsx(ir,{path:"/dashboard",element:l.jsx(Px,{})}),l.jsx(ir,{path:"/tutor-dashboard",element:l.jsx(cx,{})})]})}),l.jsx("footer",{className:"bg-slate-800 mt-20 border-t border-slate-700",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:x?"AI Rookie Enterprise – Realiser AI‑potentialet i jeres forretning":"AI Rookie: Fra Læring til Konkret Karriereværdi"}),l.jsxs("div",{className:"flex justify-center space-x-6",children:[l.jsx("button",{className:"text-slate-400 hover:text-white",children:x?"Kontakt":"Om Os"}),l.jsx("button",{className:"text-slate-400 hover:text-white",children:"Priser"}),l.jsx("button",{className:"text-slate-400 hover:text-white",children:x?"Demo":"Kontakt"})]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["© ",new Date().getFullYear()," AI Rookie",x?" Enterprise":"",". ",x?"Alle rettigheder forbeholdes.":"Styrk din karriere i dag."]})]})}),l.jsx(sx,{isOpen:r,onClose:()=>n(!1),initialMode:s,siteMode:d}),l.jsx(ix,{isOpen:a,onClose:()=>o(!1),siteMode:d})]})};function Ax(){return l.jsx(ax,{children:l.jsx(Dy,{children:l.jsx(dx,{children:l.jsx(Tx,{})})})})}La.createRoot(document.getElementById("root")).render(l.jsx(Ue.StrictMode,{children:l.jsx(w0,{children:l.jsx(Ax,{})})}));
//# sourceMappingURL=index-4c41f1e2.js.map
