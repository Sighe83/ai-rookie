function sm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function am(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Qc={exports:{}},Fi={},Jc={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),lm=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),mm=Symbol.for("react.suspense"),pm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),uu=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=uu&&e[uu]||e["@@iterator"],typeof e=="function"?e:null)}var Xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yc=Object.assign,Zc={};function xn(e,t,r){this.props=e,this.context=t,this.refs=Zc,this.updater=r||Xc}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ed(){}ed.prototype=xn.prototype;function no(e,t,r){this.props=e,this.context=t,this.refs=Zc,this.updater=r||Xc}var so=no.prototype=new ed;so.constructor=no;Yc(so,xn.prototype);so.isPureReactComponent=!0;var cu=Array.isArray,td=Object.prototype.hasOwnProperty,io={current:null},rd={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)td.call(t,n)&&!rd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:_s,type:e,key:i,ref:a,props:s,_owner:io.current}}function xm(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ao(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var du=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function ti(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _s:case lm:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+pa(a,0):n,cu(s)?(r="",e!=null&&(r=e.replace(du,"$&/")+"/"),ti(s,t,r,"",function(c){return c})):s!=null&&(ao(s)&&(s=xm(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(du,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",cu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+pa(i,o);a+=ti(i,t,r,u,s)}else if(u=vm(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+pa(i,o++),a+=ti(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Rs(e,t,r){if(e==null)return e;var n=[],s=0;return ti(e,n,"","",function(i){return t.call(r,i,s++)}),n}function wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ri={transition:null},km={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ri,ReactCurrentOwner:io};function sd(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Rs,forEach:function(e,t,r){Rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!ao(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=xn;Q.Fragment=om;Q.Profiler=cm;Q.PureComponent=no;Q.StrictMode=um;Q.Suspense=mm;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;Q.act=sd;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=io.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)td.call(t,u)&&!rd.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:_s,type:e.type,key:s,ref:i,props:n,_owner:a}};Q.createContext=function(e){return e={$$typeof:hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dm,_context:e},e.Consumer=e};Q.createElement=nd;Q.createFactory=function(e){var t=nd.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:fm,render:e}};Q.isValidElement=ao;Q.lazy=function(e){return{$$typeof:gm,_payload:{_status:-1,_result:e},_init:wm}};Q.memo=function(e,t){return{$$typeof:pm,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};Q.unstable_act=sd;Q.useCallback=function(e,t){return De.current.useCallback(e,t)};Q.useContext=function(e){return De.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return De.current.useDeferredValue(e)};Q.useEffect=function(e,t){return De.current.useEffect(e,t)};Q.useId=function(){return De.current.useId()};Q.useImperativeHandle=function(e,t,r){return De.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return De.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return De.current.useReducer(e,t,r)};Q.useRef=function(e){return De.current.useRef(e)};Q.useState=function(e){return De.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return De.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return De.current.useTransition()};Q.version="18.3.1";Jc.exports=Q;var S=Jc.exports;const Ge=im(S),bm=sm({__proto__:null,default:Ge},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=S,_m=Symbol.for("react.element"),Sm=Symbol.for("react.fragment"),Nm=Object.prototype.hasOwnProperty,Em=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tm={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Nm.call(t,n)&&!Tm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_m,type:e,key:i,ref:a,props:s,_owner:Em.current}}Fi.Fragment=Sm;Fi.jsx=id;Fi.jsxs=id;Qc.exports=Fi;var l=Qc.exports,Ja={},ad={exports:{}},Ye={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var z=I.length;I.push(B);e:for(;0<z;){var J=z-1>>>1,ne=I[J];if(0<s(ne,B))I[J]=B,I[z]=ne,z=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],z=I.pop();if(z!==B){I[0]=z;e:for(var J=0,ne=I.length,lt=ne>>>1;J<lt;){var L=2*(J+1)-1,te=I[L],Z=L+1,ie=I[Z];if(0>s(te,z))Z<ne&&0>s(ie,te)?(I[J]=ie,I[Z]=z,J=Z):(I[J]=te,I[L]=z,J=L);else if(Z<ne&&0>s(ie,z))I[J]=ie,I[Z]=z,J=Z;else break e}}return B}function s(I,B){var z=I.sortIndex-B.sortIndex;return z!==0?z:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,m=3,v=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(I){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=I)n(c),B.sortIndex=B.expirationTime,t(u,B);else break;B=r(c)}}function k(I){if(y=!1,f(I),!x)if(r(u)!==null)x=!0,ce(E);else{var B=r(c);B!==null&&Se(k,B.startTime-I)}}function E(I,B){x=!1,y&&(y=!1,g(N),N=-1),v=!0;var z=m;try{for(f(B),h=r(u);h!==null&&(!(h.expirationTime>B)||I&&!$());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var ne=J(h.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(u)&&n(u),f(B)}else n(u);h=r(u)}if(h!==null)var lt=!0;else{var L=r(c);L!==null&&Se(k,L.startTime-B),lt=!1}return lt}finally{h=null,m=z,v=!1}}var _=!1,b=null,N=-1,A=5,P=-1;function $(){return!(e.unstable_now()-P<A)}function V(){if(b!==null){var I=e.unstable_now();P=I;var B=!0;try{B=b(!0,I)}finally{B?C():(_=!1,b=null)}}else _=!1}var C;if(typeof p=="function")C=function(){p(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ge=D.port2;D.port1.onmessage=V,C=function(){ge.postMessage(null)}}else C=function(){w(V,0)};function ce(I){b=I,_||(_=!0,C())}function Se(I,B){N=w(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ce(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var z=m;m=B;try{return I()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=m;m=I;try{return B()}finally{m=z}},e.unstable_scheduleCallback=function(I,B,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,I={id:d++,callback:B,priorityLevel:I,startTime:z,expirationTime:ne,sortIndex:-1},z>J?(I.sortIndex=z,t(c,I),r(u)===null&&I===r(c)&&(y?(g(N),N=-1):y=!0,Se(k,z-J))):(I.sortIndex=ne,t(u,I),x||v||(x=!0,ce(E))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var B=m;return function(){var z=m;m=B;try{return I.apply(this,arguments)}finally{m=z}}}})(od);ld.exports=od;var Cm=ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=S,Xe=Cm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ud=new Set,es={};function Pr(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(es[e]=t,e=0;e<t.length;e++)ud.add(t[e])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hu={},fu={};function Om(e){return Xa.call(fu,e)?!0:Xa.call(hu,e)?!1:Am.test(e)?fu[e]=!0:(hu[e]=!0,!1)}function Im(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rm(e,t,r,n){if(t===null||typeof t>"u"||Im(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var lo=/[\-:]([a-z])/g;function oo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lo,oo);Te[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lo,oo);Te[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lo,oo);Te[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function uo(e,t,r,n){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rm(t,r,s,n)&&(r=null),n||s===null?Om(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $t=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),co=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),ho=Symbol.for("react.forward_ref"),Za=Symbol.for("react.suspense"),el=Symbol.for("react.suspense_list"),fo=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),hd=Symbol.for("react.offscreen"),mu=Symbol.iterator;function En(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,ga;function Dn(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var va=!1;function xa(e,t){if(!e||va)return"";va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{va=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function $m(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hr:return"Fragment";case Vr:return"Portal";case Ya:return"Profiler";case co:return"StrictMode";case Za:return"Suspense";case el:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case cd:return(e._context.displayName||"Context")+".Provider";case ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fo:return t=e.displayName||null,t!==null?t:tl(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return tl(e(t))}catch{}}return null}function Dm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tl(t);case 8:return t===co?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lm(e){var t=fd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=Lm(e))}function md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rl(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pd(e,t){t=t.checked,t!=null&&uo(e,"checked",t,!1)}function nl(e,t){pd(e,t);var r=nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,r):t.hasOwnProperty("defaultValue")&&sl(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sl(e,t,r){(t!=="number"||fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function tn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Ln(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nr(r)}}function gd(e,t){var r=nr(t.value),n=nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mm=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){Mm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function yd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function wd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Um=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(e,t){if(t){if(Um[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,rn=null,nn=null;function yu(e){if(e=Es(e)){if(typeof cl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=qi(t),cl(e.stateNode,e.type,t))}}function kd(e){rn?nn?nn.push(e):nn=[e]:rn=e}function bd(){if(rn){var e=rn,t=nn;if(nn=rn=null,yu(e),t)for(e=0;e<t.length;e++)yu(t[e])}}function jd(e,t){return e(t)}function _d(){}var ya=!1;function Sd(e,t,r){if(ya)return e(t,r);ya=!0;try{return jd(e,t,r)}finally{ya=!1,(rn!==null||nn!==null)&&(_d(),bd())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=qi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var dl=!1;if(At)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{dl=!1}function Bm(e,t,r,n,s,i,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Vn=!1,mi=null,pi=!1,hl=null,zm={onError:function(e){Vn=!0,mi=e}};function Fm(e,t,r,n,s,i,a,o,u){Vn=!1,mi=null,Bm.apply(zm,arguments)}function Vm(e,t,r,n,s,i,a,o,u){if(Fm.apply(this,arguments),Vn){if(Vn){var c=mi;Vn=!1,mi=null}else throw Error(O(198));pi||(pi=!0,hl=c)}}function Ar(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wu(e){if(Ar(e)!==e)throw Error(O(188))}function Hm(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return wu(s),e;if(i===n)return wu(s),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Ed(e){return e=Hm(e),e!==null?Td(e):null}function Td(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Td(e);if(t!==null)return t;e=e.sibling}return null}var Cd=Xe.unstable_scheduleCallback,ku=Xe.unstable_cancelCallback,Wm=Xe.unstable_shouldYield,Km=Xe.unstable_requestPaint,ve=Xe.unstable_now,qm=Xe.unstable_getCurrentPriorityLevel,po=Xe.unstable_ImmediatePriority,Pd=Xe.unstable_UserBlockingPriority,gi=Xe.unstable_NormalPriority,Gm=Xe.unstable_LowPriority,Ad=Xe.unstable_IdlePriority,Vi=null,wt=null;function Qm(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Ym,Jm=Math.log,Xm=Math.LN2;function Ym(e){return e>>>=0,e===0?32:31-(Jm(e)/Xm|0)|0}var Ms=64,Us=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Mn(o):(i&=a,i!==0&&(n=Mn(i)))}else a=r&~s,a!==0?n=Mn(a):i!==0&&(n=Mn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mt(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Zm(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Od(){var e=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),e}function wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function tp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function go(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var re=0;function Id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rd,vo,$d,Dd,Ld,ml=!1,Bs=[],Gt=null,Qt=null,Jt=null,ns=new Map,ss=new Map,Ft=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bu(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Cn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Es(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function np(e,t,r,n,s){switch(t){case"focusin":return Gt=Cn(Gt,e,t,r,n,s),!0;case"dragenter":return Qt=Cn(Qt,e,t,r,n,s),!0;case"mouseover":return Jt=Cn(Jt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,Cn(ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,Cn(ss.get(i)||null,e,t,r,n,s)),!0}return!1}function Md(e){var t=yr(e.target);if(t!==null){var r=Ar(t);if(r!==null){if(t=r.tag,t===13){if(t=Nd(r),t!==null){e.blockedOn=t,Ld(e.priority,function(){$d(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ul=n,r.target.dispatchEvent(n),ul=null}else return t=Es(r),t!==null&&vo(t),e.blockedOn=r,!1;t.shift()}return!0}function ju(e,t,r){ni(e)&&r.delete(t)}function sp(){ml=!1,Gt!==null&&ni(Gt)&&(Gt=null),Qt!==null&&ni(Qt)&&(Qt=null),Jt!==null&&ni(Jt)&&(Jt=null),ns.forEach(ju),ss.forEach(ju)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,sp)))}function is(e){function t(s){return Pn(s,e)}if(0<Bs.length){Pn(Bs[0],e);for(var r=1;r<Bs.length;r++){var n=Bs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gt!==null&&Pn(Gt,e),Qt!==null&&Pn(Qt,e),Jt!==null&&Pn(Jt,e),ns.forEach(t),ss.forEach(t),r=0;r<Ft.length;r++)n=Ft[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&(r=Ft[0],r.blockedOn===null);)Md(r),r.blockedOn===null&&Ft.shift()}var sn=$t.ReactCurrentBatchConfig,xi=!0;function ip(e,t,r,n){var s=re,i=sn.transition;sn.transition=null;try{re=1,xo(e,t,r,n)}finally{re=s,sn.transition=i}}function ap(e,t,r,n){var s=re,i=sn.transition;sn.transition=null;try{re=4,xo(e,t,r,n)}finally{re=s,sn.transition=i}}function xo(e,t,r,n){if(xi){var s=pl(e,t,r,n);if(s===null)Pa(e,t,n,yi,r),bu(e,n);else if(np(s,e,t,r,n))n.stopPropagation();else if(bu(e,n),t&4&&-1<rp.indexOf(e)){for(;s!==null;){var i=Es(s);if(i!==null&&Rd(i),i=pl(e,t,r,n),i===null&&Pa(e,t,n,yi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pa(e,t,n,null,r)}}var yi=null;function pl(e,t,r,n){if(yi=null,e=mo(n),e=yr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Nd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yi=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qm()){case po:return 1;case Pd:return 4;case gi:case Gm:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var Wt=null,yo=null,si=null;function Bd(){if(si)return si;var e,t=yo,r=t.length,n,s="value"in Wt?Wt.value:Wt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return si=s.slice(e,1<n?1-n:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zs(){return!0}function _u(){return!1}function Ze(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zs:_u,this.isPropagationStopped=_u,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Ze(yn),Ns=me({},yn,{view:0,detail:0}),lp=Ze(Ns),ka,ba,An,Hi=me({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(ka=e.screenX-An.screenX,ba=e.screenY-An.screenY):ba=ka=0,An=e),ka)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Su=Ze(Hi),op=me({},Hi,{dataTransfer:0}),up=Ze(op),cp=me({},Ns,{relatedTarget:0}),ja=Ze(cp),dp=me({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Ze(dp),fp=me({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mp=Ze(fp),pp=me({},yn,{data:0}),Nu=Ze(pp),gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xp[e])?!!t[e]:!1}function ko(){return yp}var wp=me({},Ns,{key:function(e){if(e.key){var t=gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kp=Ze(wp),bp=me({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ze(bp),jp=me({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),_p=Ze(jp),Sp=me({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=Ze(Sp),Ep=me({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Ze(Ep),Cp=[9,13,27,32],bo=At&&"CompositionEvent"in window,Hn=null;At&&"documentMode"in document&&(Hn=document.documentMode);var Pp=At&&"TextEvent"in window&&!Hn,zd=At&&(!bo||Hn&&8<Hn&&11>=Hn),Tu=String.fromCharCode(32),Cu=!1;function Fd(e,t){switch(e){case"keyup":return Cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Ap(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(Cu=!0,Tu);case"textInput":return e=t.data,e===Tu&&Cu?null:e;default:return null}}function Op(e,t){if(Wr)return e==="compositionend"||!bo&&Fd(e,t)?(e=Bd(),si=yo=Wt=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function Hd(e,t,r,n){kd(n),t=wi(t,"onChange"),0<t.length&&(r=new wo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wn=null,as=null;function Rp(e){th(e,0)}function Wi(e){var t=Gr(e);if(md(t))return e}function $p(e,t){if(e==="change")return t}var Wd=!1;if(At){var _a;if(At){var Sa="oninput"in document;if(!Sa){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),Sa=typeof Au.oninput=="function"}_a=Sa}else _a=!1;Wd=_a&&(!document.documentMode||9<document.documentMode)}function Ou(){Wn&&(Wn.detachEvent("onpropertychange",Kd),as=Wn=null)}function Kd(e){if(e.propertyName==="value"&&Wi(as)){var t=[];Hd(t,as,e,mo(e)),Sd(Rp,t)}}function Dp(e,t,r){e==="focusin"?(Ou(),Wn=t,as=r,Wn.attachEvent("onpropertychange",Kd)):e==="focusout"&&Ou()}function Lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(as)}function Mp(e,t){if(e==="click")return Wi(t)}function Up(e,t){if(e==="input"||e==="change")return Wi(t)}function Bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Bp;function ls(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Xa.call(t,s)||!gt(e[s],t[s]))return!1}return!0}function Iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var r=Iu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Iu(r)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gd(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fi(e.document)}return t}function jo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zp(e){var t=Gd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qd(r.ownerDocument.documentElement,r)){if(n!==null&&jo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ru(r,i);var a=Ru(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fp=At&&"documentMode"in document&&11>=document.documentMode,Kr=null,gl=null,Kn=null,vl=!1;function $u(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vl||Kr==null||Kr!==fi(n)||(n=Kr,"selectionStart"in n&&jo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kn&&ls(Kn,n)||(Kn=n,n=wi(gl,"onSelect"),0<n.length&&(t=new wo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kr)))}function Fs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},Na={},Qd={};At&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Ki(e){if(Na[e])return Na[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qd)return Na[e]=t[r];return e}var Jd=Ki("animationend"),Xd=Ki("animationiteration"),Yd=Ki("animationstart"),Zd=Ki("transitionend"),eh=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){eh.set(e,t),Pr(t,[e])}for(var Ea=0;Ea<Du.length;Ea++){var Ta=Du[Ea],Vp=Ta.toLowerCase(),Hp=Ta[0].toUpperCase()+Ta.slice(1);ar(Vp,"on"+Hp)}ar(Jd,"onAnimationEnd");ar(Xd,"onAnimationIteration");ar(Yd,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(Zd,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Lu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Vm(n,t,void 0,e),e.currentTarget=null}function th(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;Lu(s,o,c),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;Lu(s,o,c),i=u}}}if(pi)throw e=hl,pi=!1,hl=null,e}function oe(e,t){var r=t[bl];r===void 0&&(r=t[bl]=new Set);var n=e+"__bubble";r.has(n)||(rh(t,e,2,!1),r.add(n))}function Ca(e,t,r){var n=0;t&&(n|=4),rh(r,e,n,t)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Vs]){e[Vs]=!0,ud.forEach(function(r){r!=="selectionchange"&&(Wp.has(r)||Ca(r,!1,e),Ca(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vs]||(t[Vs]=!0,Ca("selectionchange",!1,t))}}function rh(e,t,r,n){switch(Ud(t)){case 1:var s=ip;break;case 4:s=ap;break;default:s=xo}r=s.bind(null,t,r,e),s=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=yr(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Sd(function(){var c=i,d=mo(r),h=[];e:{var m=eh.get(e);if(m!==void 0){var v=wo,x=e;switch(e){case"keypress":if(ii(r)===0)break e;case"keydown":case"keyup":v=kp;break;case"focusin":x="focus",v=ja;break;case"focusout":x="blur",v=ja;break;case"beforeblur":case"afterblur":v=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_p;break;case Jd:case Xd:case Yd:v=hp;break;case Zd:v=Np;break;case"scroll":v=lp;break;case"wheel":v=Tp;break;case"copy":case"cut":case"paste":v=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Eu}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?m!==null?m+"Capture":null:m;y=[];for(var p=c,f;p!==null;){f=p;var k=f.stateNode;if(f.tag===5&&k!==null&&(f=k,g!==null&&(k=rs(p,g),k!=null&&y.push(us(p,k,f)))),w)break;p=p.return}0<y.length&&(m=new v(m,x,null,r,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==ul&&(x=r.relatedTarget||r.fromElement)&&(yr(x)||x[Ot]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?yr(x):null,x!==null&&(w=Ar(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(y=Su,k="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Eu,k="onPointerLeave",g="onPointerEnter",p="pointer"),w=v==null?m:Gr(v),f=x==null?m:Gr(x),m=new y(k,p+"leave",v,r,d),m.target=w,m.relatedTarget=f,k=null,yr(d)===c&&(y=new y(g,p+"enter",x,r,d),y.target=f,y.relatedTarget=w,k=y),w=k,v&&x)t:{for(y=v,g=x,p=0,f=y;f;f=Rr(f))p++;for(f=0,k=g;k;k=Rr(k))f++;for(;0<p-f;)y=Rr(y),p--;for(;0<f-p;)g=Rr(g),f--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Rr(y),g=Rr(g)}y=null}else y=null;v!==null&&Mu(h,m,v,y,!1),x!==null&&w!==null&&Mu(h,w,x,y,!0)}}e:{if(m=c?Gr(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var E=$p;else if(Pu(m))if(Wd)E=Up;else{E=Lp;var _=Dp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Mp);if(E&&(E=E(e,c))){Hd(h,E,r,d);break e}_&&_(e,m,c),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&sl(m,"number",m.value)}switch(_=c?Gr(c):window,e){case"focusin":(Pu(_)||_.contentEditable==="true")&&(Kr=_,gl=c,Kn=null);break;case"focusout":Kn=gl=Kr=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,$u(h,r,d);break;case"selectionchange":if(Fp)break;case"keydown":case"keyup":$u(h,r,d)}var b;if(bo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Wr?Fd(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(zd&&r.locale!=="ko"&&(Wr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Wr&&(b=Bd()):(Wt=d,yo="value"in Wt?Wt.value:Wt.textContent,Wr=!0)),_=wi(c,N),0<_.length&&(N=new Nu(N,e,null,r,d),h.push({event:N,listeners:_}),b?N.data=b:(b=Vd(r),b!==null&&(N.data=b)))),(b=Pp?Ap(e,r):Op(e,r))&&(c=wi(c,"onBeforeInput"),0<c.length&&(d=new Nu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=b))}th(h,t)})}function us(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(us(e,i,s)),i=rs(e,t),i!=null&&n.push(us(e,i,s))),e=e.return}return n}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=rs(r,i),u!=null&&a.unshift(us(r,u,o))):s||(u=rs(r,i),u!=null&&a.push(us(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Kp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function Uu(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(qp,"")}function Hs(e,t,r){if(t=Uu(t),Uu(e)!==t&&r)throw Error(O(425))}function ki(){}var xl=null,yl=null;function wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,Gp=typeof clearTimeout=="function"?clearTimeout:void 0,Bu=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bu<"u"?function(e){return Bu.resolve(null).then(e).catch(Jp)}:kl;function Jp(e){setTimeout(function(){throw e})}function Aa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),yt="__reactFiber$"+wn,cs="__reactProps$"+wn,Ot="__reactContainer$"+wn,bl="__reactEvents$"+wn,Xp="__reactListeners$"+wn,Yp="__reactHandles$"+wn;function yr(e){var t=e[yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zu(e);e!==null;){if(r=e[yt])return r;e=zu(e)}return t}e=r,r=e.parentNode}return null}function Es(e){return e=e[yt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function qi(e){return e[cs]||null}var jl=[],Qr=-1;function lr(e){return{current:e}}function ue(e){0>Qr||(e.current=jl[Qr],jl[Qr]=null,Qr--)}function le(e,t){Qr++,jl[Qr]=e.current,e.current=t}var sr={},Ie=lr(sr),Fe=lr(!1),Sr=sr;function un(e,t){var r=e.type.contextTypes;if(!r)return sr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function bi(){ue(Fe),ue(Ie)}function Fu(e,t,r){if(Ie.current!==sr)throw Error(O(168));le(Ie,t),le(Fe,r)}function nh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,Dm(e)||"Unknown",s));return me({},r,n)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Sr=Ie.current,le(Ie,e),le(Fe,Fe.current),!0}function Vu(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=nh(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,ue(Fe),ue(Ie),le(Ie,e)):ue(Fe),le(Fe,r)}var Et=null,Gi=!1,Oa=!1;function sh(e){Et===null?Et=[e]:Et.push(e)}function Zp(e){Gi=!0,sh(e)}function or(){if(!Oa&&Et!==null){Oa=!0;var e=0,t=re;try{var r=Et;for(re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,Gi=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Cd(po,or),s}finally{re=t,Oa=!1}}return null}var Jr=[],Xr=0,_i=null,Si=0,et=[],tt=0,Nr=null,Tt=1,Ct="";function mr(e,t){Jr[Xr++]=Si,Jr[Xr++]=_i,_i=e,Si=t}function ih(e,t,r){et[tt++]=Tt,et[tt++]=Ct,et[tt++]=Nr,Nr=e;var n=Tt;e=Ct;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Tt=1<<32-mt(t)+s|r<<s|n,Ct=i+e}else Tt=1<<i|r<<s|n,Ct=e}function _o(e){e.return!==null&&(mr(e,1),ih(e,1,0))}function So(e){for(;e===_i;)_i=Jr[--Xr],Jr[Xr]=null,Si=Jr[--Xr],Jr[Xr]=null;for(;e===Nr;)Nr=et[--tt],et[tt]=null,Ct=et[--tt],et[tt]=null,Tt=et[--tt],et[tt]=null}var Je=null,Qe=null,de=!1,ft=null;function ah(e,t){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Qe=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:Tt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Qe=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(de){var t=Qe;if(t){var r=t;if(!Hu(e,t)){if(_l(e))throw Error(O(418));t=Xt(r.nextSibling);var n=Je;t&&Hu(e,t)?ah(n,r):(e.flags=e.flags&-4097|2,de=!1,Je=e)}}else{if(_l(e))throw Error(O(418));e.flags=e.flags&-4097|2,de=!1,Je=e}}}function Wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ws(e){if(e!==Je)return!1;if(!de)return Wu(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wl(e.type,e.memoizedProps)),t&&(t=Qe)){if(_l(e))throw lh(),Error(O(418));for(;t;)ah(e,t),t=Xt(t.nextSibling)}if(Wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=Xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Je?Xt(e.stateNode.nextSibling):null;return!0}function lh(){for(var e=Qe;e;)e=Xt(e.nextSibling)}function cn(){Qe=Je=null,de=!1}function No(e){ft===null?ft=[e]:ft.push(e)}var eg=$t.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ku(e){var t=e._init;return t(e._payload)}function oh(e){function t(g,p){if(e){var f=g.deletions;f===null?(g.deletions=[p],g.flags|=16):f.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=tr(g,p),g.index=0,g.sibling=null,g}function i(g,p,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<p?(g.flags|=2,p):f):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,f,k){return p===null||p.tag!==6?(p=Ua(f,g.mode,k),p.return=g,p):(p=s(p,f),p.return=g,p)}function u(g,p,f,k){var E=f.type;return E===Hr?d(g,p,f.props.children,k,f.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Bt&&Ku(E)===p.type)?(k=s(p,f.props),k.ref=On(g,p,f),k.return=g,k):(k=hi(f.type,f.key,f.props,null,g.mode,k),k.ref=On(g,p,f),k.return=g,k)}function c(g,p,f,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=Ba(f,g.mode,k),p.return=g,p):(p=s(p,f.children||[]),p.return=g,p)}function d(g,p,f,k,E){return p===null||p.tag!==7?(p=jr(f,g.mode,k,E),p.return=g,p):(p=s(p,f),p.return=g,p)}function h(g,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ua(""+p,g.mode,f),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return f=hi(p.type,p.key,p.props,null,g.mode,f),f.ref=On(g,null,p),f.return=g,f;case Vr:return p=Ba(p,g.mode,f),p.return=g,p;case Bt:var k=p._init;return h(g,k(p._payload),f)}if(Ln(p)||En(p))return p=jr(p,g.mode,f,null),p.return=g,p;Ks(g,p)}return null}function m(g,p,f,k){var E=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:o(g,p,""+f,k);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $s:return f.key===E?u(g,p,f,k):null;case Vr:return f.key===E?c(g,p,f,k):null;case Bt:return E=f._init,m(g,p,E(f._payload),k)}if(Ln(f)||En(f))return E!==null?null:d(g,p,f,k,null);Ks(g,f)}return null}function v(g,p,f,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(f)||null,o(p,g,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $s:return g=g.get(k.key===null?f:k.key)||null,u(p,g,k,E);case Vr:return g=g.get(k.key===null?f:k.key)||null,c(p,g,k,E);case Bt:var _=k._init;return v(g,p,f,_(k._payload),E)}if(Ln(k)||En(k))return g=g.get(f)||null,d(p,g,k,E,null);Ks(p,k)}return null}function x(g,p,f,k){for(var E=null,_=null,b=p,N=p=0,A=null;b!==null&&N<f.length;N++){b.index>N?(A=b,b=null):A=b.sibling;var P=m(g,b,f[N],k);if(P===null){b===null&&(b=A);break}e&&b&&P.alternate===null&&t(g,b),p=i(P,p,N),_===null?E=P:_.sibling=P,_=P,b=A}if(N===f.length)return r(g,b),de&&mr(g,N),E;if(b===null){for(;N<f.length;N++)b=h(g,f[N],k),b!==null&&(p=i(b,p,N),_===null?E=b:_.sibling=b,_=b);return de&&mr(g,N),E}for(b=n(g,b);N<f.length;N++)A=v(b,g,N,f[N],k),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?N:A.key),p=i(A,p,N),_===null?E=A:_.sibling=A,_=A);return e&&b.forEach(function($){return t(g,$)}),de&&mr(g,N),E}function y(g,p,f,k){var E=En(f);if(typeof E!="function")throw Error(O(150));if(f=E.call(f),f==null)throw Error(O(151));for(var _=E=null,b=p,N=p=0,A=null,P=f.next();b!==null&&!P.done;N++,P=f.next()){b.index>N?(A=b,b=null):A=b.sibling;var $=m(g,b,P.value,k);if($===null){b===null&&(b=A);break}e&&b&&$.alternate===null&&t(g,b),p=i($,p,N),_===null?E=$:_.sibling=$,_=$,b=A}if(P.done)return r(g,b),de&&mr(g,N),E;if(b===null){for(;!P.done;N++,P=f.next())P=h(g,P.value,k),P!==null&&(p=i(P,p,N),_===null?E=P:_.sibling=P,_=P);return de&&mr(g,N),E}for(b=n(g,b);!P.done;N++,P=f.next())P=v(b,g,N,P.value,k),P!==null&&(e&&P.alternate!==null&&b.delete(P.key===null?N:P.key),p=i(P,p,N),_===null?E=P:_.sibling=P,_=P);return e&&b.forEach(function(V){return t(g,V)}),de&&mr(g,N),E}function w(g,p,f,k){if(typeof f=="object"&&f!==null&&f.type===Hr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case $s:e:{for(var E=f.key,_=p;_!==null;){if(_.key===E){if(E=f.type,E===Hr){if(_.tag===7){r(g,_.sibling),p=s(_,f.props.children),p.return=g,g=p;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Bt&&Ku(E)===_.type){r(g,_.sibling),p=s(_,f.props),p.ref=On(g,_,f),p.return=g,g=p;break e}r(g,_);break}else t(g,_);_=_.sibling}f.type===Hr?(p=jr(f.props.children,g.mode,k,f.key),p.return=g,g=p):(k=hi(f.type,f.key,f.props,null,g.mode,k),k.ref=On(g,p,f),k.return=g,g=k)}return a(g);case Vr:e:{for(_=f.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(g,p.sibling),p=s(p,f.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Ba(f,g.mode,k),p.return=g,g=p}return a(g);case Bt:return _=f._init,w(g,p,_(f._payload),k)}if(Ln(f))return x(g,p,f,k);if(En(f))return y(g,p,f,k);Ks(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,f),p.return=g,g=p):(r(g,p),p=Ua(f,g.mode,k),p.return=g,g=p),a(g)):r(g,p)}return w}var dn=oh(!0),uh=oh(!1),Ni=lr(null),Ei=null,Yr=null,Eo=null;function To(){Eo=Yr=Ei=null}function Co(e){var t=Ni.current;ue(Ni),e._currentValue=t}function Nl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function an(e,t){Ei=e,Eo=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Ei===null)throw Error(O(308));Yr=e,Ei.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var wr=null;function Po(e){wr===null?wr=[e]:wr.push(e)}function ch(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Po(t)):(r.next=s.next,s.next=r),t.interleaved=r,It(e,n)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,It(e,r)}return s=n.interleaved,s===null?(t.next=t,Po(n)):(t.next=s.next,s.next=t),n.interleaved=t,It(e,r)}function ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,go(e,r)}}function qu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ti(e,t,r,n){var s=e.updateQueue;zt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,o=i;do{var m=o.lane,v=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,y=o;switch(m=t,v=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(v,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,h,m):x,m==null)break e;h=me({},h,m);break e;case 2:zt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Tr|=a,e.lanes=a,e.memoizedState=h}}function Gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var Ts={},kt=lr(Ts),ds=lr(Ts),hs=lr(Ts);function kr(e){if(e===Ts)throw Error(O(174));return e}function Oo(e,t){switch(le(hs,t),le(ds,e),le(kt,Ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=al(t,e)}ue(kt),le(kt,t)}function hn(){ue(kt),ue(ds),ue(hs)}function hh(e){kr(hs.current);var t=kr(kt.current),r=al(t,e.type);t!==r&&(le(ds,e),le(kt,r))}function Io(e){ds.current===e&&(ue(kt),ue(ds))}var he=lr(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function Ro(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var li=$t.ReactCurrentDispatcher,Ra=$t.ReactCurrentBatchConfig,Er=0,fe=null,ye=null,je=null,Pi=!1,qn=!1,fs=0,tg=0;function Ce(){throw Error(O(321))}function $o(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function Do(e,t,r,n,s,i){if(Er=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?ig:ag,e=r(n,s),qn){i=0;do{if(qn=!1,fs=0,25<=i)throw Error(O(301));i+=1,je=ye=null,t.updateQueue=null,li.current=lg,e=r(n,s)}while(qn)}if(li.current=Ai,t=ye!==null&&ye.next!==null,Er=0,je=ye=fe=null,Pi=!1,t)throw Error(O(300));return e}function Lo(){var e=fs!==0;return fs=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?fe.memoizedState=je=e:je=je.next=e,je}function at(){if(ye===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=je===null?fe.memoizedState:je.next;if(t!==null)je=t,ye=e;else{if(e===null)throw Error(O(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},je===null?fe.memoizedState=je=e:je=je.next=e}return je}function ms(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=at(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,c=i;do{var d=c.lane;if((Er&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,fe.lanes|=d,Tr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=o,gt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,fe.lanes|=i,Tr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Da(e){var t=at(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);gt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function fh(){}function mh(e,t){var r=fe,n=at(),s=t(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,Mo(vh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,ps(9,gh.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(O(349));Er&30||ph(r,t,s)}return s}function ph(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gh(e,t,r,n){t.value=r,t.getSnapshot=n,xh(t)&&yh(e)}function vh(e,t,r){return r(function(){xh(t)&&yh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function yh(e){var t=It(e,1);t!==null&&pt(t,e,1,-1)}function Qu(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=sg.bind(null,fe,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wh(){return at().memoizedState}function oi(e,t,r,n){var s=xt();fe.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Qi(e,t,r,n){var s=at();n=n===void 0?null:n;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,n!==null&&$o(n,a.deps)){s.memoizedState=ps(t,r,i,n);return}}fe.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function Ju(e,t){return oi(8390656,8,e,t)}function Mo(e,t){return Qi(2048,8,e,t)}function kh(e,t){return Qi(4,2,e,t)}function bh(e,t){return Qi(4,4,e,t)}function jh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,r){return r=r!=null?r.concat([e]):null,Qi(4,4,jh.bind(null,t,e),r)}function Uo(){}function Sh(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$o(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nh(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$o(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Eh(e,t,r){return Er&21?(gt(r,t)||(r=Od(),fe.lanes|=r,Tr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function rg(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var n=Ra.transition;Ra.transition={};try{e(!1),t()}finally{re=r,Ra.transition=n}}function Th(){return at().memoizedState}function ng(e,t,r){var n=er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ch(e))Ph(t,r);else if(r=ch(e,t,r,n),r!==null){var s=$e();pt(r,e,n,s),Ah(r,t,n)}}function sg(e,t,r){var n=er(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ch(e))Ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,gt(o,a)){var u=t.interleaved;u===null?(s.next=s,Po(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=ch(e,t,s,n),r!==null&&(s=$e(),pt(r,e,n,s),Ah(r,t,n))}}function Ch(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ph(e,t){qn=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ah(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,go(e,r)}}var Ai={readContext:it,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},ig={readContext:it,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Ju,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,oi(4194308,4,jh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return oi(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ng.bind(null,fe,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Qu,useDebugValue:Uo,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Qu(!1),t=e[0];return e=rg.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fe,s=xt();if(de){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),_e===null)throw Error(O(349));Er&30||ph(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ju(vh.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,gh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=_e.identifierPrefix;if(de){var r=Ct,n=Tt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ag={readContext:it,useCallback:Sh,useContext:it,useEffect:Mo,useImperativeHandle:_h,useInsertionEffect:kh,useLayoutEffect:bh,useMemo:Nh,useReducer:$a,useRef:wh,useState:function(){return $a(ms)},useDebugValue:Uo,useDeferredValue:function(e){var t=at();return Eh(t,ye.memoizedState,e)},useTransition:function(){var e=$a(ms)[0],t=at().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:mh,useId:Th,unstable_isNewReconciler:!1},lg={readContext:it,useCallback:Sh,useContext:it,useEffect:Mo,useImperativeHandle:_h,useInsertionEffect:kh,useLayoutEffect:bh,useMemo:Nh,useReducer:Da,useRef:wh,useState:function(){return Da(ms)},useDebugValue:Uo,useDeferredValue:function(e){var t=at();return ye===null?t.memoizedState=e:Eh(t,ye.memoizedState,e)},useTransition:function(){var e=Da(ms)[0],t=at().memoizedState;return[e,t]},useMutableSource:fh,useSyncExternalStore:mh,useId:Th,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function El(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ji={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$e(),s=er(e),i=Pt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(pt(t,e,s,n),ai(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$e(),s=er(e),i=Pt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(pt(t,e,s,n),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$e(),n=er(e),s=Pt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(pt(t,e,n,r),ai(t,e,n))}};function Xu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,i):!0}function Oh(e,t,r){var n=!1,s=sr,i=t.contextType;return typeof i=="object"&&i!==null?i=it(i):(s=Ve(t)?Sr:Ie.current,n=t.contextTypes,i=(n=n!=null)?un(e,s):sr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ji,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ji.enqueueReplaceState(t,t.state,null)}function Tl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ao(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=it(i):(i=Ve(t)?Sr:Ie.current,s.context=un(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(El(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ji.enqueueReplaceState(s,s.state,null),Ti(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var r="",n=t;do r+=$m(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function La(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var og=typeof WeakMap=="function"?WeakMap:Map;function Ih(e,t,r){r=Pt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ii||(Ii=!0,Ul=n),Cl(e,t)},r}function Rh(e,t,r){r=Pt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cl(e,t),typeof n!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Zu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new og;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bg.bind(null,e,t,r),t.then(e,e))}function ec(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var ug=$t.ReactCurrentOwner,ze=!1;function Re(e,t,r,n){t.child=e===null?uh(t,null,r,n):dn(t,e.child,r,n)}function rc(e,t,r,n,s){r=r.render;var i=t.ref;return an(t,s),n=Do(e,t,r,n,i,s),r=Lo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(de&&r&&_o(t),t.flags|=1,Re(e,t,n,s),t.child)}function nc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!qo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,$h(e,t,i,n,s)):(e=hi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(a,n)&&e.ref===t.ref)return Rt(e,t,s)}return t.flags|=1,e=tr(i,n),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ls(i,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Rt(e,t,s)}return Pl(e,t,r,n,s)}function Dh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(en,qe),qe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(en,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(en,qe),qe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,le(en,qe),qe|=n;return Re(e,t,s,r),t.child}function Lh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,r,n,s){var i=Ve(r)?Sr:Ie.current;return i=un(t,i),an(t,s),r=Do(e,t,r,n,i,s),n=Lo(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(de&&n&&_o(t),t.flags|=1,Re(e,t,r,s),t.child)}function sc(e,t,r,n,s){if(Ve(r)){var i=!0;ji(t)}else i=!1;if(an(t,s),t.stateNode===null)ui(e,t),Oh(t,r,n),Tl(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=it(c):(c=Ve(r)?Sr:Ie.current,c=un(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Yu(t,a,n,c),zt=!1;var m=t.memoizedState;a.state=m,Ti(t,n,a,s),u=t.memoizedState,o!==n||m!==u||Fe.current||zt?(typeof d=="function"&&(El(t,r,d,n),u=t.memoizedState),(o=zt||Xu(t,r,o,n,m,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,dh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ct(t.type,o),a.props=c,h=t.pendingProps,m=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=it(u):(u=Ve(r)?Sr:Ie.current,u=un(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||m!==u)&&Yu(t,a,n,u),zt=!1,m=t.memoizedState,a.state=m,Ti(t,n,a,s);var x=t.memoizedState;o!==h||m!==x||Fe.current||zt?(typeof v=="function"&&(El(t,r,v,n),x=t.memoizedState),(c=zt||Xu(t,r,c,n,m,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Al(e,t,r,n,i,s)}function Al(e,t,r,n,s,i){Lh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Vu(t,r,!1),Rt(e,t,i);n=t.stateNode,ug.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,o,i)):Re(e,t,o,i),t.memoizedState=n.state,s&&Vu(t,r,!0),t.child}function Mh(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),Oo(e,t.containerInfo)}function ic(e,t,r,n,s){return cn(),No(s),t.flags|=256,Re(e,t,r,n),t.child}var Ol={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var n=t.pendingProps,s=he.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(he,s&1),e===null)return Sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Zi(a,n,0,null),e=jr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Il(r),t.memoizedState=Ol,e):Bo(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return cg(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=tr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=tr(o,i):(i=jr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Il(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ol,n}return i=e.child,e=i.sibling,n=tr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bo(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,r,n){return n!==null&&No(n),dn(t,e.child,null,r),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=La(Error(O(422))),qs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Zi({mode:"visible",children:n.children},s,0,null),i=jr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&dn(t,e.child,null,a),t.child.memoizedState=Il(a),t.memoizedState=Ol,i);if(!(t.mode&1))return qs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(O(419)),n=La(i,n,void 0),qs(e,t,a,n)}if(o=(a&e.childLanes)!==0,ze||o){if(n=_e,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(e,s),pt(n,e,s,-1))}return Ko(),n=La(Error(O(421))),qs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=Xt(s.nextSibling),Je=t,de=!0,ft=null,e!==null&&(et[tt++]=Tt,et[tt++]=Ct,et[tt++]=Nr,Tt=e.id,Ct=e.overflow,Nr=t),t=Bo(t,n.children),t.flags|=4096,t)}function ac(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nl(e.return,t,r)}function Ma(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Bh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Re(e,t,n.children,r),n=he.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ac(e,r,t);else if(e.tag===19)ac(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(le(he,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ma(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ma(t,!0,r,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dg(e,t,r){switch(t.tag){case 3:Mh(t),cn();break;case 5:hh(t);break;case 1:Ve(t.type)&&ji(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;le(Ni,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(le(he,he.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(le(he,he.current&1),e=Rt(e,t,r),e!==null?e.sibling:null);le(he,he.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Bh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(he,he.current),n)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,r)}return Rt(e,t,r)}var zh,Rl,Fh,Vh;zh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rl=function(){};Fh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,kr(kt.current);var i=null;switch(r){case"input":s=rl(e,s),n=rl(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=il(e,s),n=il(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ki)}ll(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(es.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(es.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&oe("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Vh=function(e,t,r,n){r!==n&&(t.flags|=4)};function In(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hg(e,t,r){var n=t.pendingProps;switch(So(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ve(t.type)&&bi(),Pe(t),null;case 3:return n=t.stateNode,hn(),ue(Fe),ue(Ie),Ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Fl(ft),ft=null))),Rl(e,t),Pe(t),null;case 5:Io(t);var s=kr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)Fh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Pe(t),null}if(e=kr(kt.current),Ws(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[yt]=t,n[cs]=i,e=(t.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)oe(Un[s],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":pu(n,i),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},oe("invalid",n);break;case"textarea":vu(n,i),oe("invalid",n)}ll(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Hs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Hs(n.textContent,o,e),s=["children",""+o]):es.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&oe("scroll",n)}switch(r){case"input":Ds(n),gu(n,i,!0);break;case"textarea":Ds(n),xu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ki)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[yt]=t,e[cs]=n,zh(e,t,!1,!1),t.stateNode=e;e:{switch(a=ol(r,n),r){case"dialog":oe("cancel",e),oe("close",e),s=n;break;case"iframe":case"object":case"embed":oe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)oe(Un[s],e);s=n;break;case"source":oe("error",e),s=n;break;case"img":case"image":case"link":oe("error",e),oe("load",e),s=n;break;case"details":oe("toggle",e),s=n;break;case"input":pu(e,n),s=rl(e,n),oe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),oe("invalid",e);break;case"textarea":vu(e,n),s=il(e,n),oe("invalid",e);break;default:s=n}ll(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?wd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ts(e,u):typeof u=="number"&&ts(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?u!=null&&i==="onScroll"&&oe("scroll",e):u!=null&&uo(e,i,u,a))}switch(r){case"input":Ds(e),gu(e,n,!1);break;case"textarea":Ds(e),xu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?tn(e,!!n.multiple,i,!1):n.defaultValue!=null&&tn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Vh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=kr(hs.current),kr(kt.current),Ws(t)){if(n=t.stateNode,r=t.memoizedProps,n[yt]=t,(i=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:Hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yt]=t,t.stateNode=n}return Pe(t),null;case 13:if(ue(he),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Qe!==null&&t.mode&1&&!(t.flags&128))lh(),cn(),t.flags|=98560,i=!1;else if(i=Ws(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[yt]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else ft!==null&&(Fl(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?we===0&&(we=3):Ko())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return hn(),Rl(e,t),e===null&&os(t.stateNode.containerInfo),Pe(t),null;case 10:return Co(t.type._context),Pe(t),null;case 17:return Ve(t.type)&&bi(),Pe(t),null;case 19:if(ue(he),i=t.memoizedState,i===null)return Pe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)In(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ci(e),a!==null){for(t.flags|=128,In(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>mn&&(t.flags|=128,n=!0,In(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),In(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!de)return Pe(t),null}else 2*ve()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,In(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,r=he.current,le(he,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return Wo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qe&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function fg(e,t){switch(So(t),t.tag){case 1:return Ve(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),ue(Fe),ue(Ie),Ro(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Io(t),null;case 13:if(ue(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(he),null;case 4:return hn(),null;case 10:return Co(t.type._context),null;case 22:case 23:return Wo(),null;case 24:return null;default:return null}}var Gs=!1,Oe=!1,mg=typeof WeakSet=="function"?WeakSet:Set,M=null;function Zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pe(e,t,n)}else r.current=null}function $l(e,t,r){try{r()}catch(n){pe(e,t,n)}}var lc=!1;function pg(e,t){if(xl=xi,e=Gd(),jo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===r&&++c===s&&(o=a),m===i&&++d===n&&(u=a),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(yl={focusedElem:e,selectionRange:r},xi=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ct(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){pe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return x=lc,lc=!1,x}function Gn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$l(t,r,i)}s=s.next}while(s!==n)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[cs],delete t[bl],delete t[Xp],delete t[Yp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ki));else if(n!==4&&(e=e.child,e!==null))for(Ll(e,t,r),e=e.sibling;e!==null;)Ll(e,t,r),e=e.sibling}function Ml(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ml(e,t,r),e=e.sibling;e!==null;)Ml(e,t,r),e=e.sibling}var Ne=null,dt=!1;function Lt(e,t,r){for(r=r.child;r!==null;)Kh(e,t,r),r=r.sibling}function Kh(e,t,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:Oe||Zr(r,t);case 6:var n=Ne,s=dt;Ne=null,Lt(e,t,r),Ne=n,dt=s,Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?Aa(e.parentNode,r):e.nodeType===1&&Aa(e,r),is(e)):Aa(Ne,r.stateNode));break;case 4:n=Ne,s=dt,Ne=r.stateNode.containerInfo,dt=!0,Lt(e,t,r),Ne=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&$l(r,t,a),s=s.next}while(s!==n)}Lt(e,t,r);break;case 1:if(!Oe&&(Zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pe(r,t,o)}Lt(e,t,r);break;case 21:Lt(e,t,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,Lt(e,t,r),Oe=n):Lt(e,t,r);break;default:Lt(e,t,r)}}function uc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mg),t.forEach(function(n){var s=_g.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ne=o.stateNode,dt=!1;break e;case 3:Ne=o.stateNode.containerInfo,dt=!0;break e;case 4:Ne=o.stateNode.containerInfo,dt=!0;break e}o=o.return}if(Ne===null)throw Error(O(160));Kh(i,a,s),Ne=null,dt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){pe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}function qh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),vt(e),n&4){try{Gn(3,e,e.return),Xi(3,e)}catch(y){pe(e,e.return,y)}try{Gn(5,e,e.return)}catch(y){pe(e,e.return,y)}}break;case 1:ot(t,e),vt(e),n&512&&r!==null&&Zr(r,r.return);break;case 5:if(ot(t,e),vt(e),n&512&&r!==null&&Zr(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(y){pe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&pd(s,i),ol(o,a);var c=ol(o,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?wd(s,h):d==="dangerouslySetInnerHTML"?xd(s,h):d==="children"?ts(s,h):uo(s,d,h,c)}switch(o){case"input":nl(s,i);break;case"textarea":gd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?tn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?tn(s,!!i.multiple,i.defaultValue,!0):tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[cs]=i}catch(y){pe(e,e.return,y)}}break;case 6:if(ot(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){pe(e,e.return,y)}}break;case 3:if(ot(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(y){pe(e,e.return,y)}break;case 4:ot(t,e),vt(e);break;case 13:ot(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vo=ve())),n&4&&uc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(c=Oe)||d,ot(t,e),Oe=c):ot(t,e),vt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(M=e,d=e.child;d!==null;){for(h=M=d;M!==null;){switch(m=M,v=m.child,m.tag){case 0:case 11:case 14:case 15:Gn(4,m,m.return);break;case 1:Zr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){pe(n,r,y)}}break;case 5:Zr(m,m.return);break;case 22:if(m.memoizedState!==null){dc(h);continue}}v!==null?(v.return=m,M=v):dc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=yd("display",a))}catch(y){pe(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){pe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(t,e),vt(e),n&4&&uc(e);break;case 21:break;default:ot(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wh(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=oc(e);Ml(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=oc(e);Ll(e,o,a);break;default:throw Error(O(161))}}catch(u){pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gg(e,t,r){M=e,Gh(e)}function Gh(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Gs;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Oe;o=Gs;var c=Oe;if(Gs=a,(Oe=u)&&!c)for(M=s;M!==null;)a=M,u=a.child,a.tag===22&&a.memoizedState!==null?hc(s):u!==null?(u.return=a,M=u):hc(s);for(;i!==null;)M=i,Gh(i),i=i.sibling;M=s,Gs=o,Oe=c}cc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):cc(e)}}function cc(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Gu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gu(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Oe||t.flags&512&&Dl(t)}catch(m){pe(t,t.return,m)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function dc(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function hc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(u){pe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){pe(t,s,u)}}var i=t.return;try{Dl(t)}catch(u){pe(t,i,u)}break;case 5:var a=t.return;try{Dl(t)}catch(u){pe(t,a,u)}}}catch(u){pe(t,t.return,u)}if(t===e){M=null;break}var o=t.sibling;if(o!==null){o.return=t.return,M=o;break}M=t.return}}var vg=Math.ceil,Oi=$t.ReactCurrentDispatcher,zo=$t.ReactCurrentOwner,nt=$t.ReactCurrentBatchConfig,ee=0,_e=null,xe=null,Ee=0,qe=0,en=lr(0),we=0,gs=null,Tr=0,Yi=0,Fo=0,Qn=null,Ue=null,Vo=0,mn=1/0,_t=null,Ii=!1,Ul=null,Zt=null,Qs=!1,Kt=null,Ri=0,Jn=0,Bl=null,ci=-1,di=0;function $e(){return ee&6?ve():ci!==-1?ci:ci=ve()}function er(e){return e.mode&1?ee&2&&Ee!==0?Ee&-Ee:eg.transition!==null?(di===0&&(di=Od()),di):(e=re,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function pt(e,t,r,n){if(50<Jn)throw Jn=0,Bl=null,Error(O(185));Ss(e,r,n),(!(ee&2)||e!==_e)&&(e===_e&&(!(ee&2)&&(Yi|=r),we===4&&Vt(e,Ee)),He(e,n),r===1&&ee===0&&!(t.mode&1)&&(mn=ve()+500,Gi&&or()))}function He(e,t){var r=e.callbackNode;ep(e,t);var n=vi(e,e===_e?Ee:0);if(n===0)r!==null&&ku(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ku(r),t===1)e.tag===0?Zp(fc.bind(null,e)):sh(fc.bind(null,e)),Qp(function(){!(ee&6)&&or()}),r=null;else{switch(Id(n)){case 1:r=po;break;case 4:r=Pd;break;case 16:r=gi;break;case 536870912:r=Ad;break;default:r=gi}r=rf(r,Qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qh(e,t){if(ci=-1,di=0,ee&6)throw Error(O(327));var r=e.callbackNode;if(ln()&&e.callbackNode!==r)return null;var n=vi(e,e===_e?Ee:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$i(e,n);else{t=n;var s=ee;ee|=2;var i=Xh();(_e!==e||Ee!==t)&&(_t=null,mn=ve()+500,br(e,t));do try{wg();break}catch(o){Jh(e,o)}while(1);To(),Oi.current=i,ee=s,xe!==null?t=0:(_e=null,Ee=0,t=we)}if(t!==0){if(t===2&&(s=fl(e),s!==0&&(n=s,t=zl(e,s))),t===1)throw r=gs,br(e,0),Vt(e,n),He(e,ve()),r;if(t===6)Vt(e,n);else{if(s=e.current.alternate,!(n&30)&&!xg(s)&&(t=$i(e,n),t===2&&(i=fl(e),i!==0&&(n=i,t=zl(e,i))),t===1))throw r=gs,br(e,0),Vt(e,n),He(e,ve()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:pr(e,Ue,_t);break;case 3:if(Vt(e,n),(n&130023424)===n&&(t=Vo+500-ve(),10<t)){if(vi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){$e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kl(pr.bind(null,e,Ue,_t),t);break}pr(e,Ue,_t);break;case 4:if(Vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-mt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vg(n/1960))-n,10<n){e.timeoutHandle=kl(pr.bind(null,e,Ue,_t),n);break}pr(e,Ue,_t);break;case 5:pr(e,Ue,_t);break;default:throw Error(O(329))}}}return He(e,ve()),e.callbackNode===r?Qh.bind(null,e):null}function zl(e,t){var r=Qn;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=$i(e,t),e!==2&&(t=Ue,Ue=r,t!==null&&Fl(t)),e}function Fl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function xg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~Fo,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function fc(e){if(ee&6)throw Error(O(327));ln();var t=vi(e,0);if(!(t&1))return He(e,ve()),null;var r=$i(e,t);if(e.tag!==0&&r===2){var n=fl(e);n!==0&&(t=n,r=zl(e,n))}if(r===1)throw r=gs,br(e,0),Vt(e,t),He(e,ve()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,Ue,_t),He(e,ve()),null}function Ho(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(mn=ve()+500,Gi&&or())}}function Cr(e){Kt!==null&&Kt.tag===0&&!(ee&6)&&ln();var t=ee;ee|=1;var r=nt.transition,n=re;try{if(nt.transition=null,re=1,e)return e()}finally{re=n,nt.transition=r,ee=t,!(ee&6)&&or()}}function Wo(){qe=en.current,ue(en)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Gp(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(So(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bi();break;case 3:hn(),ue(Fe),ue(Ie),Ro();break;case 5:Io(n);break;case 4:hn();break;case 13:ue(he);break;case 19:ue(he);break;case 10:Co(n.type._context);break;case 22:case 23:Wo()}r=r.return}if(_e=e,xe=e=tr(e.current,null),Ee=qe=t,we=0,gs=null,Fo=Yi=Tr=0,Ue=Qn=null,wr!==null){for(t=0;t<wr.length;t++)if(r=wr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}wr=null}return e}function Jh(e,t){do{var r=xe;try{if(To(),li.current=Ai,Pi){for(var n=fe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(Er=0,je=ye=fe=null,qn=!1,fs=0,zo.current=null,r===null||r.return===null){we=1,gs=t,xe=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Ee,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ec(a);if(v!==null){v.flags&=-257,tc(v,a,o,i,t),v.mode&1&&Zu(i,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(u),t.updateQueue=y}else x.add(u);break e}else{if(!(t&1)){Zu(i,c,t),Ko();break e}u=Error(O(426))}}else if(de&&o.mode&1){var w=ec(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tc(w,a,o,i,t),No(fn(u,o));break e}}i=u=fn(u,o),we!==4&&(we=2),Qn===null?Qn=[i]:Qn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ih(i,u,t);qu(i,g);break e;case 1:o=u;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zt===null||!Zt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Rh(i,o,t);qu(i,k);break e}}i=i.return}while(i!==null)}Zh(r)}catch(E){t=E,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(1)}function Xh(){var e=Oi.current;return Oi.current=Ai,e===null?Ai:e}function Ko(){(we===0||we===3||we===2)&&(we=4),_e===null||!(Tr&268435455)&&!(Yi&268435455)||Vt(_e,Ee)}function $i(e,t){var r=ee;ee|=2;var n=Xh();(_e!==e||Ee!==t)&&(_t=null,br(e,t));do try{yg();break}catch(s){Jh(e,s)}while(1);if(To(),ee=r,Oi.current=n,xe!==null)throw Error(O(261));return _e=null,Ee=0,we}function yg(){for(;xe!==null;)Yh(xe)}function wg(){for(;xe!==null&&!Wm();)Yh(xe)}function Yh(e){var t=tf(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Zh(e):xe=t,zo.current=null}function Zh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fg(r,t),r!==null){r.flags&=32767,xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,xe=null;return}}else if(r=hg(r,t,qe),r!==null){xe=r;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);we===0&&(we=5)}function pr(e,t,r){var n=re,s=nt.transition;try{nt.transition=null,re=1,kg(e,t,r,n)}finally{nt.transition=s,re=n}return null}function kg(e,t,r,n){do ln();while(Kt!==null);if(ee&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(tp(e,i),e===_e&&(xe=_e=null,Ee=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qs||(Qs=!0,rf(gi,function(){return ln(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var a=re;re=1;var o=ee;ee|=4,zo.current=null,pg(e,r),qh(r,e),zp(yl),xi=!!xl,yl=xl=null,e.current=r,gg(r),Km(),ee=o,re=a,nt.transition=i}else e.current=r;if(Qs&&(Qs=!1,Kt=e,Ri=s),i=e.pendingLanes,i===0&&(Zt=null),Qm(r.stateNode),He(e,ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ii)throw Ii=!1,e=Ul,Ul=null,e;return Ri&1&&e.tag!==0&&ln(),i=e.pendingLanes,i&1?e===Bl?Jn++:(Jn=0,Bl=e):Jn=0,or(),null}function ln(){if(Kt!==null){var e=Id(Ri),t=nt.transition,r=re;try{if(nt.transition=null,re=16>e?16:e,Kt===null)var n=!1;else{if(e=Kt,Kt=null,Ri=0,ee&6)throw Error(O(331));var s=ee;for(ee|=4,M=e.current;M!==null;){var i=M,a=i.child;if(M.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(M=c;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:Gn(8,d,i)}var h=d.child;if(h!==null)h.return=d,M=h;else for(;M!==null;){d=M;var m=d.sibling,v=d.return;if(Hh(d),d===c){M=null;break}if(m!==null){m.return=v,M=m;break}M=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}M=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,M=a;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var p=e.current;for(M=p;M!==null;){a=M;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,M=f;else e:for(a=p;M!==null;){if(o=M,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xi(9,o)}}catch(E){pe(o,o.return,E)}if(o===a){M=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,M=k;break e}M=o.return}}if(ee=s,or(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Vi,e)}catch{}n=!0}return n}finally{re=r,nt.transition=t}}return!1}function mc(e,t,r){t=fn(r,t),t=Ih(e,t,1),e=Yt(e,t,1),t=$e(),e!==null&&(Ss(e,1,t),He(e,t))}function pe(e,t,r){if(e.tag===3)mc(e,e,r);else for(;t!==null;){if(t.tag===3){mc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zt===null||!Zt.has(n))){e=fn(r,e),e=Rh(t,e,1),t=Yt(t,e,1),e=$e(),t!==null&&(Ss(t,1,e),He(t,e));break}}t=t.return}}function bg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Ee&r)===r&&(we===4||we===3&&(Ee&130023424)===Ee&&500>ve()-Vo?br(e,0):Fo|=r),He(e,t)}function ef(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var r=$e();e=It(e,t),e!==null&&(Ss(e,t,r),He(e,r))}function jg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ef(e,r)}function _g(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),ef(e,r)}var tf;tf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,dg(e,t,r);ze=!!(e.flags&131072)}else ze=!1,de&&t.flags&1048576&&ih(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ui(e,t),e=t.pendingProps;var s=un(t,Ie.current);an(t,r),s=Do(null,t,n,e,s,r);var i=Lo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(n)?(i=!0,ji(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ao(t),s.updater=Ji,t.stateNode=s,s._reactInternals=t,Tl(t,n,e,r),t=Al(null,t,n,!0,i,r)):(t.tag=0,de&&i&&_o(t),Re(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ng(n),e=ct(n,e),s){case 0:t=Pl(null,t,n,e,r);break e;case 1:t=sc(null,t,n,e,r);break e;case 11:t=rc(null,t,n,e,r);break e;case 14:t=nc(null,t,n,ct(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),Pl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),sc(e,t,n,s,r);case 3:e:{if(Mh(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,s=i.element,dh(e,t),Ti(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fn(Error(O(423)),t),t=ic(e,t,n,r,s);break e}else if(n!==s){s=fn(Error(O(424)),t),t=ic(e,t,n,r,s);break e}else for(Qe=Xt(t.stateNode.containerInfo.firstChild),Je=t,de=!0,ft=null,r=uh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){t=Rt(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return hh(t),e===null&&Sl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,wl(n,s)?a=null:i!==null&&wl(n,i)&&(t.flags|=32),Lh(e,t),Re(e,t,a,r),t.child;case 6:return e===null&&Sl(t),null;case 13:return Uh(e,t,r);case 4:return Oo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),rc(e,t,n,s,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,le(Ni,n._currentValue),n._currentValue=a,i!==null)if(gt(i.value,a)){if(i.children===s.children&&!Fe.current){t=Rt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Pt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Nl(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Nl(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Re(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,an(t,r),s=it(s),n=n(s),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,s=ct(n,t.pendingProps),s=ct(n.type,s),nc(e,t,n,s,r);case 15:return $h(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),ui(e,t),t.tag=1,Ve(n)?(e=!0,ji(t)):e=!1,an(t,r),Oh(t,n,s),Tl(t,n,s,r),Al(null,t,n,!0,e,r);case 19:return Bh(e,t,r);case 22:return Dh(e,t,r)}throw Error(O(156,t.tag))};function rf(e,t){return Cd(e,t)}function Sg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,r,n){return new Sg(e,t,r,n)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ng(e){if(typeof e=="function")return qo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ho)return 11;if(e===fo)return 14}return 2}function tr(e,t){var r=e.alternate;return r===null?(r=rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")qo(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hr:return jr(r.children,s,i,t);case co:a=8,s|=8;break;case Ya:return e=rt(12,r,t,s|2),e.elementType=Ya,e.lanes=i,e;case Za:return e=rt(13,r,t,s),e.elementType=Za,e.lanes=i,e;case el:return e=rt(19,r,t,s),e.elementType=el,e.lanes=i,e;case hd:return Zi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cd:a=10;break e;case dd:a=9;break e;case ho:a=11;break e;case fo:a=14;break e;case Bt:a=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=rt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function jr(e,t,r,n){return e=rt(7,e,n,t),e.lanes=r,e}function Zi(e,t,r,n){return e=rt(22,e,n,t),e.elementType=hd,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=rt(6,e,null,t),e.lanes=r,e}function Ba(e,t,r){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Go(e,t,r,n,s,i,a,o,u){return e=new Eg(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(i),e}function Tg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nf(e){if(!e)return sr;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Ve(r))return nh(e,r,t)}return t}function sf(e,t,r,n,s,i,a,o,u){return e=Go(r,n,!0,e,s,i,a,o,u),e.context=nf(null),r=e.current,n=$e(),s=er(r),i=Pt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,Ss(e,s,n),He(e,n),e}function ea(e,t,r,n){var s=t.current,i=$e(),a=er(s);return r=nf(r),t.context===null?t.context=r:t.pendingContext=r,t=Pt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,a),e!==null&&(pt(e,s,a,i),ai(e,s,a)),a}function Di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qo(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function Cg(){return null}var af=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jo(e){this._internalRoot=e}ta.prototype.render=Jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ea(e,t,null,null)};ta.prototype.unmount=Jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){ea(null,e,null,null)}),t[Ot]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ft.length&&t!==0&&t<Ft[r].priority;r++);Ft.splice(r,0,e),r===0&&Md(e)}};function Xo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function Pg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Di(a);i.call(c)}}var a=sf(t,n,e,0,null,!1,!1,"",gc);return e._reactRootContainer=a,e[Ot]=a.current,os(e.nodeType===8?e.parentNode:e),Cr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Di(u);o.call(c)}}var u=Go(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=u,e[Ot]=u.current,os(e.nodeType===8?e.parentNode:e),Cr(function(){ea(t,u,r,n)}),u}function na(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=Di(a);o.call(u)}}ea(t,a,e,s)}else a=Pg(r,t,e,s,n);return Di(a)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mn(t.pendingLanes);r!==0&&(go(t,r|1),He(t,ve()),!(ee&6)&&(mn=ve()+500,or()))}break;case 13:Cr(function(){var n=It(e,1);if(n!==null){var s=$e();pt(n,e,1,s)}}),Qo(e,1)}};vo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=$e();pt(t,e,134217728,r)}Qo(e,134217728)}};$d=function(e){if(e.tag===13){var t=er(e),r=It(e,t);if(r!==null){var n=$e();pt(r,e,t,n)}Qo(e,t)}};Dd=function(){return re};Ld=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};cl=function(e,t,r){switch(t){case"input":if(nl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=qi(n);if(!s)throw Error(O(90));md(n),nl(n,s)}}}break;case"textarea":gd(e,r);break;case"select":t=r.value,t!=null&&tn(e,!!r.multiple,t,!1)}};jd=Ho;_d=Cr;var Ag={usingClientEntryPoint:!1,Events:[Es,Gr,qi,kd,bd,Ho]},Rn={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Og={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ed(e),e===null?null:e.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||Cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Vi=Js.inject(Og),wt=Js}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Ye.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xo(t))throw Error(O(200));return Tg(e,t,null,r)};Ye.createRoot=function(e,t){if(!Xo(e))throw Error(O(299));var r=!1,n="",s=af;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Go(e,1,!1,null,null,r,!1,n,s),e[Ot]=t.current,os(e.nodeType===8?e.parentNode:e),new Jo(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Ed(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Cr(e)};Ye.hydrate=function(e,t,r){if(!ra(t))throw Error(O(200));return na(null,e,t,!0,r)};Ye.hydrateRoot=function(e,t,r){if(!Xo(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=af;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=sf(t,null,e,1,r??null,s,!1,i,a),e[Ot]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ta(t)};Ye.render=function(e,t,r){if(!ra(t))throw Error(O(200));return na(null,e,t,!1,r)};Ye.unmountComponentAtNode=function(e){if(!ra(e))throw Error(O(40));return e._reactRootContainer?(Cr(function(){na(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Ye.unstable_batchedUpdates=Ho;Ye.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ra(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return na(e,t,r,!1,n)};Ye.version="18.3.1-next-f1338f8080-20240426";function lf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lf)}catch(e){console.error(e)}}lf(),ad.exports=Ye;var Ig=ad.exports,vc=Ig;Ja.createRoot=vc.createRoot,Ja.hydrateRoot=vc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const xc="popstate";function Rg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Vl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:uf(s)}return Dg(t,r,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function of(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $g(){return Math.random().toString(36).substr(2,8)}function yc(e,t){return{usr:e.state,key:e.key,idx:t}}function Vl(e,t,r,n){return r===void 0&&(r=null),vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kn(t):t,{state:r,key:t&&t.key||n||$g()})}function uf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Dg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=qt.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(vs({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=qt.Pop;let w=d(),g=w==null?null:w-c;c=w,u&&u({action:o,location:y.location,delta:g})}function m(w,g){o=qt.Push;let p=Vl(y.location,w,g);r&&r(p,w),c=d()+1;let f=yc(p,c),k=y.createHref(p);try{a.pushState(f,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&u&&u({action:o,location:y.location,delta:1})}function v(w,g){o=qt.Replace;let p=Vl(y.location,w,g);r&&r(p,w),c=d();let f=yc(p,c),k=y.createHref(p);a.replaceState(f,"",k),i&&u&&u({action:o,location:y.location,delta:0})}function x(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:uf(w);return p=p.replace(/ $/,"%20"),ke(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return o},get location(){return e(s,a)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(xc,h),u=w,()=>{s.removeEventListener(xc,h),u=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let g=x(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(w){return a.go(w)}};return y}var wc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wc||(wc={}));function Lg(e,t,r){return r===void 0&&(r="/"),Mg(e,t,r,!1)}function Mg(e,t,r,n){let s=typeof t=="string"?kn(t):t,i=hf(s.pathname||"/",r);if(i==null)return null;let a=cf(e);Ug(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=Jg(i);o=Gg(a[u],c,n)}return o}function cf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=_r([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cf(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Kg(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of df(i.path))s(i,a,u)}),t}function df(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=df(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ug(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bg=/^:[\w-]+$/,zg=3,Fg=2,Vg=1,Hg=10,Wg=-2,kc=e=>e==="*";function Kg(e,t){let r=e.split("/"),n=r.length;return r.some(kc)&&(n+=Wg),t&&(n+=Fg),r.filter(s=>!kc(s)).reduce((s,i)=>s+(Bg.test(i)?zg:i===""?Vg:Hg),n)}function qg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Gg(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=bc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=bc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:_r([i,h.pathname]),pathnameBase:r0(_r([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=_r([i,h.pathnameBase]))}return a}function bc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Qg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let y=o[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[h];return v&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function Qg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),of(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Jg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return of(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?kn(e):e;return{pathname:r?r.startsWith("/")?r:Yg(r,t):t,search:n0(n),hash:s0(s)}}function Yg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function za(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function e0(e,t){let r=Zg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function t0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=kn(e):(s=vs({},e),ke(!s.pathname||!s.pathname.includes("?"),za("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),za("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),za("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let u=Xg(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const _r=e=>e.join("/").replace(/\/\/+/g,"/"),r0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ff=["post","put","patch","delete"];new Set(ff);const a0=["get",...ff];new Set(a0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}const Yo=S.createContext(null),l0=S.createContext(null),sa=S.createContext(null),ia=S.createContext(null),bn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),mf=S.createContext(null);function aa(){return S.useContext(ia)!=null}function Cs(){return aa()||ke(!1),S.useContext(ia).location}function pf(e){S.useContext(sa).static||S.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=S.useContext(bn);return e?w0():o0()}function o0(){aa()||ke(!1);let e=S.useContext(Yo),{basename:t,future:r,navigator:n}=S.useContext(sa),{matches:s}=S.useContext(bn),{pathname:i}=Cs(),a=JSON.stringify(e0(s,r.v7_relativeSplatPath)),o=S.useRef(!1);return pf(()=>{o.current=!0}),S.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=t0(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_r([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function u0(e,t){return c0(e,t)}function c0(e,t,r,n){aa()||ke(!1);let{navigator:s}=S.useContext(sa),{matches:i}=S.useContext(bn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Cs(),d;if(t){var h;let w=typeof t=="string"?kn(t):t;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||ke(!1),d=w}else d=c;let m=d.pathname||"/",v=m;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=Lg(e,{pathname:v}),y=p0(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:_r([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:_r([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&y?S.createElement(ia.Provider,{value:{location:xs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qt.Pop}},y):y}function d0(){let e=y0(),t=i0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:s},r):null,i)}const h0=S.createElement(d0,null);class f0 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(bn.Provider,{value:this.props.routeContext},S.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m0(e){let{routeContext:t,match:r,children:n}=e,s=S.useContext(Yo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(bn.Provider,{value:t},n)}function p0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ke(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:v}=r,x=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let v,x=!1,y=null,w=null;r&&(v=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||h0,u&&(c<0&&m===0?(k0("route-fallback",!1),x=!0,w=null):c===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,m+1)),p=()=>{let f;return v?f=y:x?f=w:h.route.Component?f=S.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,S.createElement(m0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?S.createElement(f0,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gf||{}),Li=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Li||{});function g0(e){let t=S.useContext(Yo);return t||ke(!1),t}function v0(e){let t=S.useContext(l0);return t||ke(!1),t}function x0(e){let t=S.useContext(bn);return t||ke(!1),t}function vf(e){let t=x0(),r=t.matches[t.matches.length-1];return r.route.id||ke(!1),r.route.id}function y0(){var e;let t=S.useContext(mf),r=v0(Li.UseRouteError),n=vf(Li.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function w0(){let{router:e}=g0(gf.UseNavigateStable),t=vf(Li.UseNavigateStable),r=S.useRef(!1);return pf(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,xs({fromRouteId:t},i)))},[e,t])}const jc={};function k0(e,t,r){!t&&!jc[e]&&(jc[e]=!0)}function b0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function gr(e){ke(!1)}function j0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qt.Pop,navigator:i,static:a=!1,future:o}=e;aa()&&ke(!1);let u=t.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:u,navigator:i,static:a,future:xs({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=kn(n));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:x="default"}=n,y=S.useMemo(()=>{let w=hf(d,u);return w==null?null:{location:{pathname:w,search:h,hash:m,state:v,key:x},navigationType:s}},[u,d,h,m,v,x,s]);return y==null?null:S.createElement(sa.Provider,{value:c},S.createElement(ia.Provider,{children:r,value:y}))}function _0(e){let{children:t,location:r}=e;return u0(Hl(t),r)}new Promise(()=>{});function Hl(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,s)=>{if(!S.isValidElement(n))return;let i=[...t,s];if(n.type===S.Fragment){r.push.apply(r,Hl(n.props.children,i));return}n.type!==gr&&ke(!1),!n.props.index||!n.props.children||ke(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Hl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const S0="6";try{window.__reactRouterVersion=S0}catch{}const N0="startTransition",_c=bm[N0];function E0(e){let{basename:t,children:r,future:n,window:s}=e,i=S.useRef();i.current==null&&(i.current=Rg({window:s,v5Compat:!0}));let a=i.current,[o,u]=S.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=S.useCallback(h=>{c&&_c?_c(()=>u(h)):u(h)},[u,c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>b0(n),[n]),S.createElement(j0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var Sc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sc||(Sc={}));var Nc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nc||(Nc={}));const T0="modulepreload",C0=function(e){return"/"+e},Ec={},Ps=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=C0(i),i in Ec)return;Ec[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":T0,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(()=>Promise.resolve().then(()=>jn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Zo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class A0 extends Zo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tc extends Zo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cc extends Zo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wl||(Wl={}));var O0=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class I0{constructor(t,{headers:r={},customFetch:n,region:s=Wl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=P0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return O0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(y=>{throw new A0(y)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Tc(h);if(!h.ok)throw new Cc(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield h.json():v==="application/octet-stream"?x=yield h.blob():v==="text/event-stream"?x=h:v==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Cc||s instanceof Tc?s.context:void 0}}})}}var Be={},eu={},la={},As={},oa={},ua={},R0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pn=R0();const $0=pn.fetch,xf=pn.fetch.bind(pn),yf=pn.Headers,D0=pn.Request,L0=pn.Response,jn=Object.freeze(Object.defineProperty({__proto__:null,Headers:yf,Request:D0,Response:L0,default:xf,fetch:$0},Symbol.toStringTag,{value:"Module"})),M0=am(jn);var ca={};Object.defineProperty(ca,"__esModule",{value:!0});let U0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ca.default=U0;var wf=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const B0=wf(M0),z0=wf(ca);let F0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=B0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u;let c=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,v="OK")}catch{i.status===404&&y===""?(m=204,v="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&this.shouldThrowOnError)throw new z0.default(c)}return{error:c,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ua.default=F0;var V0=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oa,"__esModule",{value:!0});const H0=V0(ua);let W0=class extends H0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oa.default=W0;var K0=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(As,"__esModule",{value:!0});const q0=K0(oa);let G0=class extends q0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};As.default=G0;var Q0=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const $n=Q0(As);let J0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new $n.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new $n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new $n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};la.default=J0;var da={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.version=void 0;ha.version="0.0.0-automated";Object.defineProperty(da,"__esModule",{value:!0});da.DEFAULT_HEADERS=void 0;const X0=ha;da.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${X0.version}`};var kf=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eu,"__esModule",{value:!0});const Y0=kf(la),Z0=kf(As),ev=da;let tv=class bf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ev.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Y0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Z0.default({method:a,url:o,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};eu.default=tv;var _n=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const jf=_n(eu);Be.PostgrestClient=jf.default;const _f=_n(la);Be.PostgrestQueryBuilder=_f.default;const Sf=_n(As);Be.PostgrestFilterBuilder=Sf.default;const Nf=_n(oa);Be.PostgrestTransformBuilder=Nf.default;const Ef=_n(ua);Be.PostgrestBuilder=Ef.default;const Tf=_n(ca);Be.PostgrestError=Tf.default;var rv=Be.default={PostgrestClient:jf.default,PostgrestQueryBuilder:_f.default,PostgrestFilterBuilder:Sf.default,PostgrestTransformBuilder:Nf.default,PostgrestBuilder:Ef.default,PostgrestError:Tf.default};const{PostgrestClient:nv,PostgrestQueryBuilder:qy,PostgrestFilterBuilder:Gy,PostgrestTransformBuilder:Qy,PostgrestBuilder:Jy,PostgrestError:Xy}=rv;function sv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const iv=sv(),av="2.11.15",lv=`realtime-js/${av}`,ov="1.0.0",Cf=1e4,uv=1e3;var Xn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xn||(Xn={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var Kl;(function(e){e.websocket="websocket"})(Kl||(Kl={}));var xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xr||(xr={}));class cv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class Pf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Pc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=dv(a,e,t,s),i),{})},dv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Af(i,a):ql(a)},Af=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pv(t,r)}switch(e){case ae.bool:return hv(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return fv(t);case ae.json:case ae.jsonb:return mv(t);case ae.timestamp:return gv(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return ql(t);default:return ql(t)}},ql=e=>e,hv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Af(t,o))}return e},gv=e=>typeof e=="string"?e.replace(" ","T"):e,Of=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Fa{constructor(t,r,n={},s=Cf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ac;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ac||(Ac={}));class Yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Yn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const m=d.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),y=h.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(o[c]=x),y.length>0&&(u[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);t[o].unshift(...m)}n(o,d,u)}),this.map(a,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Oc||(Oc={}));var Ic;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ic||(Ic={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class tu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fa(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Yn(this),this.broadcastEndpointURL=Of(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(St.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(St.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(St.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let y=0;y<v;y++){const w=m[y],{filter:{event:g,schema:p,table:f,filter:k}}=w,E=d&&d[y];if(E&&E.event===g&&E.schema===p&&E.table===f&&E.filter===k)x.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(St.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ae.errored,t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Fa(this,ht.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fa(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=ht;if(n&&[o,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,y,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(y=v.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var x,y,w,g,p,f;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const k=v.id,E=(x=v.filter)===null||x===void 0?void 0:x.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:y,table:w,commit_timestamp:g,type:p,errors:f}=x;m=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(x))}v.callback(m,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pc(t.columns,t.old_record)),r}}const Rc=()=>{},vv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rc,this.ref=0,this.logger=Rc,this.conn=null,this.sendBuffer=[],this.serializer=new cv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ps(()=>Promise.resolve().then(()=>jn),void 0).then(({default:u})=>u(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Kl.websocket}`,this.httpEndpoint=Of(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=iv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ov}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xn.connecting:return xr.Connecting;case Xn.open:return xr.Open;case Xn.closing:return xr.Closing;default:return xr.Closed}}isConnected(){return this.connectionState()===xr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:lv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ht.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(uv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ru extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yv extends ru{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gl extends ru{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var wv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const If=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(()=>Promise.resolve().then(()=>jn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kv=()=>wv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ps(()=>Promise.resolve().then(()=>jn),void 0)).Response:Response}),Ql=e=>{if(Array.isArray(e))return e.map(r=>Ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ql(n)}),t},bv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ir=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jv=(e,t,r)=>Ir(void 0,void 0,void 0,function*(){const n=yield kv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new yv(Va(s),i,a))}).catch(s=>{t(new Gl(Va(s),s))}):t(new Gl(Va(e),e))}),_v=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(bv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Os(e,t,r,n,s,i){return Ir(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,_v(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>jv(u,o,n))})})}function Mi(e,t,r,n){return Ir(this,void 0,void 0,function*(){return Os(e,"GET",t,r,n)})}function Nt(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Os(e,"POST",t,n,s,r)})}function Jl(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Os(e,"PUT",t,n,s,r)})}function Sv(e,t,r,n){return Ir(this,void 0,void 0,function*(){return Os(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rf(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Os(e,"DELETE",t,n,s,r)})}var Me=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Nv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ev{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=If(s)}uploadOrUpdate(t,r,n,s){return Me(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},$c),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Jl:Nt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:$c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Jl(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(be(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Nt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new ru("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}update(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}download(t,r){return Me(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Mi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(be(o))return{data:null,error:o};throw o}})}info(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ql(n),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}exists(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Sv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(be(n)&&n instanceof Gl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}list(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Nv),r),{prefix:t||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Tv="2.10.4",Cv={"X-Client-Info":`storage-js/${Tv}`};var $r=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Pv{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Cv),r),this.fetch=If(n)}listBuckets(){return $r(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return $r(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return $r(this,void 0,void 0,function*(){try{return{data:yield Jl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}}class Av extends Pv{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Ev(this.url,this.headers,t,this.fetch)}}const Ov="2.53.0";let Bn="";typeof Deno<"u"?Bn="deno":typeof document<"u"?Bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bn="react-native":Bn="node";const Iv={"X-Client-Info":`supabase-js-${Bn}/${Ov}`},Rv={headers:Iv},$v={schema:"public"},Dv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lv={};var Mv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=xf:t=fetch,(...r)=>t(...r)},Bv=()=>typeof Headers>"u"?yf:Headers,zv=(e,t,r)=>{const n=Uv(r),s=Bv();return(i,a)=>Mv(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Fv=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Vv(e){return e.endsWith("/")?e:e+"/"}function Hv(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:c,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Fv(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const $f="2.71.1",zr=30*1e3,Xl=3,Ha=Xl*zr,Wv="http://localhost:9999",Kv="supabase.auth.token",qv={"X-Client-Info":`gotrue-js/${$f}`},Yl="X-Supabase-Api-Version",Df={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qv=10*60*1e3;class nu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Jv extends nu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xv(e){return W(e)&&e.name==="AuthApiError"}class Lf extends nu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ur extends nu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ut extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yv(e){return W(e)&&e.name==="AuthSessionMissingError"}class Xs extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zv(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dc extends ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zl extends ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Wa(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Lc extends ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class eo extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mc=` 	
\r=`.split(""),ex=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mc.length;t+=1)e[Mc[t].charCodeAt(0)]=-2;for(let t=0;t<Ui.length;t+=1)e[Ui[t].charCodeAt(0)]=t;return e})();function Uc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}}function Mf(e,t,r){const n=ex[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{nx(a,n,r)};for(let a=0;a<e.length;a+=1)Mf(e.charCodeAt(a),s,i);return t.join("")}function tx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}tx(n,t)}}function nx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Mf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ix(e){const t=[];return rx(e,r=>t.push(r)),new Uint8Array(t)}function ax(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Uc(s,r,n)),Uc(null,r,n),t.join("")}function lx(e){return Math.round(Date.now()/1e3)+e}function ox(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},Uf=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};function ux(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Bf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ps(()=>Promise.resolve().then(()=>jn),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function Ka(e){const t=e.split(".");if(t.length!==3)throw new eo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Gv.test(t[n]))throw new eo("JWT not in base64url format");return{header:JSON.parse(Bc(t[0])),payload:JSON.parse(Bc(t[1])),signature:sx(t[2]),raw:{header:t[0],payload:t[1]}}}async function dx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function fx(e){return("0"+e.toString(16)).substr(-2)}function mx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,fx).join("")}async function px(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await px(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=mx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fr(e,`${t}-code-verifier`,s);const i=await gx(n);return[i,n===i?"plain":"s256"]}const vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xx(e){const t=e.headers.get(Yl);if(!t||!t.match(vx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(e){if(!kx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qa(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zc(e){return JSON.parse(JSON.stringify(e))}var bx=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jx=[502,503,504];async function Fc(e){var t;if(!cx(e))throw new Zl(vr(e),0);if(jx.includes(e.status))throw new Zl(vr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Lf(vr(i),i)}let n;const s=xx(e);if(s&&s.getTime()>=Df["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lc(vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Lc(vr(r),e.status,r.weak_password.reasons);throw new Jv(vr(r),e.status||500,n)}const _x=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function G(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Yl]||(i[Yl]=Df["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Sx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Sx(e,t,r,n,s,i){const a=_x(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Zl(vr(u),0)}if(o.ok||await Fc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await Fc(u)}}function jt(e){var t;let r=null;Cx(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Vc(e){const t=jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ht(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nx(e){return{data:e,error:null}}function Ex(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=bx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function Tx(e){return e}function Cx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ga=["global","local","others"];var Px=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Ax{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Bf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ga[0]){if(Ga.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ht})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Px(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ex,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ht})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Tx});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Lr(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ht})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lr(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ht})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lr(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ht})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lr(t.userId);try{const{data:r,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lr(t.userId),Lr(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}function Hc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ox(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&Uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ix extends zf{}async function Rx(e,t,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ix(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ox();const $x={url:Wv,storageKey:Kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wc(e,t,r){return await r()}const Ur={};class ys{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$x),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ax({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bf(s.fetch),this.lock=s.lock||Wc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Rx:this.lock=Wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Uf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hc(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$f}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ux(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ut()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?{error:r}:{error:new Lf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Dr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:x},xform:jt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:jt})}else throw new Ys("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Vc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Vc})}else throw new Ys("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,c,d,h,m,v;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:w,wallet:g,statement:p,options:f}=t;let k;if(ut())if(typeof g=="object")k=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const E=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let b;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")b=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)b=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)x=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),y=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:w,error:g}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ax(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:jt});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Xs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(W(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await fr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jt});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jt}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Xs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Dr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ys("You must provide either an email or phone number.")}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:jt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Dr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Nx})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ut;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ys("You must provide either an email or phone number and a type")}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ha:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await fr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=qa()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ht}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ht})})}catch(r){if(W(r))return Yv(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ut;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Dr(this.storage,this.storageKey));const{data:c,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:Ht});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ka(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(W(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ut;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ut())throw new Zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dc("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!a||!c)throw new Zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;u&&(m=parseInt(u));const v=m-d;v*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(W(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Xv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ox(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ut()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(W(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hx(async s=>(s>0&&await dx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Wa(i)&&Date.now()+a-n<zr})}catch(n){if(this._debug(r,"error",n),W(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await fr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Fr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:qa()}else if(s&&!s.user&&!s.user){const a=await fr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Mt(this.storage,this.storageKey+"-user"),await Fr(this.storage,this.storageKey,s)):s.user=qa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ha;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ha}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Wa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),W(i)){const a={session:null,error:i};return Wa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=zc(s);await Fr(this.storage,this.storageKey,i)}else{const s=zc(r);await Fr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zr}ms, refresh threshold is ${Xl} ticks`),s<=Xl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ka(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Qv>s)return n;const{data:i,error:a}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=Ka(n);r!=null&&r.allowExpired||yx(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=wx(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,ix(`${o}.${u}`)))throw new eo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}ys.nextInstanceID=0;const Dx=ys;class Lx extends Dx{constructor(t){super(t)}}var Mx=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Ux{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Vv(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:$v,realtime:Lv,auth:Object.assign(Object.assign({},Dv),{storageKey:c}),global:Rv},h=Hv(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=zv(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new nv(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Av(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new I0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Mx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lx({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bx=(e,t,r)=>new Ux(e,t,r);function zx(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ff="https://dfovfdluhrdmrhtubomt.supabase.co",zn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmb3ZmZGx1aHJkbXJodHVib210Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4Mjk5NDEsImV4cCI6MjA2OTQwNTk0MX0.pHMloRnImKF8MqQjAJgk6NfGV5PkECJq83_j8ZX3m80";console.log("Supabase config:",{url:Ff,hasAnonKey:!!zn,anonKeyPrefix:(zn==null?void 0:zn.substring(0,20))+"..."});const K=Bx(Ff,zn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}}}),Vf=S.createContext(),Fx=(e,t)=>{const r=new Map;return n=>{const s=Date.now(),a=(r.get(n)||[]).filter(o=>s-o<t);return a.length>=e?!1:(a.push(s),r.set(n,a),!0)}},Kc=Fx(3,6e4),We=()=>{const e=S.useContext(Vf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vx=({children:e})=>{const[t,r]=S.useState(null),[n,s]=S.useState(!0),[i,a]=S.useState(null),[o,u]=S.useState(!1),c=S.useRef(null),d=S.useRef(!0),h=S.useCallback(async f=>{if(!d.current)return null;try{const{data:k,error:E}=await K.from("users").select("*").eq("id",f).single();return E&&E.code!=="PGRST116"?(console.warn("Profile fetch error:",E),null):k}catch(k){return console.warn("Profile fetch failed:",k),null}},[]);S.useEffect(()=>{if(o)return;(async()=>{var E,_,b,N;try{if(!d.current)return;const{data:{session:A},error:P}=await K.auth.getSession();if(P){console.warn("Session fetch error:",P);return}if(A!=null&&A.user&&d.current){const $=await h(A.user.id);if(d.current)if($){const V=$.name||((b=A.user.user_metadata)==null?void 0:b.name)||((N=A.user.email)==null?void 0:N.split("@")[0])||A.user.email;console.log("Setting user name from profile during init to:",V),r({...A.user,...$,name:V})}else{console.warn("No profile found during init, using auth data only");const V=((E=A.user.user_metadata)==null?void 0:E.name)||((_=A.user.email)==null?void 0:_.split("@")[0])||A.user.email;console.log("Setting user name during init to:",V),r({...A.user,name:V,email:A.user.email,phone:null,company:null,department:null,role:"USER",site_mode:"B2C"})}}}catch(A){console.warn("Failed to initialize auth:",A),d.current&&a("Authentication initialization failed")}finally{d.current&&(s(!1),u(!0))}})(),c.current&&c.current.unsubscribe();const{data:{subscription:k}}=K.auth.onAuthStateChange(async(E,_)=>{var b,N,A,P,$;if(d.current){console.log("Auth state change:",E,(b=_==null?void 0:_.user)==null?void 0:b.id);try{if(_!=null&&_.user&&d.current){const V=await h(_.user.id);if(d.current)if(V){const C=V.name||((P=_.user.user_metadata)==null?void 0:P.name)||(($=_.user.email)==null?void 0:$.split("@")[0])||_.user.email;console.log("Setting user name from profile to:",C),r({..._.user,...V,name:C})}else{console.warn("No profile found during auth change, using auth data only");const C=((N=_.user.user_metadata)==null?void 0:N.name)||((A=_.user.email)==null?void 0:A.split("@")[0])||_.user.email;console.log("Setting user name to:",C),r({..._.user,name:C,email:_.user.email,phone:null,company:null,department:null,role:"USER",site_mode:"B2C"})}}else d.current&&r(null)}catch(V){console.warn("Auth state change error:",V)}finally{d.current&&s(!1)}}});return c.current=k,()=>{c.current&&(c.current.unsubscribe(),c.current=null)}},[o,h]),S.useEffect(()=>()=>{c.current&&c.current.unsubscribe()},[]);const p={user:t,loading:n,error:i,isAuthenticated:!!t,login:async(f,k)=>{var E,_,b;try{const N=`login_${f}`;if(!Kc(N)){const $="For mange login-forsg. Prv igen om 1 minut.";return a($),{success:!1,error:$}}if(a(null),s(!0),!(f!=null&&f.trim())||!(k!=null&&k.trim()))throw new Error("Email og adgangskode er pkrvet");console.log("useAuth: Attempting Supabase login with:",{email:f.trim(),passwordLength:k==null?void 0:k.length,hasPassword:!!k});const{data:A,error:P}=await K.auth.signInWithPassword({email:f.trim(),password:k});if(console.log("useAuth: Supabase response:",{success:!P,error:P==null?void 0:P.message,errorCode:P==null?void 0:P.code,user:(E=A==null?void 0:A.user)==null?void 0:E.id}),P){let $="Login fejlede";throw P.message.includes("Invalid login credentials")?$="Ugyldig email eller adgangskode":P.message.includes("Email not confirmed")?$="Du skal bekrfte din email fr du kan logge ind. Tjek din indbakke og klik p bekrftelseslinket.":P.message.includes("Too many requests")?$="For mange forsg. Prv igen senere.":$=P.message,new Error($)}if(!d.current)return{success:!1,error:"Component unmounted"};if(A.user){const $=await h(A.user.id);if(d.current){const V=($==null?void 0:$.name)||((_=A.user.user_metadata)==null?void 0:_.name)||((b=A.user.email)==null?void 0:b.split("@")[0])||A.user.email;r({...A.user,...$,name:V}),console.log("Login successful, user state updated.")}}return{success:!0}}catch(N){console.error("Login error:",N);const A=N.message||"Login fejlede";return d.current&&a(A),{success:!1,error:A}}finally{d.current&&s(!1)}},register:async f=>{var k,E,_,b,N,A,P;try{const $=`register_${f.email}`;if(!Kc($)){const D="For mange registrerings-forsg. Prv igen om 1 minut.";return d.current&&a(D),{success:!1,error:D}}if(d.current&&(a(null),s(!0)),!((k=f.email)!=null&&k.trim())||!((E=f.password)!=null&&E.trim())||!((_=f.name)!=null&&_.trim()))throw new Error("Email, adgangskode og navn er pkrvet");const{data:V,error:C}=await K.auth.signUp({email:f.email.trim(),password:f.password,options:{data:{name:(b=f.name)==null?void 0:b.trim(),phone:((N=f.phone)==null?void 0:N.trim())||null,company:((A=f.company)==null?void 0:A.trim())||null,department:((P=f.department)==null?void 0:P.trim())||null,site_mode:f.siteMode||"B2C"}}});if(C){let D="Registrering fejlede";throw C.message.includes("User already registered")?D="Email er allerede registreret":C.message.includes("Password should be")?D="Adgangskoden skal vre mindst 6 tegn":C.message.includes("Invalid email")?D="Ugyldig email adresse":D=C.message,new Error(D)}return d.current?{success:!0,user:V.user}:{success:!1,error:"Component unmounted"}}catch($){console.error("Registration error:",$);const V=$.message||"Registrering fejlede";return d.current&&a(V),{success:!1,error:V}}finally{d.current&&s(!1)}},logout:async()=>{try{if(!d.current)return;a(null),await K.auth.signOut(),d.current&&r(null)}catch(f){console.warn("Logout error:",f),d.current&&a("Logout fejlede")}},updateProfile:async f=>{var k,E,_,b,N;try{if(!d.current||!t)return{success:!1,error:"Ikke logget ind"};if(a(null),!((k=f.name)!=null&&k.trim()))throw new Error("Navn er pkrvet");const{data:A,error:P}=await K.from("users").update({name:(E=f.name)==null?void 0:E.trim(),phone:((_=f.phone)==null?void 0:_.trim())||null,company:((b=f.company)==null?void 0:b.trim())||null,department:((N=f.department)==null?void 0:N.trim())||null,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(P)throw P;if(!d.current)return{success:!1,error:"Component unmounted"};const $={...t,...A};return r($),{success:!0,user:$}}catch(A){console.error("Profile update error:",A);const P=A.message||"Profil opdatering fejlede";return d.current&&a(P),{success:!1,error:P}}},changePassword:async(f,k)=>{try{if(!d.current||!t)return{success:!1,error:"Ikke logget ind"};if(a(null),!(f!=null&&f.trim())||!(k!=null&&k.trim()))throw new Error("Bde nuvrende og ny adgangskode er pkrvet");if(k.length<6)throw new Error("Ny adgangskode skal vre mindst 6 tegn");const{error:E}=await K.auth.signInWithPassword({email:t.email,password:f});if(E)throw E.message.includes("Invalid login credentials")?new Error("Nuvrende adgangskode er forkert"):new Error("Kunne ikke verificere nuvrende adgangskode");const{error:_}=await K.auth.updateUser({password:k});if(_){let b="Adgangskode opdatering fejlede";throw _.message.includes("New password should be different")?b="Ny adgangskode skal vre forskellig fra den nuvrende":_.message.includes("Password should be")?b="Adgangskoden skal vre mindst 6 tegn":b=_.message,new Error(b)}return d.current?{success:!0}:{success:!1,error:"Component unmounted"}}catch(E){console.error("Password change error:",E);const _=E.message||"Adgangskode ndring fejlede";return d.current&&a(_),{success:!1,error:_}}},validateUserSiteMode:f=>t&&t.site_mode&&t.site_mode!==f.toUpperCase()?{shouldRedirect:!0,correctSiteMode:t.site_mode.toLowerCase()}:{shouldRedirect:!1},clearError:()=>a(null)};return l.jsx(Vf.Provider,{value:p,children:e})},Hx=(e,t=[])=>{const[r,n]=S.useState(null),[s,i]=S.useState(!0),[a,o]=S.useState(null),u=S.useRef(!0),c=S.useRef(0),d=S.useCallback(async()=>{var v,x,y,w;if(console.log("useSupabaseQuery: fetchData called, mounted:",u.current),!u.current)return;const m=++c.current;console.log("useSupabaseQuery: Starting request",m);try{console.log("useSupabaseQuery: Setting loading true"),i(!0),o(null),console.log("useSupabaseQuery: Calling queryFn");const g=await e();console.log("useSupabaseQuery: QueryFn returned:",g),m===c.current&&u.current&&(console.log("useSupabaseQuery: Setting data:",g),n(g))}catch(g){if(console.error("Supabase query error:",g),m===c.current&&u.current){let p="Query failed";(v=g.message)!=null&&v.includes("JWT expired")?p="Session udlbet. Log ind igen.":(x=g.message)!=null&&x.includes("permission denied")?p="Adgang ngtet. Tjek dine rettigheder.":(y=g.message)!=null&&y.includes("relation")&&((w=g.message)!=null&&w.includes("does not exist"))?p="Database tabel ikke fundet.":g.message&&(p=g.message),o(p)}}finally{m===c.current&&u.current&&(console.log("useSupabaseQuery: Setting loading to false"),i(!1))}},t);S.useEffect(()=>{u.current&&d()},[d]),S.useEffect(()=>()=>{u.current=!1},[]);const h=S.useCallback(()=>{u.current&&d()},[d]);return{data:r,loading:s,error:a,refetch:h}},Wx=(e="B2B")=>{const[t,r]=S.useState(null),[n,s]=S.useState(!0),[i,a]=S.useState(null);return S.useEffect(()=>{(async()=>{try{s(!0),a(null);const{data:u,error:c}=await K.from("tutors").select(`
            *,
            sessions(*)
          `).eq("is_active",!0).order("created_at",{ascending:!1});if(c)throw c;const d=(u==null?void 0:u.map(h=>({id:h.id,userId:h.user_id,title:h.title||"Unavailable",specialty:h.specialty||"General",experience:h.experience||"",valueProp:h.value_prop||"",img:h.img||`https://placehold.co/100x100/E2E8F0/4A5568?text=${(h.title||"T")[0]}`,basePrice:h.base_price||h.price||0,price:h.price||h.base_price||0,isActive:h.is_active,name:h.title||h.name||"Unavailable",sessions:Array.isArray(h.sessions)?h.sessions:[]})))||[];r(d)}catch(u){a(u.message)}finally{s(!1)}})()},[e]),{data:t||[],loading:n,error:i}},Kx=(e={})=>Hx(async()=>{const{data:{user:t},error:r}=await K.auth.getUser();if(r)throw console.error("User fetch error:",r),new Error("Authentication fejlede");if(!t)return console.warn("No authenticated user found"),[];let n=K.from("bookings").select(`
        *,
        tutor:tutors(*),
        session:sessions(*)
      `).eq("user_id",t.id);if(e.status&&typeof e.status=="string"&&(n=n.eq("status",e.status.toUpperCase())),e.siteMode&&typeof e.siteMode=="string"){const o=["B2B","B2C"].includes(e.siteMode.toUpperCase())?e.siteMode.toUpperCase():null;o&&(n=n.eq("site_mode",o))}const{data:s,error:i}=await n.order("created_at",{ascending:!1});if(i)throw console.error("Bookings fetch error:",i),i;return s?s.map(a=>{try{return{...a,totalPrice:a.total_price||0,bookingDate:a.created_at,tutor:a.tutor||{name:"Unknown",title:"Unknown"},session:a.session||{title:"Unknown Session"}}}catch(o){return console.warn("Error transforming booking data:",o,a),{...a,totalPrice:0,bookingDate:a.created_at,tutor:{name:"Unknown",title:"Unknown"},session:{title:"Unknown Session"}}}}):[]},[JSON.stringify(e)]),qx=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(null),s=S.useRef(!0),i=S.useRef(0);S.useEffect(()=>()=>{s.current=!1},[]);const a=S.useCallback(async u=>{var d,h,m;if(!s.current)return{success:!1,error:"Component unmounted"};const c=Date.now();if(c-i.current<1e3)return{success:!1,error:"For hurtige foresprgsler. Vent venligst."};i.current=c;try{s.current&&(t(!0),n(null));const v=await u();return s.current?{success:!0,data:v}:{success:!1,error:"Component unmounted"}}catch(v){console.error("Mutation error:",v);let x="Operation failed";return(d=v.message)!=null&&d.includes("duplicate key")?x="Data findes allerede":(h=v.message)!=null&&h.includes("permission denied")?x="Adgang ngtet":(m=v.message)!=null&&m.includes("not authenticated")?x="Ikke logget ind":v.message&&(x=v.message),s.current&&n(x),{success:!1,error:x}}finally{s.current&&t(!1)}},[]),o=S.useCallback(()=>{s.current&&n(null)},[]);return{mutate:a,loading:e,error:r,clearError:o}},Gx=()=>{const{mutate:e,loading:t,error:r,clearError:n}=qx();return{createBooking:S.useCallback(async i=>await e(async()=>{var m,v,x,y,w,g;if(!i.tutorId||!i.sessionId)throw new Error("Tutor og session er pkrvet");if(!((m=i.contactName)!=null&&m.trim())||!((v=i.contactEmail)!=null&&v.trim()))throw new Error("Kontakt navn og email er pkrvet");if(!i.selectedDateTime)throw new Error("Vlg venligst en tid for sessionen");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.contactEmail.trim()))throw new Error("Ugyldig email adresse");const{data:{user:o},error:u}=await K.auth.getUser();if(u)throw new Error("Authentication fejlede");if(!o)throw new Error("Ikke logget ind");let c=i.totalPrice||0;!c&&i.participants&&i.basePrice&&(c=i.basePrice*i.participants);const{data:d,error:h}=await K.from("bookings").insert([{user_id:o.id,tutor_id:i.tutorId,session_id:i.sessionId,selected_date_time:i.selectedDateTime,total_price:c,contact_name:i.contactName.trim(),contact_email:i.contactEmail.trim(),contact_phone:((x=i.contactPhone)==null?void 0:x.trim())||"",company:((y=i.company)==null?void 0:y.trim())||"",department:((w=i.department)==null?void 0:w.trim())||"",participants:i.participants||1,format:i.format||"INDIVIDUAL",site_mode:i.siteMode||"B2C",status:"PENDING",notes:((g=i.notes)==null?void 0:g.trim())||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select(`
          *,
          tutor:tutors(*),
          session:sessions(*)
        `).single();if(h)throw console.error("Booking creation error:",h),h;return d}),[e]),loading:t,error:r,clearError:n}};var Qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xx=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:o,...u},c)=>S.createElement("svg",{ref:c,...Qx,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${Jx(e)}`,...u},[...t.map(([d,h])=>S.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var q=Xx;const Hf=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yx=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Wf=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),su=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),qc=q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Zx=q("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),ma=q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),ey=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),iu=q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),to=q("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),gn=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Bi=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ty=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ry=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ny=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sy=q("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ws=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),iy=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ro=q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Kf=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),qf=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ay=q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Zn=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gf=q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Is=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ly=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ks=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),au=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Qf=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zi=q("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),oy=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),bs=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),uy=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jf=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lu=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),cy=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ir=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xf=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dy=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),vn=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hy=({email:e,onBackToLogin:t,siteMode:r="b2c"})=>{const n=r==="b2b";return l.jsxs("div",{className:"max-w-md mx-auto bg-slate-800 rounded-lg p-8 text-center",children:[l.jsx("div",{className:`w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center ${n?"bg-green-600":"bg-blue-600"}`,children:l.jsx(Is,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Tjek din email"}),l.jsx("p",{className:"text-slate-300 mb-2",children:"Vi har sendt en bekrftelsesmail til:"}),l.jsx("p",{className:"text-white font-semibold mb-6 bg-slate-700 px-4 py-2 rounded-lg",children:e}),l.jsx("div",{className:"bg-slate-700 rounded-lg p-4 mb-6 text-left",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Bi,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${n?"text-green-400":"text-blue-400"}`}),l.jsxs("div",{className:"text-sm text-slate-300",children:[l.jsx("p",{className:"font-medium mb-1",children:"Nste skridt:"}),l.jsx("p",{children:"Klik p linket i emailen for at bekrfte din konto og aktivere adgang til platformen."})]})]})}),l.jsxs("div",{className:"text-sm text-slate-400 mb-6",children:[l.jsx("p",{children:"Kan du ikke finde emailen?"}),l.jsx("p",{children:"Tjek din spam-mappe eller prv at oprette kontoen igen."})]}),l.jsxs("button",{onClick:t,className:`w-full ${n?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white font-bold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2`,children:[l.jsx(Yx,{className:"w-4 h-4"}),"Jeg har bekrftet - log mig ind"]}),l.jsx("p",{className:"text-xs text-slate-500 mt-4",children:"Efter du har bekrftet din email, kan du logge ind med dine oplysninger."})]})},fy=(e,t)=>{const r=(t==null?void 0:t.role)==="TUTOR",n=e==="b2b";return r?{primary:"bg-purple-600",primaryHover:"hover:bg-purple-700"}:n?{primary:"bg-green-600",primaryHover:"hover:bg-green-700"}:{primary:"bg-blue-600",primaryHover:"hover:bg-blue-700"}},my=({isOpen:e,onClose:t,initialMode:r="signup",siteMode:n="b2b"})=>{const[s,i]=S.useState(r),[a,o]=S.useState(!1),[u,c]=S.useState(!1),[d,h]=S.useState(""),[m,v]=S.useState({email:"",password:"",name:"",phone:"",company:"",department:""}),[x,y]=S.useState({}),[w,g]=S.useState(!1),{login:p,register:f,error:k,clearError:E,user:_,isAuthenticated:b}=We(),N=fy(n,_),A=n==="b2b";Ge.useEffect(()=>{i(r),console.log("AuthModal: Initialized with mode:",r)},[]),Ge.useEffect(()=>{e||(v({email:"",password:"",name:"",phone:"",company:"",department:""}),y({}),g(!1),s==="email-confirmation"&&i("login"),h(""),E())},[e,E,s]),Ge.useEffect(()=>{console.log("AuthModal: Mode changed to:",s),y({}),c(!1)},[s]),Ge.useEffect(()=>{b&&e&&(console.log("AuthModal: User is authenticated, closing modal."),t())},[b,e,t]);const P=(D,ge)=>{v(ce=>({...ce,[D]:ge})),x[D]&&y(ce=>({...ce,[D]:""})),k&&E()},$=async D=>{var ne,lt,L,te,Z,ie,cr,Sn,Nn,j,T,R,U,F,X,se;D.preventDefault();const ge=D.target,ce=ge.querySelector('input[name="email"]'),Se=ge.querySelector('input[name="password"]'),I=(ce==null?void 0:ce.value)||m.email,B=(Se==null?void 0:Se.value)||m.password,z={...m,email:I,password:B},J={};if(I!=null&&I.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I)||(J.email="Indtast en gyldig email adresse"):J.email="Email er pkrvet",B!=null&&B.trim()?s==="signup"&&B.length<6&&(J.password="Adgangskode skal vre mindst 6 tegn"):J.password="Adgangskode er pkrvet",s==="signup"&&((ne=z.name)!=null&&ne.trim()||(J.name="Navn er pkrvet")),Object.keys(J).length>0){y(J),g(!1);return}g(!0),E();try{let H;if(s==="login"){if(H=await p(I,B),!H.success){console.error("Login failed with error:",H.error),(lt=H.error)!=null&&lt.includes("Invalid login credentials")||(L=H.error)!=null&&L.includes("Ugyldig email eller adgangskode")?y({general:"Forkert email eller adgangskode. Tjek dine oplysninger og prv igen.",email:"",password:""}):(te=H.error)!=null&&te.includes("Email not confirmed")||(Z=H.error)!=null&&Z.includes("ikke bekrftet")?y({general:"Din email er ikke bekrftet endnu. Tjek din indbakke og klik p bekrftelseslinket, s kan du logge ind.",email:"",password:""}):(ie=H.error)!=null&&ie.includes("Too many requests")||(cr=H.error)!=null&&cr.includes("mange forsg")?y({general:"For mange login-forsg. Vent et par minutter og prv igen.",email:"",password:""}):(Sn=H.error)!=null&&Sn.includes("User not found")||(Nn=H.error)!=null&&Nn.includes("ikke fundet")?(y({email:"Denne email er ikke registreret. Vil du oprette en konto?",password:""}),c(!0)):y({general:H.error||"Login fejlede. Prv igen.",email:"",password:""}),g(!1);return}}else{if(H=await f({email:I,password:B,name:z.name,phone:z.phone,company:A?z.company:"",department:A?z.department:"",siteMode:n.toUpperCase()}),H.success){h(I),i("email-confirmation"),g(!1);return}if(!H.success){(j=H.error)!=null&&j.includes("User already registered")||(T=H.error)!=null&&T.includes("allerede registreret")?y({email:"Denne email er allerede registreret. Prv at logge ind i stedet.",general:""}):(R=H.error)!=null&&R.includes("Password should be")||(U=H.error)!=null&&U.includes("Adgangskoden skal")?y({password:"Adgangskoden skal vre mindst 6 tegn lang.",general:""}):(F=H.error)!=null&&F.includes("Invalid email")||(X=H.error)!=null&&X.includes("Ugyldig email")?y({email:"Indtast en gyldig email adresse.",general:""}):(se=H.error)!=null&&se.includes("Signup is disabled")?y({general:"Kontooprettelse er midlertidigt deaktiveret. Kontakt support.",email:""}):y({general:H.error||"Kontooprettelse fejlede. Prv igen.",email:""}),g(!1);return}}H.success&&s==="login"&&console.log("AuthModal: Login successful, waiting for user state to update")}catch(H){console.error("Auth error:",H),y({general:"Der opstod en uventet fejl. Prv igen."}),g(!1)}},V=()=>{i("signup"),c(!1),y({})},C=()=>{console.log("AuthModal: handleBackToLogin called, switching to login mode"),i("login"),h(""),y({}),c(!1)};return e?s==="email-confirmation"?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:t,className:"absolute -top-2 -right-2 z-10 text-slate-400 hover:text-white transition-colors bg-slate-800 rounded-full p-2",children:l.jsx(vn,{className:"w-5 h-5"})}),l.jsx(hy,{email:d,onBackToLogin:C,siteMode:n})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:s==="login"?"Velkommen tilbage":`Kom i gang med AI Rookie${A?" Enterprise":""}`}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(vn,{className:"w-6 h-6"})})]}),l.jsx("p",{className:"text-slate-400 text-sm",children:s==="login"?"Log ind for at fortstte din AI-rejse":A?"F adgang til ekspertviden og workshops der driver resultater":"Start din personlige AI-lring med erfarne tutorer"})]}),l.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[(k||x.general)&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 flex items-start gap-2",children:[l.jsx(Hf,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-red-200 text-sm",children:k||x.general})]}),s==="signup"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fulde navn *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:m.name,onChange:D=>P("name",D.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${x.name?"border border-red-500":""}`,placeholder:"Dit fulde navn"})]}),x.name&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{name:"email",type:"email",value:m.email,onChange:D=>P("email",D.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${x.email?"border border-red-500":""}`,placeholder:"din@email.dk"})]}),x.email&&l.jsxs("div",{className:"mt-1",children:[l.jsx("p",{className:"text-red-400 text-xs",children:x.email}),u&&l.jsx("button",{type:"button",onClick:V,className:`mt-2 text-xs ${A?"text-green-400 hover:text-green-300":"text-blue-400 hover:text-blue-300"} underline`,children:"Ja, opret en konto med denne email"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Adgangskode *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{name:"password",type:a?"text":"password",value:m.password,onChange:D=>P("password",D.target.value),className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-10 text-white focus:ring-2 focus:ring-blue-500 ${x.password?"border border-red-500":""}`,placeholder:s==="signup"?"Mindst 6 tegn":"Din adgangskode"}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:a?l.jsx(Kf,{className:"w-5 h-5"}):l.jsx(qf,{className:"w-5 h-5"})})]}),x.password&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:x.password})]}),s==="signup"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon"}),l.jsx("input",{type:"tel",value:m.phone,onChange:D=>P("phone",D.target.value),className:"w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"+45 12 34 56 78"})]}),A&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed"}),l.jsxs("div",{className:"relative",children:[l.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:m.company,onChange:D=>P("company",D.target.value),className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"Virksomhedens navn"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling"}),l.jsxs("div",{className:"relative",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:m.department,onChange:D=>P("department",D.target.value),className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500",placeholder:"Marketing, Sales, IT, etc."})]})]})]})]}),l.jsx("button",{type:"submit",disabled:w,className:`w-full ${N.primary} ${N.primaryHover} text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2`,children:w?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s==="login"?"Logger ind...":"Opretter konto..."]}):s==="login"?"Log ind":"Kom i gang nu"}),l.jsx("div",{className:"text-center border-t border-slate-700 pt-4",children:l.jsxs("p",{className:"text-slate-400 text-sm",children:[s==="login"?"Ny bruger?":"Har du allerede en konto?",l.jsx("button",{type:"button",onClick:()=>{const D=s==="login"?"signup":"login";console.log("AuthModal: Mode switch button clicked, changing from",s,"to",D),i(D)},className:`${A?"text-green-400 hover:text-green-300":"text-blue-400 hover:text-blue-300"} ml-2 font-medium underline`,children:s==="login"?"Kom i gang her":"Log ind her"})]})})]})]})}):null},py=({isOpen:e,onClose:t,siteMode:r="b2b"})=>{const{user:n,updateProfile:s,logout:i,changePassword:a}=We(),o=r==="b2b",[u,c]=S.useState(!1),[d,h]=S.useState(()=>({name:(n==null?void 0:n.name)||"",phone:(n==null?void 0:n.phone)||"",company:(n==null?void 0:n.company)||"",department:(n==null?void 0:n.department)||"",lastUserId:(n==null?void 0:n.id)||null})),[m,v]=S.useState({}),[x,y]=S.useState(!1),[w,g]=S.useState(""),[p,f]=S.useState(!1),[k,E]=S.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[_,b]=S.useState({}),[N,A]=S.useState(!1),[P,$]=S.useState(""),V=Ge.useRef(null),C=Ge.useRef(null),[D,ge]=S.useState(!1),ce=()=>{if(!d)return 0;const L=["name","phone"];o&&L.push("company","department");const te=L.filter(Z=>{var ie;return(ie=d[Z])==null?void 0:ie.trim()});return Math.round(te.length/L.length*100)};Ge.useEffect(()=>{n&&n.id!==d.lastUserId&&h({name:n.name||"",phone:n.phone||"",company:n.company||"",department:n.department||"",lastUserId:n.id})},[n]),Ge.useEffect(()=>{e||(V.current&&(clearTimeout(V.current),V.current=null),C.current&&(clearTimeout(C.current),C.current=null),c(!1),v({}),g(""),f(!1),E({currentPassword:"",newPassword:"",confirmPassword:""}),b({}),$(""))},[e]),Ge.useEffect(()=>()=>{V.current&&clearTimeout(V.current),C.current&&clearTimeout(C.current)},[]);const Se=()=>{var te,Z;const L={};if((te=d.name)!=null&&te.trim()||(L.name="Navn er pkrvet"),(Z=d.phone)!=null&&Z.trim()){const ie=d.phone.replace(/[^\d+]/g,"");/^(\+45)?[2-9]\d{7}$/.test(ie)||(L.phone="Indtast et gyldigt dansk telefonnummer (8 cifre, evt. med +45)")}return v(L),Object.keys(L).length===0},I=(L,te)=>{h(Z=>{const ie={...Z,[L]:te},cr=ie.name!==((n==null?void 0:n.name)||"")||ie.phone!==((n==null?void 0:n.phone)||"")||ie.company!==((n==null?void 0:n.company)||"")||ie.department!==((n==null?void 0:n.department)||"");return ge(cr),ie}),m[L]&&v(Z=>({...Z,[L]:""}))},B=async L=>{if(L.preventDefault(),!!Se()){y(!0),g(""),v({});try{const te=await s(d);te.success?(c(!1),ge(!1),g("Profil opdateret succesfuldt"),V.current=setTimeout(()=>g(""),3e3)):v({general:te.error||"Profil opdatering fejlede. Prv igen."})}catch(te){console.error("Profile update error:",te),v({general:"Der opstod en uventet fejl. Prv igen senere."})}finally{y(!1)}}},z=()=>{var te,Z,ie;const L={};return(te=k.currentPassword)!=null&&te.trim()||(L.currentPassword="Nuvrende adgangskode er pkrvet"),(Z=k.newPassword)!=null&&Z.trim()?k.newPassword.length<6&&(L.newPassword="Ny adgangskode skal vre mindst 6 tegn"):L.newPassword="Ny adgangskode er pkrvet",(ie=k.confirmPassword)!=null&&ie.trim()?k.newPassword!==k.confirmPassword&&(L.confirmPassword="Adgangskoderne er ikke ens"):L.confirmPassword="Bekrft ny adgangskode",k.currentPassword&&k.newPassword&&k.currentPassword===k.newPassword&&(L.newPassword="Ny adgangskode skal vre forskellig fra den nuvrende"),b(L),Object.keys(L).length===0},J=async()=>{if(z()){A(!0),$(""),b({});try{const L=await a(k.currentPassword,k.newPassword);L.success?($("Adgangskode ndret succesfuldt"),E({currentPassword:"",newPassword:"",confirmPassword:""}),C.current=setTimeout(()=>{$(""),f(!1)},2e3)):b({general:L.error||"Adgangskode ndring fejlede. Prv igen."})}catch(L){console.error("Password change error:",L),b({general:"Der opstod en uventet fejl. Prv igen senere."})}finally{A(!1)}}},ne=(L,te)=>{E(Z=>({...Z,[L]:te})),_[L]&&b(Z=>({...Z,[L]:""}))},lt=async()=>{await i(),t()};return!e||!n?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg w-full max-w-md md:max-w-lg lg:max-w-xl mx-auto max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Min Profil"}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(vn,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[w&&l.jsx("div",{className:"bg-green-900/50 border border-green-600 rounded-lg p-3",children:l.jsx("p",{className:"text-green-200 text-sm",children:w})}),u&&l.jsx("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ks,{className:"w-4 h-4 text-blue-400"}),l.jsx("p",{className:"text-blue-200 text-sm",children:"Du redigerer din profil"})]})}),u&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[l.jsx("span",{children:"Profil fuldendthed"}),l.jsxs("span",{children:[ce(),"%"]})]}),l.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o?"bg-green-500":"bg-blue-500"}`,style:{width:`${ce()}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(ir,{className:"w-8 h-8 text-slate-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:n.name}),l.jsx("p",{className:"text-slate-400 text-sm",children:n.email}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.role==="ADMIN"?"bg-purple-600 text-white":n.role==="TUTOR"?"bg-blue-600 text-white":"bg-gray-600 text-white"}`,children:n.role==="ADMIN"?"Administrator":n.role==="TUTOR"?"Tutor":"Kunde"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.site_mode==="B2B"?"bg-green-600 text-white":"bg-orange-600 text-white"}`,children:n.site_mode})]})]}),m.general&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 flex items-start gap-2",children:[l.jsx("div",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",children:""}),l.jsx("p",{className:"text-red-200 text-sm",children:m.general})]}),l.jsxs("form",{onSubmit:B,className:"space-y-6 md:space-y-4",children:[l.jsxs("div",{className:`transition-all duration-200 ${u?"ring-1 ring-blue-500/20 rounded-lg p-1":""}`,children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Fulde navn *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ir,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 transition-colors
                  ${u?"text-blue-400":"text-slate-400"}`}),l.jsx("input",{type:"text",value:d.name,onChange:L=>I("name",L.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-lg py-3 pl-11 pr-12 text-white transition-all duration-200
                    ${u?"focus:ring-2 focus:ring-blue-500 focus:bg-slate-600 border-transparent":"opacity-60 cursor-not-allowed"}
                    ${m.name?"ring-2 ring-red-500":""}
                  `,placeholder:"Dit fulde navn"}),u&&d.name&&!m.name&&l.jsx(Bi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-400"})]}),m.name&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:m.name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white opacity-60 cursor-not-allowed"})]}),l.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Email kan ikke ndres"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon"}),l.jsxs("div",{className:"relative",children:[l.jsx(au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"tel",value:d.phone,onChange:L=>{let te=L.target.value;const Z=te.replace(/[^\d+]/g,"");if(Z.startsWith("+45")){const ie=Z.slice(3);ie.length<=8&&(te="+45 "+ie.replace(/(\d{2})(?=\d)/g,"$1 ").trim())}else Z.length<=8&&(te=Z.replace(/(\d{2})(?=\d)/g,"$1 ").trim());I("phone",te)},disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"} ${m.phone?"border border-red-500":""}`,placeholder:"+45 12 34 56 78"})]}),m.phone&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:m.phone})]}),o&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed"}),l.jsxs("div",{className:"relative",children:[l.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:d.company,onChange:L=>I("company",L.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"}`,placeholder:"Virksomhedens navn"})]})]}),o&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling"}),l.jsxs("div",{className:"relative",children:[l.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),l.jsx("input",{type:"text",value:d.department,onChange:L=>I("department",L.target.value),disabled:!u,className:`w-full bg-slate-700 rounded-md py-2 pl-10 pr-3 text-white focus:ring-2 focus:ring-blue-500 ${u?"":"opacity-60 cursor-not-allowed"}`,placeholder:"Marketing, Sales, IT, etc."})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-slate-600",children:u?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"submit",disabled:x||!D||Object.keys(m).length>0,className:`flex-1 min-h-[44px] text-base font-semibold py-3 px-6 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed
                      transition-all duration-200 flex items-center justify-center gap-2 focus:ring-2 focus:ring-offset-2
                      focus:ring-offset-slate-800 shadow-lg hover:shadow-xl ${x?"cursor-wait":""}
                      ${Object.keys(m).length>0?"bg-red-600 cursor-not-allowed":D?o?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"bg-gray-600 cursor-not-allowed"} text-white`,children:x?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Gemmer..."]}):Object.keys(m).length>0?"Ret fejl frst":D?l.jsxs(l.Fragment,{children:[l.jsx(bs,{className:"w-5 h-5"}),"Gem ndringer"]}):"Ingen ndringer"}),l.jsx("button",{type:"button",onClick:()=>{D&&!window.confirm("Du har ugemte ndringer. Er du sikker p at du vil annullere?")||(c(!1),h({name:n.name||"",phone:n.phone||"",company:n.company||"",department:n.department||"",lastUserId:n.id}),v({}),g(""),ge(!1))},className:`flex-1 min-h-[44px] text-base bg-slate-600 hover:bg-slate-500 text-white font-medium py-3 px-6 rounded-lg
                    transition-all duration-200 focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 focus:ring-offset-slate-800`,children:"Annuller"})]}):l.jsxs("button",{type:"button",onClick:()=>c(!0),className:`w-full min-h-[44px] text-base font-semibold py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center gap-2
                  focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 shadow-lg hover:shadow-xl
                  ${o?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"} text-white`,children:[l.jsx(ks,{className:"w-5 h-5"}),"Rediger profil"]})})]}),p?l.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Skift adgangskode"}),P&&l.jsx("div",{className:"bg-green-900/50 border border-green-600 rounded-lg p-3 mb-4",children:l.jsx("p",{className:"text-green-200 text-sm",children:P})}),_.general&&l.jsxs("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3 mb-4 flex items-start gap-2",children:[l.jsx("div",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",children:""}),l.jsx("p",{className:"text-red-200 text-sm",children:_.general})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nuvrende adgangskode"}),l.jsx("input",{type:"password",value:k.currentPassword,onChange:L=>ne("currentPassword",L.target.value),disabled:N,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${_.currentPassword?"border border-red-500":""}`,placeholder:"Indtast nuvrende adgangskode"}),_.currentPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:_.currentPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Ny adgangskode"}),l.jsx("input",{type:"password",value:k.newPassword,onChange:L=>ne("newPassword",L.target.value),disabled:N,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${_.newPassword?"border border-red-500":""}`,placeholder:"Mindst 6 tegn"}),_.newPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:_.newPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Bekrft ny adgangskode"}),l.jsx("input",{type:"password",value:k.confirmPassword,onChange:L=>ne("confirmPassword",L.target.value),disabled:N,className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${_.confirmPassword?"border border-red-500":""}`,placeholder:"Gentag ny adgangskode"}),_.confirmPassword&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:_.confirmPassword})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:J,disabled:N,className:`flex-1 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${N?"cursor-wait":""}`,children:N?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Skifter..."]}):"Skift adgangskode"}),l.jsx("button",{type:"button",onClick:()=>{f(!1),E({currentPassword:"",newPassword:"",confirmPassword:""}),b({}),$("")},disabled:N,className:"flex-1 bg-slate-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Annuller"})]})]})]}):l.jsxs("div",{className:"border-t border-slate-700 pt-4 space-y-3",children:[l.jsx("button",{type:"button",onClick:()=>f(!0),className:"w-full bg-slate-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors",children:"Skift adgangskode"}),l.jsx("button",{onClick:lt,className:"w-full bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Log ud"})]}),l.jsx("div",{className:"text-xs text-slate-400 text-center",children:(()=>{try{const L=n.created_at?new Date(n.created_at):null;return L&&!isNaN(L.getTime())?`Medlem siden ${L.toLocaleDateString("da-DK")}`:"Medlem siden ukendt dato"}catch(L){return console.warn("Error formatting created_at date:",L),"Medlem siden ukendt dato"}})()})]})]})})},gy=({children:e})=>{const[t,r]=S.useState(!1),[n,s]=S.useState(""),[i,a]=S.useState(!1),[o,u]=S.useState(""),[c,d]=S.useState(!0),h=!0;S.useEffect(()=>{sessionStorage.getItem("admin-authenticated")==="true"&&r(!0),d(!1)},[h]);const m=v=>{v.preventDefault(),u(""),n==="AI1234"?(r(!0),sessionStorage.setItem("admin-authenticated","true")):(u("Ugyldig adgangskode"),s(""))};return c?l.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):t?e:l.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zi,{className:"w-20 h-20 text-blue-400 animate-bounce"}),l.jsx("div",{className:"absolute -top-2 -right-2",children:l.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full animate-pulse"})})]})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Kommer snart"}),l.jsx("p",{className:"text-slate-300 text-lg",children:"Vi arbejder p noget fantastisk! "})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-center mb-4",children:[l.jsx(Zn,{className:"w-5 h-5 text-slate-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-white",children:"Admin Adgang"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o&&l.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-3",children:l.jsx("p",{className:"text-red-200 text-sm text-center",children:o})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",value:n,onChange:v=>s(v.target.value),placeholder:"Admin adgangskode",className:"w-full bg-slate-700 rounded-md py-2 pl-3 pr-10 text-white focus:ring-2 focus:ring-blue-500 focus:outline-none",autoComplete:"off"}),l.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:i?l.jsx(Kf,{className:"w-4 h-4"}):l.jsx(qf,{className:"w-4 h-4"})})]}),l.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Log ind"})]}),l.jsx("p",{className:"text-slate-500 text-xs text-center mt-4",children:"Admin adgang krvet for at se siden"})]})]})})};class Y extends Error{constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.data=n}}const Br={getAvailability:async(e,t,r)=>{let n=K.from("tutor_availability").select("*").eq("tutor_id",e);t&&(n=n.gte("date",t)),r&&(n=n.lte("date",r));const{data:s,error:i}=await n.order("date",{ascending:!0});if(i)throw new Y(i.message,400,i);return{data:s,success:!0}},updateAvailability:async(e,t,r)=>{try{const{data:n,error:s}=await K.from("tutor_availability").select("id").eq("tutor_id",e).eq("date",t).maybeSingle();if(s)throw console.error("Error finding existing availability:",s),new Y(s.message,400,s);let i;if(n)console.log("Updating existing availability record:",n.id),i=await K.from("tutor_availability").update({time_slots:r,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();else{console.log("Creating new availability record for tutor:",e,"date:",t);const{data:{user:u},error:c}=await K.auth.getUser();if(c||!u)throw new Y("Authentication required",401,c);const{data:d,error:h}=await K.from("tutors").select("id, user_id").eq("id",e).eq("user_id",u.id).single();if(h||!d)throw new Y("Unauthorized: Tutor not found or access denied",403,h);const v={id:(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){const y=Math.random()*16|0;return(x=="x"?y:y&3|8).toString(16)}))(),tutor_id:e,date:t,time_slots:r};console.log("Insert data:",v),i=await K.from("tutor_availability").insert(v).select().single()}const{data:a,error:o}=i;if(o)throw console.error("Database operation error:",o),new Y(o.message,400,o);return console.log("Availability operation successful:",a),{data:a,success:!0}}catch(n){throw console.error("updateAvailability error:",n),n instanceof Y?n:new Y(n.message||"Unknown error occurred",500,n)}},bookTimeSlot:async(e,t,r)=>{const{data:n,error:s}=await K.rpc("book_time_slot",{p_tutor_id:e,p_date:t,p_time:r});if(s)throw new Y(s.message,400,s);return{data:n,success:!0}}},js={getProfile:async()=>{const{data:{user:e},error:t}=await K.auth.getUser();if(t)throw new Y("Authentication failed",401,t);if(!e)throw new Y("Not authenticated",401);const{data:r,error:n}=await K.from("tutors").select(`
        *,
        user:users(*),
        sessions(*)
      `).eq("user_id",e.id).single();if(n)throw new Y(n.message,404,n);return{data:r,success:!0}},updateProfile:async e=>{const{data:{user:t},error:r}=await K.auth.getUser();if(r)throw new Y("Authentication failed",401,r);if(!t)throw new Y("Not authenticated",401);const{data:n,error:s}=await K.from("tutors").update({...e,updated_at:new Date().toISOString()}).eq("user_id",t.id).select(`
        *,
        user:users(*),
        sessions(*)
      `).single();if(s)throw new Y(s.message,400,s);return{data:n,success:!0}},getTutorBookings:async(e={})=>{const{data:{user:t},error:r}=await K.auth.getUser();if(r)throw new Y("Authentication failed",401,r);if(!t)throw new Y("Not authenticated",401);const{data:n,error:s}=await K.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new Y("Tutor not found",404,s);let i=K.from("bookings").select(`
        *,
        user:users(name, email, phone, company),
        session:sessions(title, description, duration)
      `).eq("tutor_id",n.id);e.status&&(i=i.eq("status",e.status.toUpperCase()));const{data:a,error:o}=await i.order("created_at",{ascending:!1});if(o)throw new Y(o.message,400,o);return{data:a,success:!0}},updateBookingStatus:async(e,t)=>{const{data:{user:r},error:n}=await K.auth.getUser();if(n)throw new Y("Authentication failed",401,n);if(!r)throw new Y("Not authenticated",401);const{data:s,error:i}=await K.from("tutors").select("id").eq("user_id",r.id).single();if(i)throw new Y("Tutor not found",404,i);const{data:a,error:o}=await K.from("bookings").update({status:t.toUpperCase(),updated_at:new Date().toISOString(),...t.toUpperCase()==="CONFIRMED"&&{confirmed_at:new Date().toISOString()},...t.toUpperCase()==="CANCELLED"&&{cancelled_at:new Date().toISOString()}}).eq("id",e).eq("tutor_id",s.id).select().single();if(o)throw new Y(o.message,400,o);return{data:a,success:!0}}},Qa={getSessions:async e=>{const{data:t,error:r}=await K.from("sessions").select("*").eq("tutor_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(r)throw new Y(r.message,400,r);return{data:t,success:!0}},createSession:async e=>{const{data:{user:t},error:r}=await K.auth.getUser();if(r)throw new Y("Authentication failed",401,r);if(!t)throw new Y("Not authenticated",401);const{data:n,error:s}=await K.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new Y("Tutor not found",404,s);const{data:i,error:a}=await K.from("sessions").insert([{...e,tutor_id:n.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw new Y(a.message,400,a);return{data:i,success:!0}},updateSession:async(e,t)=>{const{data:{user:r},error:n}=await K.auth.getUser();if(n)throw new Y("Authentication failed",401,n);if(!r)throw new Y("Not authenticated",401);const{data:s,error:i}=await K.from("tutors").select("id").eq("user_id",r.id).single();if(i)throw new Y("Tutor not found",404,i);const{data:a,error:o}=await K.from("sessions").update({...t,updated_at:new Date().toISOString()}).eq("id",e).eq("tutor_id",s.id).select().single();if(o)throw new Y(o.message,400,o);return{data:a,success:!0}},deleteSession:async e=>{const{data:{user:t},error:r}=await K.auth.getUser();if(r)throw new Y("Authentication failed",401,r);if(!t)throw new Y("Not authenticated",401);const{data:n,error:s}=await K.from("tutors").select("id").eq("user_id",t.id).single();if(s)throw new Y("Tutor not found",404,s);const{data:i,error:a}=await K.from("sessions").update({is_active:!1}).eq("id",e).eq("tutor_id",n.id).select().single();if(a)throw new Y(a.message,400,a);return{data:i,success:!0}}},vy=()=>{const[e,t]=S.useState("all"),[r,n]=S.useState([]),[s,i]=S.useState(!0),[a,o]=S.useState(null),[u,c]=S.useState(null),d={pending:{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500"},confirmed:{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500"},completed:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500"},cancelled:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500"}},h={pending:"Afventer bekrftelse",confirmed:"Bekrftet",completed:"Gennemfrt",cancelled:"Aflyst"},m=w=>{switch(w){case"confirmed":return l.jsx(Bi,{className:"w-4 h-4"});case"completed":return l.jsx(Bi,{className:"w-4 h-4"});case"cancelled":return l.jsx(dy,{className:"w-4 h-4"});default:return l.jsx(Hf,{className:"w-4 h-4"})}};S.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0),o(null);const g=(await js.getTutorBookings()).data.map(p=>{var f,k,E,_,b,N,A,P;return{id:p.id,client:((f=p.user)==null?void 0:f.name)||p.contact_name,email:((k=p.user)==null?void 0:k.email)||p.contact_email,phone:((E=p.user)==null?void 0:E.phone)||p.contact_phone,company:((_=p.user)==null?void 0:_.company)||p.company,session:((b=p.session)==null?void 0:b.title)||"Unknown Session",date:((N=p.selected_date_time)==null?void 0:N.split("T")[0])||p.selected_date_time,time:new Date(p.selected_date_time).toLocaleTimeString("da-DK",{hour:"2-digit",minute:"2-digit"}),duration:((A=p.session)==null?void 0:A.duration)||60,status:((P=p.status)==null?void 0:P.toLowerCase())||"pending",price:p.total_price||0,notes:p.notes||""}});n(g)}catch(w){console.error("Failed to load bookings:",w),o("Failed to load bookings")}finally{i(!1)}},x=async(w,g)=>{try{c(w),await js.updateBookingStatus(w,g),await v()}catch(p){console.error("Failed to update booking status:",p),o("Failed to update booking status")}finally{c(null)}},y=e==="all"?r:r.filter(w=>w.status===e);return s?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading bookings..."})]})}):a?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:a}),l.jsx("button",{onClick:()=>{o(null),v()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="all"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Alle (",r.length,")"]}),l.jsxs("button",{onClick:()=>t("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="pending"?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Afventer (",r.filter(w=>w.status==="pending").length,")"]}),l.jsxs("button",{onClick:()=>t("confirmed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="confirmed"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Bekrftet (",r.filter(w=>w.status==="confirmed").length,")"]})]}),l.jsx("div",{className:"space-y-4",children:y.map(w=>{const g=d[w.status];return l.jsx("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:w.session}),l.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${g.bg} ${g.text} ${g.border} flex items-center gap-1`,children:[m(w.status),h[w.status]]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(ir,{className:"w-4 h-4"}),l.jsx("span",{children:w.client})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(Is,{className:"w-4 h-4"}),l.jsx("span",{children:w.email})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(au,{className:"w-4 h-4"}),l.jsx("span",{children:w.phone})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(gn,{className:"w-4 h-4"}),l.jsx("span",{children:new Date(w.date).toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(ws,{className:"w-4 h-4"}),l.jsxs("span",{children:[w.time," (",w.duration," min)"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[l.jsx(iu,{className:"w-4 h-4"}),l.jsx("span",{children:w.company})]})]})]}),w.notes&&l.jsx("div",{className:"mt-3 p-3 bg-slate-700 rounded-lg",children:l.jsxs("p",{className:"text-slate-300 text-sm",children:[l.jsx("strong",{children:"Noter:"})," ",w.notes]})})]}),l.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[l.jsx("div",{className:"text-right mb-2",children:l.jsxs("p",{className:"text-2xl font-bold text-white",children:[w.price.toLocaleString("da-DK")," kr"]})}),w.status==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>x(w.id,"confirmed"),disabled:u===w.id,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===w.id?"Updating...":"Bekrft"}),l.jsx("button",{onClick:()=>x(w.id,"cancelled"),disabled:u===w.id,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===w.id?"Updating...":"Aflys"})]}),w.status==="confirmed"&&l.jsx("button",{onClick:()=>x(w.id,"completed"),disabled:u===w.id,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:u===w.id?"Updating...":"Marker som gennemfrt"})]})]})},w.id)})}),y.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(gn,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-400 mb-2",children:"Ingen bookinger"}),l.jsx("p",{className:"text-slate-500",children:e==="all"?"Du har ingen bookinger endnu.":`Ingen bookinger med status: ${h[e]}`})]})]})},xy=()=>{const[e,t]=S.useState(new Date),[r,n]=S.useState("week"),[s,i]=S.useState(!1),[a,o]=S.useState(null),[u,c]=S.useState(!1),[d,h]=S.useState(!1),[m,v]=S.useState({startTime:"",endTime:""}),[x,y]=S.useState({dayOfWeek:"",startTime:"",endTime:"",weeks:4}),[w,g]=S.useState(null),[p,f]=S.useState({}),[k,E]=S.useState(!0),[_,b]=S.useState(null),[N,A]=S.useState(null),P=j=>j.toISOString().split("T")[0],$=(j="all")=>{const T=[],R=j==="business"?9:0,U=j==="business"?17:24;for(let F=R;F<U;F++)T.push({value:F.toString().padStart(2,"0"),label:F.toString().padStart(2,"0")});return T},V=()=>[{value:"00",label:"00"},{value:"15",label:"15"},{value:"30",label:"30"},{value:"45",label:"45"}],C=j=>{if(!j)return{hour:"",minute:""};const[T,R]=j.split(":");return{hour:T,minute:R}},D=(j,T)=>!j||!T?"":`${j}:${T}`,ge=(j,T)=>{const R=new Date(`1970-01-01T${j}:00`);return(new Date(`1970-01-01T${T}:00`)-R)/(1e3*60)>=30},ce=j=>{const[,T]=j.split(":");return["00","15","30","45"].includes(T)};S.useEffect(()=>{Se()},[]),S.useEffect(()=>{_&&I()},[_,e]);const Se=async()=>{try{const j=await js.getProfile();b(j.data.id)}catch(j){console.error("Failed to load tutor profile:",j),A("Failed to load tutor profile")}},I=async()=>{try{E(!0);const j=new Date(e),T=j.getDay(),R=j.getDate()-T+(T===0?-6:1);j.setDate(R);const U=new Date(j);U.setDate(j.getDate()+6);const F=await Br.getAvailability(_,P(j),P(U)),X={};F.data.forEach(se=>{const H=Array.isArray(se.time_slots)?se.time_slots:[];X[se.date]=H.map((Dt,dr)=>({id:`${se.date}-${dr}`,startTime:Dt.startTime,endTime:Dt.endTime,isBooked:Dt.isBooked||!1,clientName:Dt.clientName}))}),f(X)}catch(j){console.error("Failed to load availability:",j),A("Failed to load availability")}finally{E(!1)}},B=j=>j.toLocaleDateString("da-DK",{weekday:"long",day:"numeric",month:"long"}),z=()=>{const j=new Date(e),T=j.getDay(),R=j.getDate()-T+(T===0?-6:1);j.setDate(R);const U=[];for(let F=0;F<7;F++){const X=new Date(j);X.setDate(j.getDate()+F),U.push(X)}return U},J=(j,T,R)=>{if(!j||!T)return"Start- og sluttid er pkrvet";if(!ce(j)||!ce(T))return"Tidspunkter skal vre i 15-minutters intervaller (00, 15, 30, 45)";const U=new Date(`1970-01-01T${j}:00`),F=new Date(`1970-01-01T${T}:00`);if(U>=F)return"Sluttid skal vre efter starttid";if(!ge(j,T))return"Minimum varighed er 30 minutter";for(const X of R){const se=new Date(`1970-01-01T${X.startTime}:00`),H=new Date(`1970-01-01T${X.endTime}:00`);if(U<H&&F>se)return`Overlapper med eksisterende slot ${X.startTime} - ${X.endTime}`}return null},ne=async()=>{if(!(!m.startTime||!m.endTime||!_))try{const j=P(e),T=p[j]||[],R=J(m.startTime,m.endTime,T);if(R){A(R);return}const U=[...T,{startTime:m.startTime,endTime:m.endTime,isBooked:!1}].sort((F,X)=>F.startTime.localeCompare(X.startTime));await Br.updateAvailability(_,j,U),await I(),v({startTime:"",endTime:""}),i(!1)}catch(j){console.error("Failed to add time slot:",j),A("Failed to add time slot")}},lt=async j=>{if(_)try{const T=P(e),U=(p[T]||[]).filter(F=>F.id!==j);await Br.updateAvailability(_,T,U),await I()}catch(T){console.error("Failed to delete time slot:",T),A("Failed to delete time slot")}},L=async(j,T)=>{if(_)try{const R=P(e),U=p[R]||[],F=U.filter(H=>H.id!==j),X=J(T.startTime,T.endTime,F);if(X){A(X);return}const se=U.map(H=>H.id===j?{...H,...T}:H);await Br.updateAvailability(_,R,se),await I(),o(null)}catch(R){console.error("Failed to update time slot:",R),A("Failed to update time slot")}},te=async(j,T)=>{if(_)try{const R=P(j),U=P(T),F=p[R]||[];if(F.length===0){A("Ingen tidsslots at kopiere fra den valgte dag");return}const X=F.map(se=>({startTime:se.startTime,endTime:se.endTime,isBooked:!1}));await Br.updateAvailability(_,U,X),await I(),h(!1),g(null)}catch(R){console.error("Failed to copy availability:",R),A("Kunne ikke kopiere tilgngelighed")}},Z=async(j,T)=>{if(_)try{const R=P(j);if((p[R]||[]).length===0){A("Ingen tidsslots at kopiere fra den valgte dag");return}const F=j.getDay(),X=new Date(T);X.setDate(T.getDate()+F),await te(j,X)}catch(R){console.error("Failed to copy availability to week:",R),A("Kunne ikke kopiere tilgngelighed til ugen")}},ie=async()=>{if(!_||!x.dayOfWeek||!x.startTime||!x.endTime){A("Alle felter er pkrvet for masseoprettelse");return}const j=J(x.startTime,x.endTime,[]);if(j){A(j);return}try{const T=[],R=new Date;for(let U=0;U<x.weeks;U++){const F=new Date(R),X=(parseInt(x.dayOfWeek)-R.getDay()+7)%7+U*7;F.setDate(R.getDate()+X);const se=P(F),H=p[se]||[];if(!J(x.startTime,x.endTime,H)){const dr={startTime:x.startTime,endTime:x.endTime,isBooked:!1},tm=[...H,dr].sort((rm,nm)=>rm.startTime.localeCompare(nm.startTime));T.push(Br.updateAvailability(_,se,tm))}}await Promise.all(T),await I(),c(!1),y({dayOfWeek:"",startTime:"",endTime:"",weeks:4})}catch(T){console.error("Failed to create bulk availability:",T),A("Kunne ikke oprette massedisponibilitet")}},cr=z(),Sn=P(e),Nn=p[Sn]||[];return k?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading availability..."})]})}):N?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:N}),l.jsx("button",{onClick:()=>{A(null),Se()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(gn,{className:"w-5 h-5"}),"Tilgngelighed"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(oy,{className:"w-4 h-4"}),"Masseopret"]}),l.jsxs("button",{onClick:()=>n(r==="week"?"month":"week"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(to,{className:"w-4 h-4"}),r==="week"?"Mnedsvisning":"Ugevisning"]})]})]}),l.jsx("h4",{className:"text-sm text-slate-300 mb-4",children:"Vlg dag"}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:cr.map((j,T)=>{var H,Dt;const R=P(j),U=((H=p[R])==null?void 0:H.length)||0,F=((Dt=p[R])==null?void 0:Dt.filter(dr=>dr.isBooked).length)||0,X=R===Sn,se=R===P(new Date);return l.jsxs("button",{onClick:()=>t(j),className:`group relative p-3 rounded-lg text-center transition-colors ${X?"bg-green-600 text-white":se?"bg-blue-600/20 text-blue-400 border border-blue-600":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[l.jsx("div",{className:"text-xs mb-1",children:j.toLocaleDateString("da-DK",{weekday:"short"})}),l.jsx("div",{className:"font-semibold",children:j.getDate()}),U>0&&l.jsxs("div",{className:"text-xs mt-1",children:[U-F,"/",U]}),U>0&&l.jsx("button",{onClick:dr=>{dr.stopPropagation(),g(j),h(!0)},className:"absolute top-1 right-1 bg-slate-600 hover:bg-slate-500 p-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(iy,{className:"w-3 h-3"})})]},T)})})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(ws,{className:"w-5 h-5"}),B(e)]}),l.jsxs("button",{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(Qf,{className:"w-4 h-4"}),"Tilfj tidsslot"]})]}),s&&l.jsxs("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h4",{className:"text-white font-medium",children:"Nyt tidsslot"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>v({startTime:"09:00",endTime:"12:00"}),className:"px-2 py-1 text-xs bg-slate-600 hover:bg-slate-500 text-white rounded transition-colors",children:"9-12"}),l.jsx("button",{onClick:()=>v({startTime:"13:00",endTime:"16:00"}),className:"px-2 py-1 text-xs bg-slate-600 hover:bg-slate-500 text-white rounded transition-colors",children:"13-16"}),l.jsx("button",{onClick:()=>v({startTime:"10:00",endTime:"11:00"}),className:"px-2 py-1 text-xs bg-slate-600 hover:bg-slate-500 text-white rounded transition-colors",children:"10-11"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-2",children:"Starttid"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(m.startTime).hour,onChange:j=>{const T=j.target.value,R=C(m.startTime).minute||"00",U=D(T,R);v(F=>({...F,startTime:U,endTime:""}))},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Time"}),l.jsx("optgroup",{label:"Normal arbejdstid (9-17)",children:$("business").map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),l.jsx("optgroup",{label:"Andre timer",children:$().filter(j=>{const T=parseInt(j.value);return T<9||T>=17}).map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]})}),l.jsx("span",{className:"text-slate-300 font-medium",children:":"}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(m.startTime).minute,onChange:j=>{const T=j.target.value,R=C(m.startTime).hour;if(R){const U=D(R,T);v(F=>({...F,startTime:U,endTime:""}))}},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:!C(m.startTime).hour,children:[l.jsx("option",{value:"",children:"Min"}),V().map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))]})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-slate-300 mb-2",children:["Sluttid",m.startTime&&l.jsx("span",{className:"text-xs text-slate-400 ml-1",children:"(min. 30 min)"})]}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(m.endTime).hour,onChange:j=>{const T=j.target.value,R=C(m.endTime).minute||"00",U=D(T,R);v(F=>({...F,endTime:U}))},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:!m.startTime,children:[l.jsx("option",{value:"",children:"Time"}),l.jsx("optgroup",{label:"Normal arbejdstid (9-17)",children:$("business").map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),l.jsx("optgroup",{label:"Andre timer",children:$().filter(j=>{const T=parseInt(j.value);return T<9||T>=17}).map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]})}),l.jsx("span",{className:"text-slate-300 font-medium",children:":"}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(m.endTime).minute,onChange:j=>{const T=j.target.value,R=C(m.endTime).hour;if(R){const U=D(R,T);v(F=>({...F,endTime:U}))}},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:!m.startTime||!C(m.endTime).hour,children:[l.jsx("option",{value:"",children:"Min"}),V().map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))]})})]}),m.startTime&&m.endTime&&l.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Varighed: ",(()=>{const[j,T]=m.startTime.split(":").map(Number),[R,U]=m.endTime.split(":").map(Number),F=R*60+U-(j*60+T),X=Math.floor(F/60),se=F%60;return X>0?`${X} time${X>1?"r":""}${se>0?` og ${se} min`:""}`:`${se} minutter`})()]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>{i(!1),v({startTime:"",endTime:""})},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(vn,{className:"w-4 h-4"}),"Annuller"]}),l.jsxs("button",{onClick:ne,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(bs,{className:"w-4 h-4"}),"Gem"]})]})]}),l.jsx("div",{className:"space-y-3",children:Nn.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ws,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),l.jsx("p",{className:"text-slate-400",children:"Ingen tidsslots for denne dag"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Tilfj nogle tidsslots for at modtage bookinger"})]}):Nn.map(j=>l.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${j.isBooked?"bg-blue-500/10 border-blue-500":"bg-green-500/10 border-green-500"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${j.isBooked?"bg-blue-400":"bg-green-400"}`}),a===j.id?l.jsxs("div",{className:"flex gap-1 items-center",children:[l.jsxs("select",{defaultValue:C(j.startTime).hour,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm focus:ring-2 focus:ring-green-500",onChange:T=>{const R=T.target.value,U=C(j.startTime).minute;j.startTime=D(R,U)},children:[l.jsx("optgroup",{label:"Normal",children:$("business").map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))}),l.jsx("optgroup",{label:"Andre",children:$().filter(T=>{const R=parseInt(T.value);return R<9||R>=17}).map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))})]}),l.jsx("span",{className:"text-slate-300",children:":"}),l.jsx("select",{defaultValue:C(j.startTime).minute,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm focus:ring-2 focus:ring-green-500",onChange:T=>{const R=T.target.value,U=C(j.startTime).hour;j.startTime=D(U,R)},children:V().map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))}),l.jsx("span",{className:"text-slate-300 mx-1",children:"-"}),l.jsxs("select",{defaultValue:C(j.endTime).hour,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm focus:ring-2 focus:ring-green-500",onChange:T=>{const R=T.target.value,U=C(j.endTime).minute;j.endTime=D(R,U)},children:[l.jsx("optgroup",{label:"Normal",children:$("business").map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))}),l.jsx("optgroup",{label:"Andre",children:$().filter(T=>{const R=parseInt(T.value);return R<9||R>=17}).map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))})]}),l.jsx("span",{className:"text-slate-300",children:":"}),l.jsx("select",{defaultValue:C(j.endTime).minute,className:"bg-slate-600 text-white rounded px-2 py-1 text-sm focus:ring-2 focus:ring-green-500",onChange:T=>{const R=T.target.value,U=C(j.endTime).hour;j.endTime=D(U,R)},children:V().map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))})]}):l.jsxs("div",{children:[l.jsxs("span",{className:"text-white font-medium",children:[j.startTime," - ",j.endTime]}),j.isBooked&&j.clientName&&l.jsxs("p",{className:"text-blue-400 text-sm",children:["Booket af ",j.clientName]})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.isBooked?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:j.isBooked?"Booket":"Ledig"})]}),l.jsx("div",{className:"flex gap-2",children:a===j.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>L(j.id,j),className:"text-green-400 hover:text-green-300 p-1",children:l.jsx(bs,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-300 p-1",children:l.jsx(vn,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[!j.isBooked&&l.jsx("button",{onClick:()=>o(j.id),className:"text-blue-400 hover:text-blue-300 p-1",children:l.jsx(ks,{className:"w-4 h-4"})}),!j.isBooked&&l.jsx("button",{onClick:()=>lt(j.id),className:"text-red-400 hover:text-red-300 p-1",children:l.jsx(Jf,{className:"w-4 h-4"})})]})})]},j.id))})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Masseopret tilgngelighed"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Ugedag"}),l.jsxs("select",{value:x.dayOfWeek,onChange:j=>y(T=>({...T,dayOfWeek:j.target.value})),className:"w-full bg-slate-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:"",children:"Vlg ugedag"}),l.jsx("option",{value:"1",children:"Mandag"}),l.jsx("option",{value:"2",children:"Tirsdag"}),l.jsx("option",{value:"3",children:"Onsdag"}),l.jsx("option",{value:"4",children:"Torsdag"}),l.jsx("option",{value:"5",children:"Fredag"}),l.jsx("option",{value:"6",children:"Lrdag"}),l.jsx("option",{value:"0",children:"Sndag"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-2",children:"Starttid"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(x.startTime).hour,onChange:j=>{const T=j.target.value,R=C(x.startTime).minute||"00",U=D(T,R);y(F=>({...F,startTime:U,endTime:""}))},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Time"}),l.jsx("optgroup",{label:"Normal arbejdstid (9-17)",children:$("business").map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),l.jsx("optgroup",{label:"Andre timer",children:$().filter(j=>{const T=parseInt(j.value);return T<9||T>=17}).map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]})}),l.jsx("span",{className:"text-slate-300 font-medium",children:":"}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(x.startTime).minute,onChange:j=>{const T=j.target.value,R=C(x.startTime).hour;if(R){const U=D(R,T);y(F=>({...F,startTime:U,endTime:""}))}},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!C(x.startTime).hour,children:[l.jsx("option",{value:"",children:"Min"}),V().map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))]})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-slate-300 mb-2",children:["Sluttid",x.startTime&&l.jsx("span",{className:"text-xs text-slate-400 ml-1",children:"(min. 30 min)"})]}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(x.endTime).hour,onChange:j=>{const T=j.target.value,R=C(x.endTime).minute||"00",U=D(T,R);y(F=>({...F,endTime:U}))},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!x.startTime,children:[l.jsx("option",{value:"",children:"Time"}),l.jsx("optgroup",{label:"Normal arbejdstid (9-17)",children:$("business").map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))}),l.jsx("optgroup",{label:"Andre timer",children:$().filter(j=>{const T=parseInt(j.value);return T<9||T>=17}).map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))})]})}),l.jsx("span",{className:"text-slate-300 font-medium",children:":"}),l.jsx("div",{className:"flex-1",children:l.jsxs("select",{value:C(x.endTime).minute,onChange:j=>{const T=j.target.value,R=C(x.endTime).hour;if(R){const U=D(R,T);y(F=>({...F,endTime:U}))}},className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!x.startTime||!C(x.endTime).hour,children:[l.jsx("option",{value:"",children:"Min"}),V().map(j=>l.jsx("option",{value:j.value,children:j.label},j.value))]})})]}),x.startTime&&x.endTime&&l.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:["Varighed: ",(()=>{const[j,T]=x.startTime.split(":").map(Number),[R,U]=x.endTime.split(":").map(Number),F=R*60+U-(j*60+T),X=Math.floor(F/60),se=F%60;return X>0?`${X} time${X>1?"r":""}${se>0?` og ${se} min`:""}`:`${se} minutter`})()]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Antal uger"}),l.jsxs("select",{value:x.weeks,onChange:j=>y(T=>({...T,weeks:parseInt(j.target.value)})),className:"w-full bg-slate-600 text-white rounded-md px-3 py-2",children:[l.jsx("option",{value:1,children:"1 uge"}),l.jsx("option",{value:2,children:"2 uger"}),l.jsx("option",{value:4,children:"4 uger"}),l.jsx("option",{value:8,children:"8 uger"}),l.jsx("option",{value:12,children:"12 uger"})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:ie,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Opret"}),l.jsx("button",{onClick:()=>{c(!1),y({dayOfWeek:"",startTime:"",endTime:"",weeks:4})},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Annuller"})]})]})}),d&&w&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Kopier tilgngelighed fra ",w.toLocaleDateString("da-DK")]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>te(w,e),className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors text-left",children:["Kopier til valgte dag (",e.toLocaleDateString("da-DK"),")"]}),l.jsx("button",{onClick:()=>{const j=new Date(e);j.setDate(e.getDate()+7),Z(w,j)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors text-left",children:"Kopier til nste uge (samme ugedag)"})]}),l.jsx("div",{className:"flex gap-3 mt-6",children:l.jsx("button",{onClick:()=>{h(!1),g(null)},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Annuller"})})]})})]})},yy=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState({}),[s,i]=S.useState(!1),[a,o]=S.useState({}),[u,c]=S.useState([]),[d,h]=S.useState(!0),[m,v]=S.useState(null),[x,y]=S.useState(!1),[w,g]=S.useState({title:"",description:"",duration:60,price_override:null});S.useEffect(()=>{p()},[]);const p=async()=>{var b,N,A;try{h(!0),v(null);const P=await js.getProfile(),$={name:((b=P.data.user)==null?void 0:b.name)||"",email:((N=P.data.user)==null?void 0:N.email)||"",phone:((A=P.data.user)==null?void 0:A.phone)||"",title:P.data.title||"",specialty:P.data.specialty||"",experience:P.data.experience||"",value_prop:P.data.valueProp||"",img:P.data.img||"",base_price:P.data.basePrice||0,price:P.data.price||0};o($),c(P.data.sessions||[])}catch(P){console.error("Failed to load profile:",P),v("Failed to load profile")}finally{h(!1)}},f=async()=>{try{y(!0);const b={title:a.title,specialty:a.specialty,experience:a.experience,valueProp:a.value_prop,img:a.img,basePrice:a.base_price,price:a.price};await js.updateProfile(b),await p(),t(!1)}catch(b){console.error("Failed to save profile:",b),v("Failed to save profile")}finally{y(!1)}},k=async(b,N)=>{try{await Qa.updateSession(b,N),await p(),n(A=>({...A,[b]:!1}))}catch(A){console.error("Failed to save session:",A),v("Failed to save session")}},E=async()=>{if(!(!w.title||!w.description))try{const b={title:w.title,description:w.description,duration:w.duration,priceOverride:w.price_override||null};await Qa.createSession(b),await p(),g({title:"",description:"",duration:60,price_override:null}),i(!1)}catch(b){console.error("Failed to add session:",b),v("Failed to add session")}},_=async b=>{try{await Qa.deleteSession(b),await p()}catch(N){console.error("Failed to delete session:",N),v("Failed to delete session")}};return d?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):m?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-400",children:m}),l.jsx("button",{onClick:()=>{v(null),p()},className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Try Again"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Profil information"}),e?l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:f,disabled:x,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(bs,{className:"w-4 h-4"}),x?"Saving...":"Gem"]}),l.jsx("button",{onClick:()=>t(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Annuller"})]}):l.jsxs("button",{onClick:()=>t(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(ks,{className:"w-4 h-4"}),"Rediger profil"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:a.img,alt:a.name,className:"w-32 h-32 rounded-full mx-auto mb-4 border-4 border-slate-700"}),e&&l.jsx("button",{className:"text-green-400 hover:text-green-300 text-sm",children:"Skift billede"})]}),l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(ir,{className:"w-4 h-4 inline mr-1"}),"Navn"]}),e?l.jsx("input",{type:"text",value:a.name,onChange:b=>o(N=>({...N,name:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(Is,{className:"w-4 h-4 inline mr-1"}),"Email"]}),e?l.jsx("input",{type:"email",value:a.email,onChange:b=>o(N=>({...N,email:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.email})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(au,{className:"w-4 h-4 inline mr-1"}),"Telefon"]}),e?l.jsx("input",{type:"tel",value:a.phone,onChange:b=>o(N=>({...N,phone:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.phone})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(ma,{className:"w-4 h-4 inline mr-1"}),"Titel"]}),e?l.jsx("input",{type:"text",value:a.title,onChange:b=>o(N=>({...N,title:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.title})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Specialeomrde"}),e?l.jsx("input",{type:"text",value:a.specialty,onChange:b=>o(N=>({...N,specialty:b.target.value})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.specialty})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Erfaring"}),e?l.jsx("textarea",{value:a.experience,onChange:b=>o(N=>({...N,experience:b.target.value})),rows:3,className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.experience})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Vrdiforslag"}),e?l.jsx("textarea",{value:a.value_prop,onChange:b=>o(N=>({...N,value_prop:b.target.value})),rows:2,className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsx("p",{className:"text-white",children:a.value_prop})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(ro,{className:"w-4 h-4 inline mr-1"}),"B2B Basispris (kr/time)"]}),e?l.jsx("input",{type:"number",value:a.base_price,onChange:b=>o(N=>({...N,base_price:parseInt(b.target.value)})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsxs("p",{className:"text-white",children:[a.base_price," kr"]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[l.jsx(ro,{className:"w-4 h-4 inline mr-1"}),"B2C Pris (kr/session)"]}),e?l.jsx("input",{type:"number",value:a.price,onChange:b=>o(N=>({...N,price:parseInt(b.target.value)})),className:"w-full bg-slate-700 text-white rounded-md px-3 py-2"}):l.jsxs("p",{className:"text-white",children:[a.price," kr"]})]})]})]})]})]}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sessions & Emner"}),l.jsxs("button",{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[l.jsx(Qf,{className:"w-4 h-4"}),"Tilfj session"]})]}),s&&l.jsxs("div",{className:"mb-6 p-4 bg-slate-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-4",children:"Ny session"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Session titel",value:w.title,onChange:b=>g(N=>({...N,title:b.target.value})),className:"w-full bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsx("textarea",{placeholder:"Session beskrivelse",value:w.description,onChange:b=>g(N=>({...N,description:b.target.value})),rows:3,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",placeholder:"Varighed (minutter)",value:w.duration,onChange:b=>g(N=>({...N,duration:parseInt(b.target.value)})),className:"bg-slate-600 text-white rounded-md px-3 py-2"}),l.jsx("input",{type:"number",placeholder:"Srlig pris (valgfrit)",value:w.price_override||"",onChange:b=>g(N=>({...N,price_override:b.target.value?parseInt(b.target.value):null})),className:"bg-slate-600 text-white rounded-md px-3 py-2"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Gem session"}),l.jsx("button",{onClick:()=>{i(!1),g({title:"",description:"",duration:60,price_override:null})},className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Annuller"})]})]})]}),l.jsx("div",{className:"space-y-4",children:u.map(b=>l.jsx("div",{className:"bg-slate-700 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:r[b.id]?l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",defaultValue:b.title,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2 font-semibold",onChange:N=>b.title=N.target.value}),l.jsx("textarea",{defaultValue:b.description,rows:3,className:"w-full bg-slate-600 text-white rounded-md px-3 py-2",onChange:N=>b.description=N.target.value}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",defaultValue:b.duration,className:"bg-slate-600 text-white rounded-md px-3 py-2",onChange:N=>b.duration=parseInt(N.target.value)}),l.jsx("input",{type:"number",defaultValue:b.price_override||"",placeholder:"Srlig pris (valgfrit)",className:"bg-slate-600 text-white rounded-md px-3 py-2",onChange:N=>b.price_override=N.target.value?parseInt(N.target.value):null})]})]}):l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:b.title}),l.jsx("p",{className:"text-slate-300 mb-3",children:b.description}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[l.jsxs("span",{children:["Varighed: ",b.duration," min"]}),l.jsxs("span",{children:["Pris: ",b.price_override||(b.duration>60?a.base_price:a.price)," kr"]})]})]})}),l.jsx("div",{className:"flex gap-2 ml-4",children:r[b.id]?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>k(b.id,b),className:"text-green-400 hover:text-green-300 p-1",children:l.jsx(bs,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>n(N=>({...N,[b.id]:!1})),className:"text-gray-400 hover:text-gray-300 p-1",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>n(N=>({...N,[b.id]:!0})),className:"text-blue-400 hover:text-blue-300 p-1",children:l.jsx(ks,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>_(b.id),className:"text-red-400 hover:text-red-300 p-1",children:l.jsx(Jf,{className:"w-4 h-4"})})]})})]})},b.id))})]})]})},wy=()=>{const[e,t]=S.useState("overview"),r=[{id:"overview",label:"Oversigt",icon:lu},{id:"bookings",label:"Bookinger",icon:gn},{id:"availability",label:"Tider",icon:ws},{id:"profile",label:"Profil",icon:uy}],n=[{label:"Denne uge",value:"0",subtitle:"Bookinger",icon:gn,color:"blue"},{label:"Nste uge",value:"0",subtitle:"Ledige slots",icon:ws,color:"green"},{label:"Denne mned",value:"0 kr",subtitle:"Indtjening",icon:ro,color:"yellow"},{label:"Total",value:"0",subtitle:"Gennemfrte sessioner",icon:Xf,color:"purple"}],s=()=>{switch(e){case"bookings":return l.jsx(vy,{});case"availability":return l.jsx(xy,{});case"profile":return l.jsx(yy,{});default:return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((i,a)=>{const o={blue:"border-blue-500 bg-blue-500/10",green:"border-green-500 bg-green-500/10",yellow:"border-yellow-500 bg-yellow-500/10",purple:"border-purple-500 bg-purple-500/10"},u={blue:"text-blue-400",green:"text-green-400",yellow:"text-yellow-400",purple:"text-purple-400"};return l.jsxs("div",{className:`border-2 ${o[i.color]} p-6 rounded-lg`,children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx(i.icon,{className:`w-8 h-8 ${u[i.color]}`})}),l.jsx("p",{className:"text-2xl font-bold text-white",children:i.value}),l.jsx("p",{className:"text-slate-300 text-sm",children:i.subtitle}),l.jsx("p",{className:"text-slate-400 text-xs mt-1",children:i.label})]},a)})}),l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(qc,{className:"w-5 h-5"}),"Seneste aktivitet"]}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(qc,{className:"w-12 h-12 text-slate-500 mx-auto mb-3"}),l.jsx("p",{className:"text-slate-400",children:"Ingen aktivitet endnu"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Din aktivitet vil blive vist her"})]})]})]})}};return l.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tutor Dashboard"}),l.jsx("p",{className:"text-slate-400",children:"Administrer dine sessioner, tider og profil"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-slate-700",children:r.map(i=>l.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg font-medium transition-colors ${e===i.id?"bg-green-600 text-white border-b-2 border-green-400":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[l.jsx(i.icon,{className:"w-4 h-4"}),i.label]},i.id))}),s()]})},Yf=S.createContext(),ei={getItem:e=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.getItem(e)}catch(t){console.warn("localStorage getItem failed:",t)}return null},setItem:(e,t)=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.setItem(e,t),!0}catch(r){console.warn("localStorage setItem failed:",r)}return!1},removeItem:e=>{try{if(typeof window<"u"&&window.localStorage)return localStorage.removeItem(e),!0}catch(t){console.warn("localStorage removeItem failed:",t)}return!1}},bt=(e,t)=>{const r=(t==null?void 0:t.role)==="TUTOR",n=e==="b2b";return r?{primary:"bg-purple-600",primaryHover:"hover:bg-purple-700",primaryLight:"bg-purple-500",primaryLightHover:"hover:bg-purple-500",ring:"ring-purple-500",focus:"focus:ring-purple-500",text:"text-purple-400",textHover:"hover:text-purple-300",shadow:"shadow-purple-600/30"}:n?{primary:"bg-green-600",primaryHover:"hover:bg-green-700",primaryLight:"bg-green-500",primaryLightHover:"hover:bg-green-500",ring:"ring-green-500",focus:"focus:ring-green-500",text:"text-green-400",textHover:"hover:text-green-300",shadow:"shadow-green-600/30"}:{primary:"bg-blue-600",primaryHover:"hover:bg-blue-700",primaryLight:"bg-blue-500",primaryLightHover:"hover:bg-blue-500",ring:"ring-blue-500",focus:"focus:ring-blue-500",text:"text-blue-400",textHover:"hover:text-blue-300",shadow:"shadow-blue-600/30"}},ky=({children:e})=>{const[t,r]=S.useState(()=>{if(typeof window<"u"){const u=new URLSearchParams(window.location.search).get("mode");if(u&&(u==="b2b"||u==="b2c"))return ei.setItem("ai-rookie-site-mode",u),u}return ei.getItem("ai-rookie-site-mode")||"b2c"}),n=S.useCallback(a=>{a&&(a==="b2b"||a==="b2c")&&(r(a),ei.setItem("ai-rookie-site-mode",a))},[]),s=S.useMemo(()=>a=>{const o=t==="b2b"?"b2c":"b2b";r(o),ei.setItem("ai-rookie-site-mode",o),a&&typeof a=="function"&&a(o)},[t]),i=S.useMemo(()=>({siteMode:t,toggleSiteMode:s,setSiteModeDirectly:n}),[t,s,n]);return l.jsx(Yf.Provider,{value:i,children:e})},Ke=()=>{const e=S.useContext(Yf);if(!e)throw new Error("useSiteMode must be used within a SiteModeProvider");return e},by=[{quote:"Efter tre teamworkshops fik vores marketingafdeling fordoblet outputtet uden ekstra budget. AI Rookie Enterprise var lynhurtigt tjent hjem.",name:"Stine .",role:"CMO, SaaSscaleup"},{quote:"Vores salgspipeline er blevet 30 % hurtigere. Investeringen i gruppesessioner gav positiv ROI p under en mned.",name:"Poul A.",role:"Chief Revenue Officer"},{quote:"Automatiseringen af vores kvalitetskontrol har sparet os 15 timer om ugen. Fantastisk ROI!",name:"Thomas B.",role:"Operations Director"}],jy=[{quote:"Jeg troede, jeg var bagud, men efter f sessions flte jeg mig som den skarpeste i teamet. Det handler ikke om at lre alt, men at lre det rigtige. Det forstod min tutor perfekt.",name:"Charlotte P.",role:"Projektleder, 44"},{quote:"Det at kunne tale kvalificeret om AI med ledelsen og kunder har givet mig en helt ny selvtillid. Det er den bedste investering, jeg har lavet i min karriere i revis.",name:"Michael B.",role:"Key Account Manager, 51"}],_y={individual:1,team:8,program:25},ou={individual:"1til1 sparring",team:"Teamworkshop (op til 10 pers.)",program:"6ugers forlb"},Gc={individual:1,group:.7},Sy={individual:"1til1 session",group:"Gruppesession (op til 10 deltagere)"},Ny={individual:"Personlig session kun for dig",group:"Flles session med andre deltagere - spar 30%"},rr={isValidDate:e=>e instanceof Date&&!isNaN(e.getTime()),addDays:(e,t)=>{if(!rr.isValidDate(e)||typeof t!="number")return null;const r=new Date(e);return r.setDate(e.getDate()+t),r},formatDateKey:e=>{if(!rr.isValidDate(e))return null;try{return e.toISOString().split("T")[0]}catch(t){return console.warn("Date formatting failed:",t),null}}},Ey=e=>{if(!e||typeof e!="number")return console.warn("Invalid tutorId provided to generateAvailabilitySlots"),[];const t=[],r=new Date;if(!rr.isValidDate(r))return console.error("Invalid date in generateAvailabilitySlots"),[];for(let n=1;n<=14;n++){const s=rr.addDays(r,n);if(!s)continue;const i=s.getDay();if((i===0||i===6)&&e%3!==0)continue;const a=rr.formatDateKey(s);if(!a)continue;const o=[],u=e%2===0?9:10,c=e%3===0?17:16;for(let d=u;d<=c;d++){if(d===12)continue;((e*1e3+n*100+d)*9301+49297)%233280/233280>.3&&o.push({time:`${d.toString().padStart(2,"0")}:00`,available:!0,booked:!1})}o.length>0&&t.push({date:a,slots:o})}return t},Ty=e=>Ey(e),Cy=({onAuthClick:e,onProfileClick:t})=>{const{user:r,isAuthenticated:n}=We(),{siteMode:s}=Ke(),i=bt(s,r);return n&&r?l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-white text-sm",children:[l.jsx(ir,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:block",children:r.name})]})}):l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:()=>e("login"),className:`flex items-center gap-1 px-4 py-2 ${i.primary} ${i.primaryHover} rounded-lg transition-colors text-white text-sm font-semibold shadow-lg`,children:[l.jsx(Gf,{className:"w-4 h-4"}),l.jsx("span",{children:"Kom i gang"})]})})},Zf=({onModeChange:e})=>{const{siteMode:t,toggleSiteMode:r}=Ke(),{isAuthenticated:n,user:s}=We(),i=(s==null?void 0:s.role)==="TUTOR";console.log("SiteModeToggle - isAuthenticated:",n,"user:",s==null?void 0:s.email);const a=()=>{n?console.log("Toggle blocked - user is authenticated"):r(e)};return i?l.jsx("div",{className:"flex items-center bg-slate-800 rounded-xl p-1 border border-slate-600",children:l.jsxs("button",{disabled:!0,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 bg-purple-600 text-white shadow-lg shadow-purple-600/30",title:"Tutor mode - Aktiv",children:[l.jsx(cy,{className:"w-4 h-4"}),"Tutor",l.jsx("span",{className:"text-xs bg-purple-500 px-1.5 py-0.5 rounded-full",children:"Aktiv"}),l.jsx(Zn,{className:"w-4 h-4 text-white",title:"Lst - Tutor mode"})]})}):l.jsxs("div",{className:"flex items-center bg-slate-800 rounded-xl p-1 border border-slate-600",children:[l.jsxs("button",{onClick:()=>t!=="b2b"&&a(),disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 ${t==="b2b"?"bg-green-600 text-white shadow-lg shadow-green-600/30":n?"text-slate-600 cursor-not-allowed":"text-slate-400 hover:text-green-400 hover:bg-slate-700"}`,title:n?"Du kan ikke skifte side-type efter login":t==="b2b"?"Aktiv: B2B mode":"Skift til B2B mode",children:[l.jsx(ey,{className:"w-4 h-4"}),"B2B",t==="b2b"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs bg-green-500 px-1.5 py-0.5 rounded-full",children:"Aktiv"}),n&&l.jsx(Zn,{className:"w-4 h-4 text-white",title:"Lst - Du kan ikke skifte side-type efter login"})]})]}),l.jsxs("button",{onClick:()=>t!=="b2c"&&a(),disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-200 ${t==="b2c"?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":n?"text-slate-600 cursor-not-allowed":"text-slate-400 hover:text-blue-400 hover:bg-slate-700"}`,title:n?"Du kan ikke skifte side-type efter login":t==="b2c"?"Aktiv: B2C mode":"Skift til B2C mode",children:[l.jsx(ir,{className:"w-4 h-4"}),"B2C",t==="b2c"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs bg-blue-500 px-1.5 py-0.5 rounded-full",children:"Aktiv"}),n&&l.jsx(Zn,{className:"w-4 h-4 text-white",title:"Lst - Du kan ikke skifte side-type efter login"})]})]})]})},Py=({isOpen:e,onClose:t,currentPage:r,onAuthClick:n,onProfileClick:s,isAuthenticated:i,user:a})=>{const o=Or(),{siteMode:u}=Ke(),c=bt(u,a),d=(a==null?void 0:a.role)==="TUTOR",h=x=>{o(x==="home"?"/":`/${x}`),t()};if(!e)return null;const v=(()=>{if(d)return[{label:"Hjem",key:"home"},{label:"Tutor Dashboard",key:"tutor-dashboard"}];const x=u==="b2b"?[{label:"Hjem",key:"home"},{label:"Eksperter",key:"tutors"}]:[{label:"Hjem",key:"home"},{label:"Find Tutor",key:"tutors"}];return i&&x.push({label:"Dashboard",key:"dashboard"}),x})();return l.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),l.jsxs("div",{className:"fixed top-0 right-0 h-full w-64 bg-slate-800 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[l.jsx("span",{className:"text-white font-bold",children:"Menu"}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:l.jsx(vn,{size:24})})]}),l.jsx("div",{className:"p-4 border-b border-slate-700",children:l.jsx(Zf,{onModeChange:()=>{o("/"),t()}})}),l.jsx("nav",{className:"p-4 space-y-2",children:v.map(x=>l.jsx("button",{onClick:()=>h(x.key),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium ${r===x.key?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-700"}`,children:x.label},x.key))}),l.jsx("div",{className:"p-4 border-t border-slate-700",children:i?l.jsxs("button",{onClick:()=>{s(),t()},className:"w-full flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors text-white text-sm",children:[l.jsx(ir,{className:"w-4 h-4"}),"Min Profil"]}):l.jsxs("button",{onClick:()=>{n("login"),t()},className:`w-full flex items-center gap-2 px-3 py-2 ${c.primary} ${c.primaryHover} rounded-lg transition-colors text-white text-sm font-semibold shadow-lg`,children:[l.jsx(Gf,{className:"w-4 h-4"}),"Kom i gang"]})})]})]})},Ay=({tutor:e,onSelect:t,isExpanded:r,onExpand:n})=>{const{siteMode:s}=Ke(),{user:i}=We(),a=bt(s,i),o=s==="b2b";return l.jsxs("div",{className:`bg-slate-800 rounded-lg overflow-hidden transition-all duration-300 ${r?`ring-2 ${a.ring}`:"hover:bg-slate-700/50"}`,children:[l.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center gap-6",children:[l.jsx("img",{src:e.img,alt:e.name,className:"w-24 h-24 rounded-full mx-auto sm:mx-0 flex-shrink-0 border-4 border-slate-700"}),l.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:e.name}),l.jsx("p",{className:"text-blue-400 font-semibold",children:e.title}),l.jsxs("p",{className:"text-sm text-slate-300 mt-1 flex items-center justify-center sm:justify-start gap-2",children:[l.jsx(ay,{className:"w-4 h-4 text-yellow-400"})," ",e.specialty]}),o&&e.valueProp&&l.jsx("p",{className:"text-slate-400 text-xs mt-2 italic",children:e.valueProp}),!o&&e.experience&&l.jsx("p",{className:"text-slate-400 text-xs mt-2 italic",children:e.experience})]}),l.jsx("div",{className:"flex-shrink-0 mt-4 sm:mt-0",children:l.jsxs("button",{onClick:()=>n(e.id),className:`${a.primary} ${a.primaryLightHover} text-white font-bold py-2 px-6 rounded-lg transition-colors flex items-center gap-2`,children:[o?"Se Workshops":"Vlg Session & Se Pris"," ",l.jsx(ty,{className:`transition-transform ${r?"rotate-180":""}`})]})})]}),r&&l.jsxs("div",{className:"bg-slate-800/50 px-6 pb-6 pt-4 border-t border-slate-700",children:[l.jsx("h4",{className:"font-bold text-white mb-3",children:o?"Vlg et emne:":"Vlg et emne for din session:"}),l.jsx("div",{className:"space-y-4",children:e.sessions.map(u=>l.jsxs("div",{className:"bg-slate-700 p-4 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:u.title}),l.jsx("p",{className:"text-sm text-slate-400",children:u.description})]}),l.jsxs("div",{className:"flex-shrink-0 text-center",children:[!o&&l.jsxs("p",{className:"text-xl font-bold text-white",children:[e.price,",-"]}),l.jsxs("button",{onClick:()=>t(e,u),className:`${o?"":"mt-1"} ${a.primary} ${a.primaryLightHover} text-white text-sm font-bold py-2 px-5 rounded-lg transition-colors flex items-center gap-2`,children:["Book ",l.jsx(Wf,{size:16})]})]})]},u.id))})]})]})},em=()=>l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}),Oy=({tutor:e,selectedDateTime:t,onSelectDateTime:r})=>{const[n,s]=S.useState(0),{siteMode:i}=Ke(),{user:a}=We(),o=bt(i,a);if(!e||!e.id)return l.jsx("div",{className:"bg-slate-800 rounded-lg p-6",children:l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx(to,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Tutor information ikke tilgngelig"})]})});const u=S.useMemo(()=>{try{return Ty(e.id)}catch(y){return console.error("Failed to get tutor availability:",y),[]}},[e.id]),d=(y=>{const w=[],g=new Date,p=new Date(g);p.setDate(g.getDate()+1+y*7);for(let f=0;f<7;f++){const k=new Date(p);k.setDate(p.getDate()+f),w.push(k)}return w})(n),h=2,m=y=>y.toLocaleDateString("da-DK",{weekday:"short",day:"numeric",month:"short"}),v=y=>y.toISOString().split("T")[0],x=y=>{const w=v(y);return u.find(g=>g.date===w)};return l.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(gn,{className:"w-5 h-5"}),"Vlg tid med ",e.name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>s(Math.max(0,n-1)),disabled:n===0,className:"p-1 rounded-full hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ry,{className:"w-5 h-5 text-slate-400"})}),l.jsxs("span",{className:"text-sm text-slate-400 min-w-[80px] text-center",children:["Uge ",n+1]}),l.jsx("button",{onClick:()=>s(Math.min(h-1,n+1)),disabled:n>=h-1,className:"p-1 rounded-full hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ny,{className:"w-5 h-5 text-slate-400"})})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:d.map((y,w)=>{const g=x(y),p=g&&g.slots.length>0;return l.jsxs("div",{className:`p-2 rounded-lg text-center text-sm ${p?"bg-slate-700 text-white":"bg-slate-800 text-slate-500"}`,children:[l.jsx("div",{className:"font-medium",children:m(y)}),p&&l.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[g.slots.length," slots"]})]},w)})}),l.jsx("div",{className:"space-y-4",children:d.map((y,w)=>{const g=x(y);return!g||g.slots.length===0?null:l.jsxs("div",{className:"border-t border-slate-700 pt-4 first:border-t-0 first:pt-0",children:[l.jsx("h4",{className:"font-medium text-white mb-2",children:m(y)}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:g.slots.map((p,f)=>{const k=`${v(y)}T${p.time}`,E=t===k;return l.jsx("button",{onClick:()=>r(k),className:`p-2 rounded-lg text-sm font-medium transition-colors ${E?`${o.primary} text-white`:"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:p.time},f)})})]},w)})}),u.length===0&&l.jsxs("div",{className:"text-center py-8 text-slate-400",children:[l.jsx(to,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"Ingen ledige tider i jeblikket"})]})]})},Iy=()=>{const e=Or(),{user:t,isAuthenticated:r}=We(),{siteMode:n}=Ke(),s=bt(n,t),i=850;return l.jsxs("div",{className:"space-y-24 pb-20",children:[l.jsxs("section",{className:"text-center pt-20 pb-14 max-w-3xl mx-auto",children:[l.jsxs("h1",{className:"text-5xl sm:text-6xl font-extrabold text-white leading-tight",children:["Hello ",l.jsx("span",{className:"text-green-400",children:"AI Rookie"})]}),l.jsx("p",{className:"mt-4 text-lg text-slate-300",children:"AI Rookie Enterprise leverer handson workshops og forlb, der omstter AI til mlbare resultater p bundlinjen."}),l.jsxs("button",{onClick:()=>e("/tutors"),className:`mt-8 ${s.primary} text-white font-bold text-lg py-4 px-8 rounded-lg transform hover:scale-105 transition-transform shadow-lg ${s.shadow}`,children:[l.jsx(zi,{className:"inline-block mr-2"})," Udforsk Eksperter"]}),l.jsxs("p",{className:"mt-6 text-slate-400 text-sm",children:["Fra kun ",i," kr. pr. medarbejder for 1til1sessioner."]})]}),l.jsxs("section",{className:"bg-slate-800/50 rounded-lg p-10 max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"Din bundlinje"}),l.jsx("p",{className:"text-center text-slate-400 mb-10 max-w-3xl mx-auto",children:"Uanset om det glder marketing, salg eller operationel excellence, leverer vores eksperter mlbare forbedringer, der kan aflses i KPIerne."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg shadow-xl shadow-green-500/20",children:[l.jsx(ma,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"02 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"ROI"}),"  Mleligt afkast"]}),l.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Se konkrete KPIlft og en paybacktid p max 8 uger."})]}),l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(Xf,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"6 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"Team"}),"  Hurtig adoption"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Hele afdelingen arbejder sikkert med AIflows og best practices."})]}),l.jsxs("div",{className:"border-2 border-green-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(lu,{className:"w-10 h-10 mx-auto text-green-400 mb-2"}),l.jsx("p",{className:"font-bold text-green-400 text-sm mb-1",children:"1 R"}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-green-400",children:"Skalering"}),"  Vedvarende effekt"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"AIkompetencer forankret p tvrs af organisationen."})]})]})]}),l.jsxs("section",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"HR og L&Dchefer fortller"}),l.jsx("div",{className:"space-y-8",children:by.map((a,o)=>l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg max-w-2xl mx-auto",children:[l.jsxs("p",{className:"text-slate-300 text-lg italic",children:['"',a.quote,'"']}),l.jsxs("p",{className:"mt-4 font-bold text-white text-right",children:[" ",a.name,", ",l.jsx("span",{className:"text-slate-400",children:a.role})]})]},o))})]})]})},Ry=()=>{const e=Or(),{user:t,isAuthenticated:r}=We(),{siteMode:n}=Ke(),s=bt(n,t),i=475;return l.jsxs("div",{className:"space-y-20 sm:space-y-28 pb-20",children:[l.jsxs("section",{className:"text-center pt-20 pb-10",children:[l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight",children:["Hello ",l.jsx("span",{className:"text-blue-400",children:"AI Rookie"})]}),l.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-300",children:"Gr AI til din personlige styrke. Lr prcis de frdigheder, du har brug for, og omst dem til konkrete fordele i din karriere  hurtigt og effektivt."}),l.jsxs("button",{onClick:()=>e("/tutors"),className:`mt-8 ${s.primary} text-white font-bold text-lg py-4 px-8 rounded-lg transform hover:scale-105 transition-transform shadow-lg ${s.shadow}`,children:[l.jsx(zi,{className:"inline-block mr-2"})," Find Din Vej til AI"]}),l.jsx("div",{className:"mt-6",children:l.jsxs("p",{className:"text-lg text-white",children:["En investering i din karriere. ",l.jsxs("span",{className:"font-bold text-blue-400",children:["Fra kun ",i," kr. pr. session."]})]})})]}),l.jsxs("section",{className:"bg-slate-800/50 rounded-lg p-8 max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-2",children:"Din karriere"}),l.jsx("p",{className:"text-center text-slate-400 mb-10 max-w-3xl mx-auto",children:"AI-kompetencer er p en rejse fra at vre en unik fordel til at blive en fundamental forventning. Her ser du, hvorfor det er en fordel at handle nu."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg shadow-xl shadow-blue-500/20",children:[l.jsx(zi,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"02 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Kickstart"}),"  Synlige sejre"]}),l.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Spar 24 timer om ugen og imponer chefen med hurtige AIlsninger."})]}),l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(su,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"6 MDR."}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Trovrdighed"}),"  Bliv gotoperson"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:'Du er nu "AIchamp" i teamet og driver sm projekter p egne ben.'})]}),l.jsxs("div",{className:"border-2 border-blue-500 bg-slate-800 p-6 rounded-lg",children:[l.jsx(lu,{className:"w-10 h-10 mx-auto text-blue-400 mb-2"}),l.jsx("p",{className:"font-bold text-blue-400 text-sm mb-1",children:"1 R"}),l.jsxs("h3",{className:"text-xl font-bold text-white mt-2 mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Karriereboost"}),"  Klar til nste step"]}),l.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Du har dokumenteret impact og str strkt til ln eller stillingshop."})]})]})]}),l.jsxs("section",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Hr fra andre professionelle, der har styrket deres karriere"}),l.jsx("div",{className:"space-y-8",children:jy.map((a,o)=>l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg max-w-2xl mx-auto",children:[l.jsxs("p",{className:"text-slate-300 text-lg italic",children:['"',a.quote,'"']}),l.jsxs("p",{className:"mt-4 font-bold text-white text-right",children:[" ",a.name,", ",l.jsx("span",{className:"font-normal text-slate-400",children:a.role})]})]},o))})]})]})},$y=()=>{const{siteMode:e}=Ke();return e==="b2b"?l.jsx(Iy,{}):l.jsx(Ry,{})},Dy=()=>{const[e,t]=S.useState(null),r=Or(),{siteMode:n}=Ke(),{user:s}=We(),i=bt(n,s),{data:a=[],loading:o,error:u}=Wx(n.toUpperCase()),c=n==="b2b",d=(h,m)=>{r("/booking",{state:{tutor:h,session:m}})};return o?l.jsx("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx(em,{})})}):u?l.jsx("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-red-400 mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Failed to load tutors"}),l.jsx("p",{className:"text-slate-400 mt-2",children:u})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:`${i.primary} ${i.primaryHover} text-white px-6 py-2 rounded-lg transition-colors`,children:"Try Again"})]})}):l.jsxs("div",{className:"max-w-4xl mx-auto py-12 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-4xl font-bold text-white",children:c?"Vlg ekspert og workshop":"Find en tutor, der forstr din verden"}),l.jsx("p",{className:"text-slate-400 mt-2 max-w-2xl mx-auto",children:c?"Alle vores eksperter har selv implementeret AI i forretningskritiske processer.":"Vores tutorer er erfarne fagfolk, ikke kun tekniske eksperter. De fokuserer p de resultater, der betyder noget i din karriere."})]}),l.jsx("div",{className:"space-y-6",children:a.map(h=>l.jsx(Ay,{tutor:h,isExpanded:e===h.id,onExpand:m=>t(v=>v===m?null:m),onSelect:d},h.id))})]})},Ly=()=>{const e=Or(),t=Cs(),{siteMode:r}=Ke(),{user:n,isAuthenticated:s}=We(),{createBooking:i,loading:a,error:o,clearError:u}=Gx(),c=bt(r,n),d=r==="b2b",[h,m]=S.useState(d?"team":"individual"),[v,x]=S.useState({company:"",department:"",participants:10,contactName:"",contactEmail:"",contactPhone:""}),[y,w]=S.useState(""),[g,p]=S.useState(!1),[f,k]=S.useState({}),[E,_]=S.useState(!1),{tutor:b,session:N}=t.state||{};Ge.useEffect(()=>{s||e("/")},[s,e]),Ge.useEffect(()=>{n&&x(C=>({...C,contactName:n.name||"",contactEmail:n.email||"",contactPhone:n.phone||"",company:n.company||"",department:n.department||""}))},[n]);const A=()=>{var D,ge,ce,Se,I;const C={};try{if(d&&((D=v.company)!=null&&D.trim()||(C.company="Virksomhedsnavn er pkrvet og m ikke vre tomt"),(ge=v.department)!=null&&ge.trim()||(C.department="Afdeling er pkrvet og m ikke vre tomt"),(ce=v.contactPhone)!=null&&ce.trim()||(C.contactPhone="Telefon er pkrvet og m ikke vre tomt"),h==="team")){const z=parseInt(v.participants);(isNaN(z)||z<2||z>10)&&(C.participants="Antal deltagere skal vre et tal mellem 2 og 10")}(Se=v.contactName)!=null&&Se.trim()||(C.contactName=d?"Kontaktperson er pkrvet og m ikke vre tomt":"Dit navn er pkrvet og m ikke vre tomt");const B=(I=v.contactEmail)==null?void 0:I.trim();if(B?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B)||(C.contactEmail="Indtast venligst en gyldig email-adresse (f.eks. navn@example.com)"):C.contactEmail="Email er pkrvet",!(y!=null&&y.trim()))C.selectedDateTime="Vlg venligst en tid for sessionen fra kalenderen";else try{const z=new Date(y);rr.isValidDate(z)?z<new Date&&(C.selectedDateTime="Kan ikke booke tid i fortiden. Vlg venligst en fremtidig tid."):C.selectedDateTime="Den valgte tid er ugyldig. Vlg venligst en ny tid."}catch{C.selectedDateTime="Den valgte tid har et ugyldigt format. Vlg venligst en ny tid."}}catch(B){console.error("Validation error:",B),C.general="Der opstod en fejl ved validering. Prv venligst igen."}return k(C),Object.keys(C).length===0},P=async C=>{C.preventDefault();try{if(!A())return;if(p(!0),k({}),u(),!b||!N){k({general:"Tutor eller session information mangler. Prv at vlge en tutor igen."}),p(!1);return}let D=d&&b.basePrice||b.price;h==="team"&&v.participants&&(D=D*v.participants);const ge={tutorId:b.id,sessionId:N.id,format:h.toUpperCase(),selectedDateTime:y,participants:h==="team"?v.participants:1,siteMode:r.toUpperCase(),contactName:v.contactName,contactEmail:v.contactEmail,contactPhone:v.contactPhone||"",company:d?v.company:"",department:d?v.department:"",notes:""},ce=await i(ge);if(ce.success){const Se={...ce.data,tutor:{...b},session:{...N},totalPrice:D,siteMode:r};d?e("/booking-success",{state:{booking:Se}}):_(!0)}else k({general:ce.error||"Der opstod en fejl ved booking. Prv igen senere."})}catch(D){console.error("Booking submission error:",D),k({general:o||D.message||"Der opstod en fejl ved booking. Prv igen senere."})}finally{p(!1)}},$=(C,D)=>{x(ge=>({...ge,[C]:D})),f[C]&&k(ge=>({...ge,[C]:""}))};if(!b||!N)return l.jsxs("div",{className:"max-w-2xl mx-auto py-20 text-center",children:[l.jsx("h1",{className:"text-2xl text-white mb-4",children:d?"Vlg venligst en workshop frst.":"Vlg venligst en tutor og et sessionsemne frst."}),l.jsx("button",{onClick:()=>e("/tutors"),className:`${c.primary} ${c.primaryLightHover} text-white font-bold py-2 px-6 rounded-lg`,children:d?"Tilbage til eksperter":"Tilbage til Tutorer"})]});if(!d&&E)return l.jsx("div",{className:"max-w-2xl mx-auto py-20 text-center",children:l.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg",children:[l.jsx(su,{className:"w-16 h-16 mx-auto text-green-400"}),l.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Fantastisk! Du er i gang."}),l.jsxs("p",{className:"text-slate-300 mt-2",children:["Din bookingforesprgsel er sendt til ",l.jsx("span",{className:"font-bold text-blue-400",children:b.name}),", som kontakter dig inden for 24 timer for at aftale jeres ",h==="individual"?"1-til-1 session":"gruppesession"," om ",l.jsxs("span",{className:"font-bold text-blue-400",children:['"',N.title,'"']}),"."]}),y&&l.jsx("div",{className:"mt-4 p-3 bg-slate-700 rounded-lg",children:l.jsxs("p",{className:"text-sm text-slate-300",children:[l.jsx("strong",{children:"nsket tid:"})," ",(()=>{try{const C=new Date(y);if(!rr.isValidDate(C))return"Ugyldig dato";const D=y.includes("T")?y.split("T")[1]:"";return`${C.toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})} kl. ${D}`}catch(C){return console.warn("Date formatting error:",C),"Dato ikke tilgngelig"}})()]})}),l.jsx("button",{onClick:()=>e("/dashboard"),className:`mt-6 ${c.primary} ${c.primaryLightHover} text-white font-bold py-2 px-6 rounded-lg transition-colors`,children:"Se dit Karriere-Dashboard"})]})});const V=d?b.basePrice*_y[h]:b.price*Gc[h];return l.jsxs("div",{className:"max-w-3xl mx-auto py-12 sm:py-20",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold text-white",children:["Bekrft ",d?"booking":"din booking"]}),l.jsxs("p",{className:"text-slate-300 mt-2",children:[d?"I er ved at booke":"Du er ved at booke"," ",l.jsx("span",{className:`${d?"text-green-400":"text-blue-400"} font-bold`,children:b.name})," til ",d?"workshoppen":"en session om:"]}),l.jsxs("p",{className:"text-xl font-semibold text-white mt-1",children:['"',N.title,'"']})]}),l.jsxs("form",{onSubmit:P,className:"bg-slate-800 p-8 rounded-lg space-y-6",children:[f.general&&l.jsx("div",{className:"bg-red-900/50 border border-red-600 rounded-lg p-4",children:l.jsx("p",{className:"text-red-200 text-sm",children:f.general})}),d?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Virksomhed *"}),l.jsx("input",{type:"text",value:v.company,onChange:C=>$("company",C.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.company?"border-red-500":""}`}),f.company&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.company})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Afdeling / Team *"}),l.jsx("input",{type:"text",value:v.department,onChange:C=>$("department",C.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.department?"border-red-500":""}`}),f.department&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.department})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Kontaktperson *"}),l.jsx("input",{type:"text",value:v.contactName,onChange:C=>$("contactName",C.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.contactName?"border-red-500":""}`}),f.contactName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.contactName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email *"}),l.jsx("input",{type:"email",value:v.contactEmail,onChange:C=>$("contactEmail",C.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.contactEmail?"border-red-500":""}`}),f.contactEmail&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.contactEmail})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telefon *"}),l.jsx("input",{type:"tel",value:v.contactPhone,onChange:C=>$("contactPhone",C.target.value),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.contactPhone?"border-red-500":""}`}),f.contactPhone&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.contactPhone})]})]}),l.jsxs("fieldset",{className:"border border-slate-700 rounded-md p-4",children:[l.jsx("legend",{className:"text-slate-400 text-sm px-2",children:"Format"}),l.jsx("div",{className:"space-y-3",children:Object.entries(ou).map(([C,D])=>l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"radio",name:"format",value:C,checked:h===C,onChange:()=>m(C),className:"text-green-600 focus:ring-green-500"}),l.jsx("span",{className:"text-slate-300",children:D})]},C))})]}),h==="team"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Antal deltagere (2-10) *"}),l.jsx("input",{type:"number",min:"2",max:"10",value:v.participants,onChange:C=>$("participants",parseInt(C.target.value)),className:`w-full bg-slate-700 rounded-md py-2 px-3 text-white focus:ring-2 focus:ring-green-500 ${f.participants?"border-red-500":""}`}),f.participants&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.participants})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Dit navn *"}),l.jsx("input",{type:"text",value:v.contactName,onChange:C=>$("contactName",C.target.value),className:`w-full bg-slate-700 border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.contactName?"border-red-500":""}`,placeholder:"Fx John Doe"}),f.contactName&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.contactName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Din email *"}),l.jsx("input",{type:"email",value:v.contactEmail,onChange:C=>$("contactEmail",C.target.value),className:`w-full bg-slate-700 border-slate-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.contactEmail?"border-red-500":""}`,placeholder:"Fx john.doe@example.com"}),f.contactEmail&&l.jsx("p",{className:"text-red-400 text-sm mt-1",children:f.contactEmail})]}),l.jsxs("fieldset",{className:"border border-slate-700 rounded-md p-4",children:[l.jsx("legend",{className:"text-slate-400 text-sm px-2",children:"Vlg sessiontype"}),l.jsx("div",{className:"space-y-3",children:Object.entries(Sy).map(([C,D])=>l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"format",value:C,checked:h===C,onChange:()=>m(C),className:"mt-1 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-slate-300 font-medium",children:D}),l.jsxs("span",{className:"text-lg font-bold text-white",children:[Math.round(b.price*Gc[C]),",-"]})]}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:Ny[C]})]})]},C))})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx(Oy,{tutor:b,selectedDateTime:y,onSelectDateTime:w}),f.selectedDateTime&&l.jsx("p",{className:"text-red-400 text-sm mt-2",children:f.selectedDateTime})]}),l.jsxs("div",{className:"border-t border-slate-700 pt-6 text-center",children:[l.jsx("p",{className:"text-slate-400",children:d?"Total (ex. moms):":"Total pris:"}),l.jsxs("p",{className:"text-4xl font-extrabold text-white",children:[Math.round(V).toLocaleString("da-DK")," kr",d?".":",-"]}),!d&&h==="group"&&l.jsxs("p",{className:"text-sm text-green-400 mt-2",children:["Du sparer ",Math.round(b.price*.3)," kr. med gruppesession!"]}),l.jsx("button",{type:"submit",disabled:g||a,className:`mt-4 w-full ${c.primary} ${c.primaryLightHover} text-white font-bold py-3 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg flex items-center justify-center gap-2`,children:g||a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Behandler..."]}):l.jsxs(l.Fragment,{children:[d?"Bekrft booking":"Bekrft og send foresprgsel"," ",l.jsx(Wf,{size:20})]})})]})]})]})},My=()=>{var a,o,u,c;const e=Or(),t=Cs(),{siteMode:r}=Ke(),{user:n}=We(),s=bt(r,n),{booking:i}=t.state||{};return i?l.jsx("div",{className:"max-w-2xl mx-auto py-20 text-center",children:l.jsxs("div",{className:"bg-slate-800 p-8 rounded-lg",children:[l.jsx(su,{className:"w-16 h-16 mx-auto text-green-400"}),l.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:"Tak for jeres booking!"}),l.jsxs("p",{className:"text-slate-300 mt-2",children:[((o=(a=i.tutor)==null?void 0:a.user)==null?void 0:o.name)||((u=i.tutor)==null?void 0:u.name),' kontakter jer inden for 24 timer med praktiske detaljer om "',(c=i.session)==null?void 0:c.title,'" (',ou[i.format],")."]}),l.jsxs("div",{className:"mt-6 text-left bg-slate-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-white font-semibold mb-2",children:"Booking detaljer:"}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Virksomhed: ",i.company]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Afdeling: ",i.department]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Kontakt: ",i.contactName]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Email: ",i.contactEmail]}),l.jsxs("p",{className:"text-slate-300 text-sm",children:["Total: ",i.totalPrice.toLocaleString("da-DK")," kr."]}),i.selectedDateTime&&l.jsxs("p",{className:"text-slate-300 text-sm mt-2",children:[l.jsx("strong",{children:"nsket tid:"})," ",(()=>{try{const d=new Date(i.selectedDateTime);if(!rr.isValidDate(d))return"Ugyldig dato";const h=i.selectedDateTime.includes("T")?i.selectedDateTime.split("T")[1]:"";return`${d.toLocaleDateString("da-DK",{weekday:"long",year:"numeric",month:"long",day:"numeric"})} kl. ${h}`}catch(d){return console.warn("Date formatting error:",d),"Dato ikke tilgngelig"}})()]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:`flex-1 ${s.primary} ${s.primaryLightHover} text-white font-bold py-2 px-6 rounded-lg transition-colors`,children:"G til Dashboard"}),l.jsx("button",{onClick:()=>e("/"),className:"flex-1 bg-slate-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-slate-500 transition-colors",children:"Tilbage til forsiden"})]})]})}):l.jsxs("div",{className:"max-w-2xl mx-auto py-20 text-center",children:[l.jsx("h1",{className:"text-2xl text-white mb-4",children:"Booking ikke fundet"}),l.jsx("button",{onClick:()=>e("/"),className:`${s.primary} ${s.primaryLightHover} text-white font-bold py-2 px-6 rounded-lg`,children:"Tilbage til forsiden"})]})},Uy=()=>{const{siteMode:e}=Ke(),{user:t}=We(),r=bt(e,t),{data:n=[],loading:s,error:i}=Kx({siteMode:e.toUpperCase()}),a=e==="b2b";return s?l.jsx("div",{className:"max-w-6xl mx-auto py-12 sm:py-20",children:l.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:l.jsx(em,{})})}):i?l.jsx("div",{className:"max-w-6xl mx-auto py-12 sm:py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-red-400 mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Failed to load bookings"}),l.jsx("p",{className:"text-slate-400 mt-2",children:i})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:`${r.primary} ${r.primaryHover} text-white px-6 py-2 rounded-lg transition-colors`,children:"Try Again"})]})}):l.jsxs("div",{className:"max-w-6xl mx-auto py-12 sm:py-20 space-y-10",children:[l.jsx("h1",{className:"text-4xl font-bold text-white",children:a?"Virksomhedsdashboard":"Dit Karriere-Dashboard"}),!a&&l.jsx("p",{className:"text-slate-400 -mt-8",children:"Her tracker du din fremgang og ser effekten af dine nye kompetencer."}),n.length>0?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:a?"Jeres bookings":"Dine bookings"}),l.jsx("div",{className:"grid gap-4",children:n.map(o=>{var u,c,d,h;return l.jsx("div",{className:"bg-slate-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-white font-semibold",children:(u=o.session)==null?void 0:u.title}),l.jsxs("p",{className:"text-slate-300",children:["Med ",((d=(c=o.tutor)==null?void 0:c.user)==null?void 0:d.name)||((h=o.tutor)==null?void 0:h.name)]}),a&&o.company&&l.jsxs("p",{className:"text-slate-400 text-sm",children:[o.company," - ",o.department]}),a&&o.format&&l.jsx("p",{className:"text-slate-400 text-sm",children:ou[o.format]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white font-bold",children:[o.totalPrice.toLocaleString("da-DK")," kr."]}),l.jsx("p",{className:"text-slate-400 text-sm",children:new Date(o.bookingDate).toLocaleDateString("da-DK")})]})]})},o.id)})})]}),l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Statistik"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-green-400",children:n.length}),l.jsx("p",{className:"text-slate-400",children:a?"Bookede workshops":"Bookede sessioner"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[n.reduce((o,u)=>o+u.totalPrice,0).toLocaleString("da-DK")," kr."]}),l.jsx("p",{className:"text-slate-400",children:"Total investering"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:a?new Set(n.map(o=>o.department)).size:new Set(n.map(o=>o.tutor.name)).size}),l.jsx("p",{className:"text-slate-400",children:a?"Afdelinger involveret":"Forskellige tutorer"})]})]})]})]}):l.jsxs("div",{className:"bg-slate-800 p-10 rounded-lg flex flex-col items-center gap-6",children:[l.jsx(sy,{className:"w-14 h-14 text-slate-400"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-slate-300 text-lg mb-2",children:"Ingen bookings endnu"}),l.jsx("p",{className:"text-slate-400 max-w-xl",children:a?"Nr I har booket jeres frste workshop, vil I kunne flge progression og resultater her.":"Nr du har booket din frste session, vil du kunne flge din progression og resultater her."})]})]})]})},By=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[s,i]=S.useState("login"),[a,o]=S.useState(!1),u=Or(),c=Cs(),{siteMode:d}=Ke(),{isAuthenticated:h,user:m}=We(),v=_=>{i(_),n(!0)},x=()=>{o(!0)},y=c.pathname==="/"?"home":c.pathname.slice(1),w=d==="b2b",g=(m==null?void 0:m.role)==="TUTOR",{validateUserSiteMode:p}=We(),{setSiteModeDirectly:f}=Ke();S.useEffect(()=>{if(h&&m){const _=p(d);_.shouldRedirect&&(console.log(`User site mode mismatch: switching from ${d} to ${_.correctSiteMode}`),f(_.correctSiteMode))}},[h,m,d,p,f]);const E=(()=>{if(g)return[{label:"Hjem",key:"home",path:"/"},{label:"Tutor Dashboard",key:"tutor-dashboard",path:"/tutor-dashboard"}];const _=w?[{label:"Hjem",key:"home",path:"/"},{label:"Eksperter",key:"tutors",path:"/tutors"}]:[{label:"Hjem",key:"home",path:"/"},{label:"Find Tutor",key:"tutors",path:"/tutors"}];return h&&_.push({label:"Dashboard",key:"dashboard",path:"/dashboard"}),_})();return l.jsxs("div",{className:"min-h-screen bg-slate-900 font-sans text-slate-300",children:[l.jsx("header",{className:"bg-slate-900/80 backdrop-blur-sm sticky top-0 z-40 border-b border-slate-800",children:l.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("button",{onClick:()=>u("/"),className:"flex items-center gap-2 text-white text-2xl font-bold",children:[l.jsx(Zx,{className:`${w?"text-green-400":"text-blue-400"} h-8 w-8`}),l.jsxs("span",{children:["AI Rookie ",w&&l.jsx("span",{className:"font-light",children:"Enterprise"})]})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[l.jsx(Zf,{onModeChange:()=>u("/")}),l.jsx("div",{className:"h-6 w-px bg-slate-600"}),l.jsx("div",{className:"flex items-center gap-2",children:E.map(_=>l.jsx("button",{onClick:()=>u(_.path),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${y===_.key?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-700"}`,children:_.label},_.key))}),l.jsx(Cy,{onAuthClick:v,onProfileClick:x})]}),l.jsx("button",{className:"md:hidden text-slate-300 hover:text-white",onClick:()=>t(!0),children:l.jsx(ly,{size:24})})]})})}),l.jsx(Py,{isOpen:e,onClose:()=>t(!1),currentPage:y,onAuthClick:v,onProfileClick:x,isAuthenticated:h,user:m}),l.jsx("main",{className:"px-4 sm:px-6 lg:px-8",children:l.jsxs(_0,{children:[l.jsx(gr,{path:"/",element:l.jsx($y,{})}),l.jsx(gr,{path:"/tutors",element:l.jsx(Dy,{})}),l.jsx(gr,{path:"/booking",element:l.jsx(Ly,{})}),l.jsx(gr,{path:"/booking-success",element:l.jsx(My,{})}),l.jsx(gr,{path:"/dashboard",element:l.jsx(Uy,{})}),l.jsx(gr,{path:"/tutor-dashboard",element:l.jsx(wy,{})})]})}),l.jsx("footer",{className:"bg-slate-800 mt-20 border-t border-slate-700",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center space-y-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:w?"AI Rookie Enterprise  Realiser AIpotentialet i jeres forretning":"AI Rookie: Fra Lring til Konkret Karrierevrdi"}),l.jsxs("div",{className:"flex justify-center space-x-6",children:[l.jsx("button",{className:"text-slate-400 hover:text-white",children:w?"Kontakt":"Om Os"}),l.jsx("button",{className:"text-slate-400 hover:text-white",children:"Priser"}),l.jsx("button",{className:"text-slate-400 hover:text-white",children:w?"Demo":"Kontakt"})]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date().getFullYear()," AI Rookie",w?" Enterprise":"",". ",w?"Alle rettigheder forbeholdes.":"Styrk din karriere i dag."]})]})}),l.jsx(my,{isOpen:r,onClose:()=>n(!1),initialMode:s,siteMode:d}),l.jsx(py,{isOpen:a,onClose:()=>o(!1),siteMode:d})]})};function zy(){return l.jsx(gy,{children:l.jsx(Vx,{children:l.jsx(ky,{children:l.jsx(By,{})})})})}Ja.createRoot(document.getElementById("root")).render(l.jsx(Ge.StrictMode,{children:l.jsx(E0,{children:l.jsx(zy,{})})}));
//# sourceMappingURL=index-35253e42.js.map
